(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],Array(22).concat([function(e,t,n){},,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),s=n.n(c),i=n(27),r=n.n(i),a=n(8),o=n(3),j=n(1),l=Object(c.createContext)();function u(e){var t=e.children,n=Object(c.useState)(null),s=Object(o.a)(n,2),i=[s[0],s[1]];return Object(j.jsx)(l.Provider,{value:i,children:t})}var d=n(15),b=n(5),h=n(6),m=n(7),O=(n(48),{username:"",password:""});var f=function(e){var t=e.setShowSignup,n=Object(c.useContext)(l),s=Object(o.a)(n,2),i=(s[0],s[1]),r=Object(c.useState)(O),a=Object(o.a)(r,2),u=a[0],d=a[1],b=Object(c.useState)(null),f=Object(o.a)(b,2),A=f[0],x=f[1];function g(e){var t=e.target,n=t.name,c=t.value;d(Object(m.a)(Object(m.a)({},u),{},Object(h.a)({},n,c)))}return Object(j.jsxs)("div",{className:"login",children:[A?Object(j.jsx)("p",{className:"error",children:A}):null,Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then((function(e){d(O),e.ok?e.json().then((function(e){localStorage.setItem("jwt",e.token),i(e.user)})):e.json().then((function(e){return x(e.error)}))}))},children:[Object(j.jsx)("input",{type:"text",required:!0,name:"username",placeholder:"username",value:u.username,onChange:g}),Object(j.jsx)("input",{type:"password",required:!0,name:"password",placeholder:"password",value:u.password,onChange:g}),Object(j.jsx)("button",{children:"Sign In"})]}),Object(j.jsx)("span",{onClick:function(){return t(!0)},children:"Create Account"})]})},A=n(20);n(49);var x=function(e){var t=e.onSearch,n=Object(c.useContext)(l),s=Object(o.a)(n,2),i=s[0],r=s[1],u=Object(c.useState)(""),d=Object(o.a)(u,2),h=d[0],m=d[1],O=Object(b.m)();return Object(j.jsxs)("div",{className:"nav",children:[Object(j.jsxs)("div",{className:"nav-links",children:[Object(j.jsx)(a.b,{to:"/",children:"Dashboard"}),Object(j.jsx)(a.b,{to:"/user/".concat(i.id),children:"Cupboard"})]}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(h),m("")},children:[Object(j.jsx)("input",{id:"nav-search-input",type:"text",value:h,placeholder:"search by user, item name or tag",onChange:function(e){return m(e.target.value)}}),Object(j.jsx)("button",{children:Object(j.jsx)(A.a,{})})]}),Object(j.jsx)("button",{className:"signout",onClick:function(){localStorage.clear(),r(null),O("/")},children:"Sign Out"})]})};n(50);var g=function(e){var t=e.onSearch,n=e.setShowSignup,s=Object(c.useContext)(l),i=Object(o.a)(s,2),r=i[0];return i[1],Object(j.jsxs)("header",{className:"header",children:[Object(j.jsxs)("div",{className:"logo",children:[Object(j.jsx)(a.b,{to:"/",children:Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAGmCAMAAAA9C8ymAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOJgAADiYBou8l/AAAAKhQTFRFAAAA4hER/8rK/8vL/8zM/83N/87O/8/P/9DQ/9HR/9LS/9PT/9TU/9XV/9bW/9fX/9jY/9ra/9zc/97e/+Dg/+Hh/+Pj/+Tk/+Xl/+bm/+jo/+np/+rq/+vr/+zs/+fn/+Li/9/f/9vb/9nZ/+3t/+/v//Dw//Ly//Pz//T0//X1//b2//f3//j4//n5//r6//z8//39//v7/+7u/93d//7+//////HxtEA5ggAAADh0Uk5TAP////////////////////////////////////////////////////////////////////////+1/GPFAAARK0lEQVR4nO2biXYbNxJFh5Ft7ftCy9S+i6QkS7Ki//+z6aacOE5E8VUVgEID757MmZmTHKBR9xJNyTP/+9/79EhnmaIUx/sAJATUT6ifUH/10H/1UH/10H/10H/10H/t0H/t0H/1MIDaof/aof/aYQC1Q/+1wwBqh/5rhwHUDgOoHPqvHQZQOwygdhhA5TCA2mEAlcMAaocBVA4DqB0GUDsMoHIYQO0wgMphAJUjCeAP0gXkBTCA0hAGwALKI04ALKBDSApgACUiCIAFFAkDqB08ABZQJngBcAAsoFPAAfAKKJMIAbCATgEHwALKBA+AL4EiiREAC+gSeAC8AookRgAsoEMIAmABJSIJgC+BAokTAAvoDKIAeAWUhywAFlAcsQJgAR1BGACvgNKIFgAL6AbSAFhAYYgD4EugLCIGwAK6gDwAXgFFETMAFtABFAGwgJLQBMCXQEHEDYAFZI8qAF4B5aALgAUUQ+wAWEDmKAPgFeBAlGFHD4AFhAAft3Tg2gBYQEIk+qUTVwfAl0AqpPplM08QAAswofEvmLk+AF4BSdD5x4eeIgAWoEfrHx46sNK0AFhAfNT64aEDC00NgC+B6Oj1o1MH1gkQAAvQoXaPDx1YZ3oAvALionePTx1Y5oMAWEBU9OrxoQPLBAmABShQmxfMHFjmowB4BUREb14wdGCVMAGwADFq75KZA6t8GAALiIfau2TkwCofB8CXQDT04gUjB1YJFQALEKL2Lpk4sMqMAHgFxEIvXjBxYJVgAbAAGWrv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",alt:"logo"})}),Object(j.jsx)("h1",{children:"lemmeBorrow"})]}),r?Object(j.jsx)(x,{onSearch:t}):Object(j.jsx)(f,{setShowSignup:n})]})};n(51);var v=function(e){var t=e.item,n=e.onClickItem,c=t.id,s=t.image,i=t.name,r=t.owner;return Object(j.jsxs)("div",{className:"feed-card",children:[Object(j.jsx)("img",{className:"item-img",src:s,alt:i,onClick:function(){return n(c)}}),Object(j.jsxs)("div",{children:[Object(j.jsx)(a.b,{to:"user/".concat(r.id),children:Object(j.jsx)("img",{className:"user-avatar",src:r.avatar,alt:"avatar"})}),Object(j.jsxs)("p",{children:[r.first_name,"'s ",i]})]})]})};n(52);var p=function(e){var t=e.onClickItem,n=Object(c.useContext)(l),s=Object(o.a)(n,2),i=s[0],r=(s[1],Object(c.useState)([])),a=Object(o.a)(r,2),u=a[0],d=a[1],b=Object(c.useState)(9),h=Object(o.a)(b,2),m=h[0],O=h[1];return Object(c.useEffect)((function(){fetch("/items/recent/".concat(i.id,"/count/").concat(m)).then((function(e){e.ok?e.json().then((function(e){return d(e)})):e.json().then((function(e){return console.log(e)}))}))}),[m,i]),Object(j.jsx)("div",{className:"feed",children:Object(j.jsx)("div",{className:"feed-container",children:Object(j.jsxs)("div",{className:"feed-list",children:[u.map((function(e){return Object(j.jsx)(v,{item:e,onClickItem:t},e.id)})),u.length<1||u.length%10!==0?null:Object(j.jsx)("button",{onClick:function(){O((function(e){return e+10}))},children:"Show More"})]})})})};n(35);var w=function(e){var t=e.request.requester;return Object(j.jsxs)("div",{className:"notification-card friend-request-card",children:[Object(j.jsx)("div",{className:"img-div",children:Object(j.jsx)("img",{src:t.avatar,alt:"item"})}),Object(j.jsxs)("p",{children:[t.first_name," ",t.last_name," wants to be your friend!"]})]})};n(22);var C=function(e){var t=e.friendRequests;return Object(j.jsxs)(j.Fragment,{children:[t.map((function(e){return Object(j.jsx)(a.b,{to:"/user/".concat(e.requester.id),children:Object(j.jsx)(w,{request:e})},e.id)})),0===t.length?Object(j.jsx)("span",{style:{fontSize:"1rem",color:"var(--speed-cadet"},children:"\u2022 \u2022 \u2022"}):null]})};var k=function(e){var t=e.ticket,n=t.image,c=t.overdue,s=t.message,i=t.status;return Object(j.jsxs)("div",{className:"notification-card overdue-".concat(c," ").concat(i),children:[Object(j.jsx)("div",{className:"img-div",children:Object(j.jsx)("img",{src:n,alt:"item"})}),Object(j.jsxs)("div",{className:"notification-info",children:[c?Object(j.jsx)("p",{style:{color:"var(--maximum-red)",fontSize:"1.2rem"},children:"OVERDUE"}):null,Object(j.jsx)("p",{children:s})]})]})};var N=function(e){var t=e.borrows;return Object(j.jsxs)(j.Fragment,{children:[t.map((function(e){return Object(j.jsx)(a.b,{to:"/ticket/".concat(e.id),children:Object(j.jsx)(k,{ticket:e})},e.id)})),0===t.length?Object(j.jsx)("span",{style:{fontSize:"1rem",color:"var(--speed-cadet"},children:"\u2022 \u2022 \u2022"}):null]})};var y=function(e){var t=e.loans;return Object(j.jsxs)(j.Fragment,{children:[t.map((function(e){return Object(j.jsx)(a.b,{to:"/ticket/".concat(e.id),children:Object(j.jsx)(k,{ticket:e,status:"loan"})},e.id)})),0===t.length?Object(j.jsx)("span",{style:{fontSize:"1rem",color:"var(--speed-cadet"},children:"\u2022 \u2022 \u2022"}):null]})};var B=function(e){var t=e.pendingTickets;return Object(j.jsxs)(j.Fragment,{children:[t.map((function(e){return Object(j.jsx)(a.b,{to:"/ticket/".concat(e.id),children:Object(j.jsx)(k,{ticket:e,status:"pending"})},e.id)})),0===t.length?Object(j.jsx)("span",{style:{fontSize:"1rem",color:"var(--speed-cadet"},children:"\u2022 \u2022 \u2022"}):null]})},D=n(13),S=n(10);var F=function(){var e=Object(c.useContext)(l),t=Object(o.a)(e,2),n=t[0],s=(t[1],Object(c.useState)([])),i=Object(o.a)(s,2),r=i[0],a=i[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],h=d[1],m=Object(c.useState)([]),O=Object(o.a)(m,2),f=O[0],A=O[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],p=g[1],w=Object(c.useState)([]),k=Object(o.a)(w,2),F=k[0],P=k[1],Q=Object(c.useState)(!1),I=Object(o.a)(Q,2),E=I[0],H=I[1],L=Object(c.useState)([]),T=Object(o.a)(L,2),M=T[0],U=T[1],q=Object(c.useState)(!1),Y=Object(o.a)(q,2),R=Y[0],X=Y[1];return Object(c.useEffect)((function(){fetch("/friend_requests/user/".concat(n.id)).then((function(e){e.ok?e.json().then((function(e){a(e)})):e.json().then((function(e){return console.log(e)}))}))}),[n]),Object(c.useEffect)((function(){fetch("/tickets/requests/".concat(n.id)).then((function(e){e.ok?e.json().then((function(e){U(e)})):e.json().then((function(e){return console.log(e)}))}))}),[n]),Object(c.useEffect)((function(){fetch("/tickets/borrows/".concat(n.id)).then((function(e){e.ok?e.json().then((function(e){A(e)})):e.json().then((function(e){return console.log(e)}))}))}),[n]),Object(c.useEffect)((function(){fetch("/tickets/loans/".concat(n.id)).then((function(e){e.ok?e.json().then((function(e){P(e)})):e.json().then((function(e){return console.log(e)}))}))}),[n]),Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsx)("p",{className:"dashboard-header",children:"Dashboard"}),Object(j.jsxs)("div",{className:"notifications",children:[Object(j.jsxs)("div",{className:"notifications-header ".concat(b),children:[Object(j.jsxs)("div",{className:0===r.length?"zero":null,children:[Object(j.jsx)(S.b,{}),r.length]}),Object(j.jsx)("p",{children:"Friend Requests"}),b?Object(j.jsx)(D.a,{className:"arrow",onClick:function(){return h(!1)}}):Object(j.jsx)(D.b,{className:"arrow",onClick:function(){return h(!0)}})]}),b?Object(j.jsx)("div",{className:"notifications-list",children:Object(j.jsx)(C,{friendRequests:r})}):null]}),Object(j.jsxs)("div",{className:"notifications",children:[Object(j.jsxs)("div",{className:"notifications-header ".concat(R),children:[Object(j.jsxs)("div",{className:0===M.length?"zero":null,children:[Object(j.jsx)(S.b,{}),M.length]}),Object(j.jsx)("p",{children:"Pending Tickets"}),R?Object(j.jsx)(D.a,{className:"arrow",onClick:function(){return X(!1)}}):Object(j.jsx)(D.b,{className:"arrow",onClick:function(){return X(!0)}})]}),R?Object(j.jsx)("div",{className:"notifications-list",children:Object(j.jsx)(B,{pendingTickets:M})}):null]}),Object(j.jsxs)("div",{className:"notifications",children:[Object(j.jsxs)("div",{className:"notifications-header ".concat(v),children:[Object(j.jsxs)("div",{className:0===f.length?"zero":null,children:[Object(j.jsx)(S.b,{}),f.length]}),Object(j.jsx)("p",{children:"Items You're Currently Borrowing"}),v?Object(j.jsx)(D.a,{className:"arrow",onClick:function(){return p(!1)}}):Object(j.jsx)(D.b,{className:"arrow",onClick:function(){return p(!0)}})]}),v?Object(j.jsx)("div",{className:"notifications-list",children:Object(j.jsx)(N,{borrows:f})}):null]}),Object(j.jsxs)("div",{className:"notifications",children:[Object(j.jsxs)("div",{className:"notifications-header ".concat(E),children:[Object(j.jsxs)("div",{className:0===F.length?"zero":null,children:[Object(j.jsx)(S.b,{}),F.length]}),Object(j.jsx)("p",{children:"Your Items Currently on Loan"}),E?Object(j.jsx)(D.a,{className:"arrow",onClick:function(){return H(!1)}}):Object(j.jsx)(D.b,{className:"arrow",onClick:function(){return H(!0)}})]}),E?Object(j.jsx)("div",{className:"notifications-list",children:Object(j.jsx)(y,{loans:F})}):null]})]})};n(53);var P=function(e){var t=e.onClickItem;return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(F,{}),Object(j.jsx)(p,{onClickItem:t})]})};n(54);var Q=function(){return Object(j.jsx)("div",{className:"welcome",children:Object(j.jsxs)("div",{className:"welcome-card",children:[Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAGmCAMAAAA9C8ymAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOJgAADiYBou8l/AAAAKhQTFRFAAAA4hER/8rK/8vL/8zM/83N/87O/8/P/9DQ/9HR/9LS/9PT/9TU/9XV/9bW/9fX/9jY/9ra/9zc/97e/+Dg/+Hh/+Pj/+Tk/+Xl/+bm/+jo/+np/+rq/+vr/+zs/+fn/+Li/9/f/9vb/9nZ/+3t/+/v//Dw//Ly//Pz//T0//X1//b2//f3//j4//n5//r6//z8//39//v7/+7u/93d//7+//////HxtEA5ggAAADh0Uk5TAP////////////////////////////////////////////////////////////////////////+1/GPFAAARK0lEQVR4nO2biXYbNxJFh5Ft7ftCy9S+i6QkS7Ki//+z6aacOE5E8VUVgEID757MmZmTHKBR9xJNyTP/+9/79EhnmaIUx/sAJATUT6ifUH/10H/1UH/10H/10H/10H/t0H/t0H/1MIDaof/aof/aYQC1Q/+1wwBqh/5rhwHUDgOoHPqvHQZQOwygdhhA5TCA2mEAlcMAaocBVA4DqB0GUDsMoHIYQO0wgMphAJUjCeAP0gXkBTCA0hAGwALKI04ALKBDSApgACUiCIAFFAkDqB08ABZQJngBcAAsoFPAAfAKKJMIAbCATgEHwALKBA+AL4EiiREAC+gSeAC8AookRgAsoEMIAmABJSIJgC+BAokTAAvoDKIAeAWUhywAFlAcsQJgAR1BGACvgNKIFgAL6AbSAFhAYYgD4EugLCIGwAK6gDwAXgFFETMAFtABFAGwgJLQBMCXQEHEDYAFZI8qAF4B5aALgAUUQ+wAWEDmKAPgFeBAlGFHD4AFhAAft3Tg2gBYQEIk+qUTVwfAl0AqpPplM08QAAswofEvmLk+AF4BSdD5x4eeIgAWoEfrHx46sNK0AFhAfNT64aEDC00NgC+B6Oj1o1MH1gkQAAvQoXaPDx1YZ3oAvALionePTx1Y5oMAWEBU9OrxoQPLBAmABShQmxfMHFjmowB4BUREb14wdGCVMAGwADFq75KZA6t8GAALiIfau2TkwCofB8CXQDT04gUjB1YJFQALEKL2Lpk4sMqMAHgFxEIvXjBxYJVgAbAAGWrv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",alt:"logo"}),Object(j.jsxs)("div",{className:"welcome-text",children:[Object(j.jsx)("h1",{children:"lemmeBorrow"}),Object(j.jsxs)("p",{className:"two-line",children:["an app for giving, getting back,",Object(j.jsx)("br",{}),"and keeping track of your belongings"]})]})]})})},I=(n(55),{first_name:"",last_name:"",email:"",username:"",avatar:"",password:"",password_confirmation:""});var E=function(e){var t=e.showSignup,n=e.setShowSignup,s=Object(c.useContext)(l),i=Object(o.a)(s,2),r=(i[0],i[1]),a=Object(c.useState)(I),u=Object(o.a)(a,2),d=u[0],b=u[1],O=Object(c.useState)([]),f=Object(o.a)(O,2),A=f[0],x=f[1];function g(e){var t=e.target,n=t.name,c=t.value;b(Object(m.a)(Object(m.a)({},d),{},Object(h.a)({},n,c)))}return t?Object(j.jsx)("div",{className:"signup",children:Object(j.jsxs)("div",{className:"signup-container",children:[Object(j.jsxs)("div",{className:"signup-header",children:[Object(j.jsx)("p",{children:"Create Account"}),Object(j.jsx)(S.a,{onClick:function(){return n(!1)},size:"27"})]}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then((function(e){e.ok?e.json().then((function(e){localStorage.setItem("jwt",e.token),n(!1),r(e.user)})):e.json().then((function(e){return x(e.errors)}))}))},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"First Name:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"first_name",onChange:g,value:d.first_name})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Last Name:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"last_name",onChange:g,value:d.last_name})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Email:"}),Object(j.jsx)("input",{required:!0,type:"email",name:"email",onChange:g,value:d.email})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Username:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"username",onChange:g,value:d.username})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Password:"}),Object(j.jsx)("input",{required:!0,type:"password",name:"password",onChange:g,value:d.password})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Confirm Password:"}),Object(j.jsx)("input",{required:!0,type:"password",name:"password_confirmation",onChange:g,value:d.password_confirmation})]}),Object(j.jsx)("button",{className:"signup-btn",children:"Sign Up"}),Object(j.jsx)("ul",{className:"errors",children:A.map((function(e){return Object(j.jsx)("li",{children:e},e)}))})]})]})}):null};n(56);var H=function(e){var t=e.item,n=e.setShowItem,s=e.tickets,i=e.handleClickTag,r=Object(c.useContext)(l),u=Object(o.a)(r,2),d=u[0],b=(u[1],Object(c.useState)(!1)),h=Object(o.a)(b,2),m=h[0],O=h[1],f=t.id,A=t.description,x=t.status,g=t.tags,v=t.owner,p=t.borrower;function w(){fetch("/items/".concat(f),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(e){n({item:null,mode:""})})):e.json().then((function(e){return console.log(e)}))}))}return Object(j.jsxs)("div",{className:"item-info",children:[function(){if(d.id===v.id){if(s.length<1)return Object(j.jsxs)("div",{className:"item-status-bar",children:[Object(j.jsx)("p",{children:"Item is Currently in Your Cupboard"}),Object(j.jsx)("button",{onClick:function(){return n({item:t,mode:"edit"})},children:"Edit Item"})]});var e="home"===x?"in Your Cupboard":"Being Borrowed by ".concat(p.first_name);return Object(j.jsxs)("div",{className:"item-status-bar",children:["Item is Currently ",e]})}return Object(j.jsx)(a.b,{to:"/user/".concat(v.id),children:Object(j.jsxs)("div",{className:"user-card",onClick:function(){return n({item:null,mode:""})},children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:v.avatar,alt:"avatar"})}),Object(j.jsxs)("p",{children:["Belongs to: ",v.first_name," ",v.last_name]})]})})}(),Object(j.jsx)("div",{style:{backgroundImage:"url(".concat(t.image,")")},className:"item-image"}),Object(j.jsx)("p",{className:"description",children:A}),Object(j.jsx)("div",{className:"tag-display",children:g.map((function(e){return Object(j.jsx)("button",{onClick:function(){return i(e)},children:e},e)}))}),function(){if(d.id===v.id)return s.length<1?Object(j.jsx)(j.Fragment,{children:m?Object(j.jsx)("button",{className:"delete-item delete-2",onClick:w,children:"Confirm Delete"}):Object(j.jsx)("button",{className:"delete-item delete-1",onClick:function(){return O(!0)},children:"Delete Item?"})}):Object(j.jsx)("p",{className:"delete-item delete-1",children:"You Cannot Edit or Delete Item with Pending Tickets"})}()]})};n(57);var L=function(e){var t=e.item,n=e.setShowItem,s={name:t.name,image:t.image,description:t.description,tags:t.tags.join("; ")+";"},i=Object(c.useState)(s),r=Object(o.a)(i,2),a=r[0],l=r[1],u=Object(c.useState)([]),d=Object(o.a)(u,2),b=d[0],O=d[1];function f(e){var t=e.target,n=t.value,c=t.name;l(Object(m.a)(Object(m.a)({},a),{},Object(h.a)({},c,n)))}return Object(c.useEffect)((function(){var e=setTimeout((function(){var e=a.tags.split(/\s*;\s*/gm).filter((function(e){return""!==e})).splice(0,5),t=new Set;e.forEach((function(e){return t.add(e.toLowerCase())})),O(Array.from(t))}),300);return function(){clearTimeout(e)}}),[a.tags]),Object(j.jsxs)("div",{className:"edit-item",children:[Object(j.jsxs)("div",{className:"edit-item-header",children:[Object(j.jsx)("p",{children:"Edit Item"}),Object(j.jsx)("button",{onClick:function(){return n({item:t,mode:""})},children:"Back"})]}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===a.image&&l(Object(m.a)(Object(m.a)({},a),{},{image:t.image})),fetch("/items/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(m.a)(Object(m.a)({},a),{},{tags:b}))}).then((function(e){e.ok?e.json().then((function(e){n({item:e,mode:""}),l(s)})):e.json().then((function(e){return console.log(e)}))}))},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Item Name:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"name",onChange:f,value:a.name})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Image:"}),Object(j.jsx)("input",{type:"text",name:"image",onChange:f,value:a.image})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Description:"}),Object(j.jsx)("textarea",{name:"description",rows:"5",onChange:f,value:a.description})]}),Object(j.jsxs)("label",{className:"tags-label",children:[Object(j.jsx)("p",{children:"Tags:"}),Object(j.jsxs)("div",{className:"edit-tags",children:[Object(j.jsxs)("div",{className:"instructions",children:[Object(j.jsx)("p",{children:"maximum five tags separated by a semi-colon"}),Object(j.jsx)("p",{children:"tags must be unique"}),Object(j.jsx)("p",{children:"book; sci-fi; used;"})]}),Object(j.jsx)("textarea",{name:"tags",rows:"2",onChange:f,value:a.tags}),Object(j.jsx)("div",{className:"tag-display",children:b.map((function(e){return Object(j.jsx)("p",{children:e},e)}))})]})]}),Object(j.jsx)("button",{className:"update-item-btn",children:"Update Item"})]})]})},T=(n(58),{name:"",image:"",description:"",tags:""});var M=function(e){var t=e.setShowItem,n=Object(c.useContext)(l),s=Object(o.a)(n,2),i=s[0],r=(s[1],Object(c.useState)(T)),a=Object(o.a)(r,2),u=a[0],d=a[1],b=Object(c.useState)([]),O=Object(o.a)(b,2),f=O[0],A=O[1];function x(e){var t=e.target,n=t.value,c=t.name;d(Object(m.a)(Object(m.a)({},u),{},Object(h.a)({},c,n)))}return Object(c.useEffect)((function(){var e=setTimeout((function(){var e=u.tags.split(/\s*;\s*/gm).filter((function(e){return""!==e})).splice(0,5),t=new Set;e.forEach((function(e){return t.add(e.toLowerCase())})),A(Array.from(t))}),300);return function(){clearTimeout(e)}}),[u.tags]),Object(j.jsx)("div",{className:"edit-item",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:u.name,image:u.image,description:u.description,owner_id:i.id,tags:f,status:"home"};fetch("/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){e.ok?e.json().then((function(e){t({item:null,mode:""}),d(T)})):e.json().then((function(e){return console.log(e)}))}))},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Item Name:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"name",onChange:x,value:u.name})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Image:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"image",onChange:x,value:u.image})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Description:"}),Object(j.jsx)("textarea",{name:"description",rows:"5",onChange:x,value:u.description})]}),Object(j.jsxs)("label",{className:"tags-label",children:[Object(j.jsx)("p",{children:"Tags:"}),Object(j.jsxs)("div",{className:"edit-tags",children:[Object(j.jsxs)("div",{className:"instructions",children:[Object(j.jsx)("p",{children:"maximum five tags separated by a semi-colon"}),Object(j.jsx)("p",{children:"tags must be unique"}),Object(j.jsx)("p",{children:"book; sci-fi; used;"})]}),Object(j.jsx)("textarea",{name:"tags",rows:"2",onChange:x,value:u.tags}),Object(j.jsx)("div",{className:"tag-display",children:f.map((function(e){return Object(j.jsx)("p",{children:e},e)}))})]})]}),Object(j.jsx)("button",{className:"update-item-btn",children:"Create Item"})]})})};n(59);var U=function(e){var t=e.ticket,n=e.setItem,s=Object(c.useContext)(l),i=Object(o.a)(s,2),r=i[0],u=(i[1],t.borrower),d=t.owner,b=t.return_date,h=t.overdue,m=t.status;return Object(j.jsxs)("div",{className:"ticket-card",children:[Object(j.jsx)("p",{children:u.id===r.id?"requested"===m?"You've requested to borrow this item":"waitlisted"===m?"You're on the waitlist to borrow this item":"approved"===m?"".concat(d.first_name," has promised to lend you this item"):h?"You're currently borrowing this item, and it's overdue!":"You're currently borrowing this item":"requested"===m?"".concat(u.first_name," has requested to borrow this item"):"waitlisted"===m?"".concat(u.first_name," has been waitlisted to borrow this item"):"approved"===m?"You've promised to lend this item to ".concat(u.first_name):h?"".concat(u.first_name," was supposed to return this item on ").concat(b,"!"):"".concat(u.first_name," is currently borrowing this item")}),Object(j.jsx)(a.b,{to:"/ticket/".concat(t.id),onClick:function(){return n(null)},children:Object(j.jsx)("button",{children:"View Ticket"})})]})};n(60);var q=function(e){var t=e.tickets;return Object(j.jsx)("div",{className:"tickets-container",children:t.map((function(e){return Object(j.jsx)(U,{ticket:e},e.id)}))})};n(61);var Y=function(e){var t=e.showItem,n=e.setShowItem,s=e.setShowSearch,i=e.setQuery,r=Object(c.useContext)(l),u=Object(o.a)(r,2),d=u[0],h=(u[1],Object(c.useState)(!0)),m=Object(o.a)(h,2),O=m[0],f=m[1],A=Object(c.useState)([]),x=Object(o.a)(A,2),g=x[0],v=x[1],p=Object(c.useState)(null),w=Object(o.a)(p,2),C=w[0],k=w[1],N=t.item,y=t.mode,B=Object(b.m)();function D(){fetch("/tickets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:N.id,owner_id:N.owner.id,borrower_id:d.id})}).then((function(e){e.ok?e.json().then((function(e){B("/ticket/".concat(e.id)),n({item:null,mode:""})})):e.json().then((function(e){return console.log(e)}))}))}function F(e){n({item:null,mode:""}),i(e),s({show:!0,mode:"items"})}return Object(c.useEffect)((function(){d&&N&&"add"!==y&&d.id!==N.owner.id&&fetch("/friend_statuses/user/".concat(d.id,"/friend/").concat(N.owner.id)).then((function(e){e.ok?e.json().then((function(e){return k(e.status.mode)})):e.json().then((function(e){return console.log(e)}))}))}),[d,N,y]),Object(c.useEffect)((function(){v([]),f(!0),d&&N&&"add"!==y&&fetch("/pending_tickets/item/".concat(N.id,"/user/").concat(d.id,"}")).then((function(e){e.ok?e.json().then((function(e){v(e),f(!1)})):e.json().then((function(e){return console.log(e)}))}))}),[d,N,y]),N?Object(j.jsx)("div",{className:"item-display",children:O&&"add"!==y?null:Object(j.jsxs)("div",{className:"item-display-container",children:[Object(j.jsxs)("div",{className:"item-display-header",children:[Object(j.jsx)("p",{children:"add"===y?"Add New Item":N.name}),Object(j.jsx)(S.a,{onClick:function(){return n({item:null,mode:""})},size:"27"})]}),function(){switch(y){case"edit":return Object(j.jsx)(L,{item:N,setShowItem:n});case"add":return Object(j.jsx)(M,{setShowItem:n});default:return Object(j.jsx)(H,{item:N,setShowItem:n,tickets:g,handleClickTag:F})}}(),function(){if("add"===y)return null;if(g.length>0)return Object(j.jsx)(q,{tickets:g,activeUser:d,setShowItem:n});if(d.id!==N.owner.id){if("Friends"===C)return Object(j.jsx)("button",{className:"lemme-borrow-btn",onClick:D,children:"lemme borrow !"});if("Not Friends"===C)return Object(j.jsx)(a.b,{to:"user/".concat(N.owner.id),children:Object(j.jsxs)("button",{className:"neutral-borrow-btn",onClick:function(){return n({item:null,mode:""})},children:["Friend ",N.owner.first_name," to Borrow Item"]})});if("Pending Response"===C)return Object(j.jsx)(a.b,{to:"user/".concat(N.owner.id),children:Object(j.jsxs)("button",{className:"neutral-borrow-btn",onClick:function(){return n({item:null,mode:""})},children:["Friend ",N.owner.first_name," to Borrow Item"]})});if("Pending Action"===C)return Object(j.jsx)(a.b,{to:"user/".concat(N.owner.id),children:Object(j.jsxs)("button",{className:"neutral-borrow-btn",onClick:function(){return n({item:null,mode:""})},children:["Respond to ",N.owner.first_name,"'s Friend Request to Borrow Item"]})})}}()]})}):null};n(62);var R=function(e){var t=e.result,n=e.type,c=e.onClickResult;return Object(j.jsx)("div",{className:"search-result ".concat(n,"-card"),onClick:function(){return c(t.id)},children:"user"===n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:t.avatar,alt:"avatar"})}),Object(j.jsxs)("p",{children:[t.first_name," ",t.last_name]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:t.image,alt:"item"})}),Object(j.jsx)("p",{children:t.name})]})})};n(63);var X=function(e){var t=e.showSearch,n=e.setShowSearch,s=e.query,i=e.setQuery,r=e.onClickItem,u=Object(c.useContext)(l),d=Object(o.a)(u,2),b=d[0],h=(d[1],Object(c.useState)("")),m=Object(o.a)(h,2),O=m[0],f=m[1],x=Object(c.useState)([]),g=Object(o.a)(x,2),v=g[0],p=g[1],w=Object(c.useState)([]),C=Object(o.a)(w,2),k=C[0],N=C[1];function y(){p([]),N([]),n({show:!1,mode:""})}function B(e){y(),r(e)}return Object(c.useEffect)((function(){t.show&&(f(s),document.getElementById("search-display-input").focus(),fetch("/".concat("users"===t.mode?"users":"items","/search/").concat(b.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s})}).then((function(e){e.ok?e.json().then((function(e){"users"===t.mode?p(e):"items"===t.mode&&N(e)})):e.json().then((function(e){return console.log(e)}))})))}),[s,b,t]),Object(c.useEffect)((function(){var e=setTimeout((function(){i(O)}),500);return function(){clearTimeout(e)}}),[O,i]),t.show?Object(j.jsx)("div",{className:"search-display",children:Object(j.jsxs)("div",{className:"search-display-container",children:[Object(j.jsxs)("div",{className:"search-display-header",children:[Object(j.jsx)("p",{children:"Search Results"}),Object(j.jsx)(S.a,{onClick:y,size:"27"})]}),Object(j.jsxs)("div",{className:"search-body",children:[Object(j.jsxs)("div",{className:"search-bar",children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(O)},children:[Object(j.jsx)("input",{type:"text",id:"search-display-input",value:O,placeholder:"search by ".concat("users"===t.mode?"user":"item or tag"),onChange:function(e){return f(e.target.value)}}),Object(j.jsx)("button",{className:"search-icon",children:Object(j.jsx)(A.a,{})})]}),Object(j.jsxs)("div",{className:"filter",children:[Object(j.jsxs)("div",{className:"filter-btns",children:[Object(j.jsx)("button",{className:"search-".concat("users"===t.mode," ").concat(t.mode),onClick:function(){return n({show:!0,mode:"users"})},children:"Users"}),Object(j.jsx)("button",{className:"search-".concat("items"===t.mode," ").concat(t.mode),onClick:function(){return n({show:!0,mode:"items"})},children:"Items"})]}),Object(j.jsx)("div",{className:"filter-bottom"})]})]}),Object(j.jsx)("div",{className:"search-results",children:"users"===t.mode&&v.length>0?v.map((function(e){return Object(j.jsx)(a.b,{onClick:y,to:"/user/".concat(e.id),children:Object(j.jsx)(R,{result:e,type:"user"})},e.id)})):"items"===t.mode&&k.length>0?k.map((function(e){return Object(j.jsx)(R,{result:e,type:"item",onClickResult:B},e.id)})):Object(j.jsx)("p",{style:{color:"var(--speed-cadet"},children:"no results . . ."})})]})]})}):null};n(64);var V=function(e){var t=e.showEditProfile,n=e.setShowEditProfile,s=Object(c.useContext)(l),i=Object(o.a)(s,2),r=i[0],a=i[1],u={first_name:r.first_name,last_name:r.last_name,username:r.username,avatar:r.avatar,current_password:"",password:"",password_confirmation:""},d=Object(c.useState)(u),b=Object(o.a)(d,2),O=b[0],f=b[1],A=Object(c.useState)(!1),x=Object(o.a)(A,2),g=x[0],v=x[1];function p(e){var t=e.target,n=t.name,c=t.value;f(Object(m.a)(Object(m.a)({},O),{},Object(h.a)({},n,c)))}return t?Object(j.jsx)("div",{className:"signup",children:Object(j.jsxs)("div",{className:"signup-container",children:[Object(j.jsxs)("div",{className:"signup-header",children:[Object(j.jsx)("p",{children:"Edit My Profile"}),Object(j.jsx)(S.a,{onClick:function(){f(r),v(!1),n(!1)},size:"27"})]}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""===O.avatar&&f(Object(m.a)(Object(m.a)({},O),{},{avatar:r.avatar})),fetch("/users/".concat(r.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(m.a)(Object(m.a)({},O),{},{new_password:g}))}).then((function(e){e.ok?e.json().then((function(e){n(!1),a(e)})):e.json().then((function(e){return console.log(e)}))}))},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"First Name:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"first_name",onChange:p,value:O.first_name})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Last Name:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"last_name",onChange:p,value:O.last_name})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Username:"}),Object(j.jsx)("input",{required:!0,type:"text",name:"username",onChange:p,value:O.username})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Avatar:"}),Object(j.jsx)("input",{type:"text",name:"avatar",onChange:p,value:O.avatar})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Enter Your Current Password:"}),Object(j.jsx)("input",{required:!0,type:"password",name:"current_password",onChange:p,value:O.current_password})]}),g?Object(j.jsxs)("div",{className:"new-password",children:[Object(j.jsxs)("div",{className:"update-password-header",children:[Object(j.jsx)("p",{children:"Update Password"}),Object(j.jsx)("button",{onClick:function(){return v(!1)},children:"Never Mind"})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"New Password:"}),Object(j.jsx)("input",{required:!0,type:"password",name:"password",onChange:p,value:O.password})]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("p",{children:"Confirm New Password:"}),Object(j.jsx)("input",{required:!0,type:"password",name:"password_confirmation",onChange:p,value:O.password_confirmation})]})]}):Object(j.jsx)("span",{className:"update-password",onClick:function(){return v(!0)},children:"Update Password?"}),Object(j.jsx)("button",{children:"Update Profile"})]})]})}):null};n(65);var G=function(e){var t=e.friend;return Object(j.jsxs)("div",{className:"friend-card",children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{src:t.avatar,alt:"avatar"})}),Object(j.jsxs)("p",{children:[t.first_name," ",t.last_name]})]})};n(66);var z=function(e){var t=e.friends,n=e.showFriends,c=e.setShowFriends,s=e.profile;return n?Object(j.jsx)("div",{className:"my-friends",children:Object(j.jsxs)("div",{className:"friends-container",children:[Object(j.jsxs)("div",{className:"friends-header",children:[Object(j.jsx)("p",{children:s.is_active?"My Friends":"".concat(s.user.first_name,"'s Friends")}),Object(j.jsx)(S.a,{onClick:function(){return c(!1)},size:"27"})]}),Object(j.jsx)("div",{className:"friends-list",children:t.map((function(e){return Object(j.jsx)(a.b,{to:"/user/".concat(e.id),onClick:function(){return c(!1)},children:Object(j.jsx)(G,{friend:e})},e.id)}))})]})}):null};n(67);var K=function(e){var t=e.profile,n=e.setProfile,s=e.isUnfriending,i=e.setIsUnfriending,r=e.friends,a=e.setFriends,u=e.onClickAddItem,d=Object(c.useContext)(l),b=Object(o.a)(d,2),h=b[0],O=(b[1],Object(c.useState)(!1)),f=Object(o.a)(O,2),A=f[0],x=f[1],g=Object(c.useState)(!1),v=Object(o.a)(g,2),p=v[0],w=v[1];function C(){fetch("/friendships/user/".concat(t.user.id)).then((function(e){e.ok?(i(!1),w(!0),e.json().then((function(e){return a(e)}))):e.json().then((function(e){return console.log(e)}))}))}function k(){fetch("/friendships/".concat(t.friend_status.id),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(e){return n(Object(m.a)(Object(m.a)({},t),{},{friend_status:e}))})):e.json().then((function(e){alert(e.error),i(!1)}))}))}function N(){fetch("/friend_requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({requester_id:h.id,receiver_id:t.user.id})}).then((function(e){e.ok?e.json().then((function(e){return n(Object(m.a)(Object(m.a)({},t),{},{friend_status:e}))})):e.json().then((function(e){return console.log(e)}))}))}function y(){fetch("/friendships",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:h.id,friend_id:t.user.id})}).then((function(e){e.ok?e.json().then((function(e){return n(Object(m.a)(Object(m.a)({},t),{},{friend_status:e}))})):e.json().then((function(e){return console.log(e)}))}))}function B(){fetch("/friend_requests/".concat(t.friend_status.id),{method:"DELETE"}).then((function(e){e.ok?e.json().then((function(e){return n(Object(m.a)(Object(m.a)({},t),{},{friend_status:e}))})):e.json().then((function(e){return console.log(e)}))}))}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(V,{showEditProfile:A,setShowEditProfile:x}),Object(j.jsx)(z,{profile:t,friends:r,showFriends:p,setShowFriends:w}),Object(j.jsxs)("div",{className:"user-info",children:[Object(j.jsxs)("div",{className:"user-info-top",children:[Object(j.jsxs)("p",{className:"user-info-header",children:[t.is_active?"My":t.user.first_name+"'s"," Cupboard"]}),Object(j.jsx)("img",{src:t.user.avatar,alt:"avatar"})]}),Object(j.jsxs)("div",{className:"user-info-bottom",children:[Object(j.jsxs)("p",{className:"user-info-subheader",children:[t.user.first_name," ",t.user.last_name]}),function(){if(t.is_active)return Object(j.jsxs)("div",{className:"user-actions",children:[Object(j.jsx)("button",{className:"user-btn",onClick:u,children:"Add Item"}),Object(j.jsx)("button",{className:"user-btn",onClick:function(){return x(!0)},children:"Edit My Profile"}),Object(j.jsx)("button",{className:"user-btn",onClick:C,children:"My Friends"})]});switch(t.friend_status.mode){case"Friends":return Object(j.jsxs)("div",{className:"user-actions",children:[s?Object(j.jsxs)("div",{className:"unfriend-container",children:[Object(j.jsx)("p",{children:"Are You Sure?"}),Object(j.jsx)("button",{className:"yes",onClick:k,children:"Yes"}),Object(j.jsx)("button",{className:"no",onClick:function(){return i(!1)},children:"No"})]}):Object(j.jsxs)("button",{className:"user-btn",onClick:function(){return i(!0)},children:["Unfriend ",t.user.first_name]}),Object(j.jsxs)("button",{className:"user-btn",onClick:C,children:["View ",t.user.first_name,"'s' Friends"]})]});case"Pending Response":return Object(j.jsx)("div",{className:"user-actions",children:Object(j.jsx)("button",{className:"user-btn",children:"Friend Request Pending . . ."})});case"Pending Action":return Object(j.jsxs)("div",{className:"user-actions",children:[Object(j.jsxs)("button",{className:"user-btn",onClick:y,children:["Accept ",t.user.first_name,"'s Friend Request"]}),Object(j.jsxs)("button",{className:"user-btn",onClick:B,children:["Decline ",t.user.first_name,"'s Friend Request"]})]});default:return Object(j.jsx)("div",{className:"user-actions",children:Object(j.jsxs)("button",{className:"user-btn",onClick:N,children:["Friend ",t.user.first_name]})})}}()]})]})]})};n(68);var W=function(e){var t=e.item,n=e.onClickItem;return Object(j.jsxs)("div",{className:"cupboard-card",onClick:function(){return n(t.id)},children:[Object(j.jsx)("div",{style:{backgroundImage:"url(".concat(t.image,")")}}),Object(j.jsx)("p",{children:t.name})]})};n(69);var J=function(e){var t=e.total,n=e.count,c=e.setCount,s=e.sort,i=e.setSort,r=e.setQuery,a=e.searchInput,o=e.setSearchInput,l=e.itemsLength;return Object(j.jsxs)("div",{className:"cupboard-nav",children:[Object(j.jsxs)("div",{className:"cupboard-pagination hide-".concat(t<=20),children:[0===l?"No Items":Object(j.jsxs)("p",{children:[n+1,"-",n+l," of ",t]}),t<=20?null:Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(){return c((function(e){return e-20}))},disabled:0===n,children:"Prev"}),Object(j.jsx)("button",{onClick:function(){return c((function(e){return e+20}))},disabled:l<20||n+l===t,children:"Next"})]})]}),Object(j.jsxs)("div",{className:"cupboard-search",children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i("newest"),r(a)},children:[Object(j.jsx)("input",{type:"text",value:a,placeholder:"search by name or tag",onChange:function(e){return o(e.target.value)}}),Object(j.jsx)("button",{className:"search-icon",children:Object(j.jsx)(A.a,{})})]}),Object(j.jsx)("button",{className:"clear",onClick:function(){i("newest"),r(""),o("")},children:"Clear Search"})]}),Object(j.jsxs)("select",{className:"cupboard-sort",name:"sort",value:s,onChange:function(e){return i(e.target.value)},children:[Object(j.jsx)("option",{value:"newest",children:"Newest to Oldest"}),Object(j.jsx)("option",{value:"oldest",children:"Oldest to Newest"})]})]})};n(70);var Z=function(e){var t=e.profile,n=e.onClickItem,s=Object(c.useState)([]),i=Object(o.a)(s,2),r=i[0],a=i[1],l=Object(c.useState)(""),u=Object(o.a)(l,2),d=u[0],b=u[1],h=Object(c.useState)(0),m=Object(o.a)(h,2),O=m[0],f=m[1],A=Object(c.useState)("newest"),x=Object(o.a)(A,2),g=x[0],v=x[1],p=Object(c.useState)(""),w=Object(o.a)(p,2),C=w[0],k=w[1],N=Object(c.useState)(""),y=Object(o.a)(N,2),B=y[0],D=y[1];return Object(c.useEffect)((function(){var e=setTimeout((function(){v("newest"),D(C)}),500);return function(){clearTimeout(e)}}),[C]),Object(c.useEffect)((function(){fetch("/items/belongings/".concat(t.user.id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:O,sort:g,query:B})}).then((function(e){e.ok?e.json().then((function(e){a(e.items),b(e.total)})):e.json().then((function(e){return console.log(e)}))}))}),[t,O,g,B]),Object(j.jsxs)("div",{className:"cupboard",children:[Object(j.jsx)(J,{count:O,setCount:f,sort:g,setSort:v,setQuery:D,searchInput:C,setSearchInput:k,itemsLength:r.length,total:d}),Object(j.jsx)("div",{className:"items-container",children:r.map((function(e){return Object(j.jsx)(W,{item:e,onClickItem:n},e.id)}))})]})};n(71);var _,$=function(e){var t=e.onClickItem,n=e.onClickAddItem,s=Object(c.useContext)(l),i=Object(o.a)(s,2),r=i[0],a=(i[1],Object(c.useState)(null)),u=Object(o.a)(a,2),d=u[0],h=u[1],m=Object(c.useState)([]),O=Object(o.a)(m,2),f=O[0],A=O[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],p=g[1],w=Object(b.o)();return Object(c.useEffect)((function(){p(!1),A([]),r.id===parseInt(w.user_id)?h({user:r,is_active:!0}):fetch("/friend_statuses/user/".concat(r.id,"/friend/").concat(w.user_id)).then((function(e){e.ok?e.json().then((function(e){h({user:e.user,is_active:!1,friend_status:e.status})})):e.json().then((function(e){return console.log(e)}))}))}),[w,r]),d?Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)(K,{profile:d,setProfile:h,isUnfriending:v,setIsUnfriending:p,friends:f,setFriends:A,onClickAddItem:n}),d.is_active||"Friends"===d.friend_status.mode?Object(j.jsx)(Z,{profile:d,onClickItem:t}):null]}):null},ee=n(21),te=Object(ee.b)("messages/fetchMessage",(function(e){return fetch("/messages/ticket/".concat(e)).then((function(e){return e.json()})).then((function(e){return e}))})),ne=Object(ee.b)("messages/messageAdded",(function(e){return fetch("/messages/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e}))})),ce=Object(ee.c)({name:"messages",initialState:{entities:[],status:"idle"},extraReducers:(_={},Object(h.a)(_,te.pending,(function(e){e.status="loading"})),Object(h.a)(_,te.fulfilled,(function(e,t){e.entities=t.payload,e.status="idle"})),Object(h.a)(_,ne.pending,(function(e){e.status="loading"})),Object(h.a)(_,ne.fulfilled,(function(e,t){e.entities.unshift(t.payload)})),_)}).reducer,se=(n(73),(new Date).toISOString().slice(0,10));var ie=function(e){var t=e.ticket,n=e.isOwner,s=e.date,i=e.setDate,r=e.onClickDelete,a=e.onClickApprove,l=e.onClickReceive,u=e.onSetReturnDate,d=Object(c.useState)(!1),b=Object(o.a)(d,2),h=b[0],m=b[1],O=t.owner,f=t.borrower,A=t.return_date,x=t.status;function g(e){i(e.target.value),m(!0)}function v(e){e.preventDefault(),m(!1),u()}return Object(c.useEffect)((function(){var e=setTimeout((function(){m(!1),i(A)}),5e3);return function(){clearTimeout(e)}}),[h,t]),Object(j.jsx)("div",{className:"controls",children:function(){if(n){if("waitlisted"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"controls-header",children:"This ticket has been waitlisted!"}),Object(j.jsx)("div",{className:"control-btns",children:Object(j.jsx)("button",{onClick:r,children:"Decline Request"})})]});if("requested"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"controls-header",children:["Respond to ",f.first_name,"'s request . . ."]}),Object(j.jsxs)("div",{className:"control-btns",children:[Object(j.jsx)("button",{onClick:a,children:"Approve Request"}),Object(j.jsx)("button",{onClick:r,children:"Decline Request"})]})]});if("approved"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"controls-header",children:["Waiting for ",f.first_name," to receive the item . . ."]}),Object(j.jsx)("div",{className:"control-btns",children:Object(j.jsx)("button",{onClick:r,children:"Delete Ticket"})})]});if("on loan"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"controls-header",children:"Let us know when you get your item back!"}),Object(j.jsxs)("div",{className:"control-btns",children:[Object(j.jsxs)("form",{className:"date-form",onSubmit:v,children:[h?Object(j.jsx)("button",{className:"date-change-".concat(h),children:"Submit"}):Object(j.jsx)("button",{disabled:!0,children:"Set Desired Return Date"}),Object(j.jsx)("input",{required:!0,type:"date",name:"return_date",min:se,value:s,onChange:g})]}),Object(j.jsx)("button",{onClick:r,children:"Item Returned! Close Ticket"})]})]})}else{if("waitlisted"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{className:"controls-header",children:"This ticket has been waitlisted . . ."}),Object(j.jsx)("div",{className:"control-btns",children:Object(j.jsx)("button",{onClick:r,children:"Cancel Your Pending Request"})})]});if("requested"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"controls-header",children:["Waiting for ",O.first_name," to respond . . ."]}),Object(j.jsx)("div",{className:"control-btns",children:Object(j.jsx)("button",{onClick:r,children:"Cancel Your Pending Request"})})]});if("approved"===x)return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("p",{className:"controls-header",children:["Let ",O.first_name," know when you've received the item . . ."]}),Object(j.jsxs)("div",{className:"control-btns",children:[Object(j.jsx)("button",{onClick:l,children:"Item Received"}),Object(j.jsx)("button",{onClick:r,children:"Cancel Request"})]})]});if("on loan"===x)return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{className:"controls-header",children:["You're currently borrowing this item from ",O.first_name,". The ticket cannot be deleted until the item has been returned."]})})}}()})};n(74);var re=function(e){var t,n=e.ticket,s=e.setTicket,i=e.isOwner,r=Object(c.useContext)(l),a=Object(o.a)(r,2),u=a[0],h=(a[1],Object(c.useState)(n.return_date)),m=Object(o.a)(h,2),O=m[0],f=m[1],A=Object(c.useState)(null),x=Object(o.a)(A,2),g=x[0],v=x[1],p=n.owner,w=n.return_date,C=n.id,k=Object(b.m)(),N=Object(d.b)();if(Object(c.useEffect)((function(){n&&fetch("/items/".concat(n.item.id)).then((function(e){e.ok?e.json().then((function(e){return v(e)})):e.json().then((function(e){return console.log(e)}))}))}),[n]),""!==w){var y,B,D=w;B="0"===D[5]?D.slice(6,7):D.slice(5,7),y="0"===D[8]?D.slice(9,10):D.slice(8,10);var S=D.slice(0,4);t="".concat(B,"/").concat(y,"/").concat(S)}return g?Object(j.jsxs)("div",{className:"item-panel",children:[Object(j.jsx)("p",{className:"item-panel-header",children:g.name}),Object(j.jsx)("img",{src:g.image,alt:g.name}),Object(j.jsxs)("div",{className:"item-panel-body",children:[Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Owner:"})," ",i?"You":p.first_name]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Description:"})," ",g.description]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("span",{children:"Tags:"})," ",g.tags.join(", ")]})]}),Object(j.jsxs)("div",{className:"return-date",children:[Object(j.jsxs)("p",{children:["Return Date: ",w?t:"--"]}),n.overdue?Object(j.jsx)("span",{children:"Overdue"}):null]}),Object(j.jsx)(ie,{ticket:n,isOwner:i,date:O,setDate:f,onClickDelete:function(){fetch("/tickets/close/".concat(C,"/user/").concat(u.id),{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok?e.json().then((function(e){k("/user/".concat(u.id))})):e.json().then((function(e){return console.log(e)}))}))},onClickApprove:function(){fetch("/tickets/approve/".concat(C),{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok?e.json().then((function(e){s(e.ticket),N(ne(e.message))})):e.json().then((function(e){return console.log(e)}))}))},onClickReceive:function(){fetch("/tickets/receive/".concat(C),{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((function(e){e.ok?e.json().then((function(e){s(e.ticket),N(ne(e.message))})):e.json().then((function(e){return console.log(e)}))}))},onSetReturnDate:function(){fetch("/tickets/date/".concat(C),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({return_date:O})}).then((function(e){e.ok?e.json().then((function(e){s(e.ticket),N(ne(e.message))})):e.json().then((function(e){return console.log(e)}))}))}})]}):null};n(75);var ae=function(e){var t=e.sender,n=e.receiver,s=e.ticket,i=e.handleSubmitMessage,r=Object(c.useState)(""),a=Object(o.a)(r,2),l=a[0],u=a[1];return Object(j.jsx)("div",{className:"message-form",children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={sender_id:t.id,receiver_id:n.id,ticket_id:s.id,text:l,automated:!1};i(c),u("")},children:[Object(j.jsx)("input",{required:!0,type:"text",name:"text",onChange:function(e){return u(e.target.value)},value:l}),Object(j.jsx)("button",{children:"send"})]})})};n(76);var oe=function(e){var t,n=e.message,s=Object(c.useContext)(l),i=Object(o.a)(s,2),r=i[0],a=(i[1],n.text);return n.automated?(t="automated",a="Automated Message: ".concat(n.text)):t=n.sender_id===r.id?"sender":"receiver",Object(j.jsx)("div",{className:"message ".concat(t),children:a})};n(77);var je=function(e){var t=e.ticket,n=e.isOwner,s=(e.params,Object(c.useState)({})),i=Object(o.a)(s,2),r=i[0],a=i[1],l=Object(c.useState)({}),u=Object(o.a)(l,2),h=u[0],m=u[1],O=Object(d.c)((function(e){return e.messages.entities})),f=Object(b.m)(),A=Object(d.b)();return Object(c.useEffect)((function(){t&&A(te(t.id))}),[t,A]),Object(c.useEffect)((function(){n?(a(t.owner),m(t.borrower)):(a(t.borrower),m(t.owner))}),[t,n]),Object(j.jsx)("div",{className:"messenger-container",children:Object(j.jsxs)("div",{className:"messenger",children:[Object(j.jsxs)("div",{className:"messenger-header",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("img",{className:"user-pic",src:r.avatar,alt:"avatar",onClick:function(){return f("/user/".concat(r.id))}}),Object(j.jsx)("p",{children:r.first_name})]}),Object(j.jsx)("p",{className:"logo",children:"lemmeBorrow"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("p",{children:h.first_name}),Object(j.jsx)("img",{className:"user-pic",src:h.avatar,alt:"avatar",onClick:function(){return f("/user/".concat(h.id))}})]})]}),Object(j.jsx)("div",{className:"message-list",children:O.map((function(e){return Object(j.jsx)(oe,{message:e},e.id)}))}),Object(j.jsx)(ae,{sender:r,receiver:h,ticket:t,handleSubmitMessage:function(e){A(ne(e))}})]})})};n(78);var le=function(){var e=Object(c.useContext)(l),t=Object(o.a)(e,2),n=t[0],s=(t[1],Object(c.useState)(!1)),i=Object(o.a)(s,2),r=i[0],a=i[1],u=Object(c.useState)(null),d=Object(o.a)(u,2),h=d[0],m=d[1],O=Object(c.useState)(!1),f=Object(o.a)(O,2),A=f[0],x=f[1],g=Object(b.o)();return Object(c.useEffect)((function(){n&&fetch("/tickets/".concat(g.ticket_id)).then((function(e){e.ok?e.json().then((function(e){m(e),e.owner.id===n.id?(a(!0),x(!0)):e.borrower.id===n.id&&a(!0)})):e.json().then((function(e){return console.log(e)}))}))}),[n,g]),r?h?Object(j.jsxs)("div",{className:"ticket",children:[Object(j.jsx)(re,{ticket:h,setTicket:m,isOwner:A}),Object(j.jsx)(je,{ticket:h,isOwner:A,params:g})]}):Object(j.jsx)("p",{className:"ticket-not-found",children:"Loading . . ."}):Object(j.jsx)("p",{className:"ticket-not-found",children:"Ticket Not Found or No Longer Exists"})};var ue=function(){var e=Object(c.useContext)(l),t=Object(o.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!0),r=Object(o.a)(i,2),a=r[0],u=r[1],d=Object(c.useState)(!1),h=Object(o.a)(d,2),m=h[0],O=h[1],f=Object(c.useState)(!1),A=Object(o.a)(f,2),x=A[0],v=A[1],p=Object(c.useState)(!1),w=Object(o.a)(p,2),C=w[0],k=w[1],N=Object(c.useState)(""),y=Object(o.a)(N,2),B=y[0],D=y[1];function S(e){v(!0),fetch("/items/".concat(e)).then((function(e){e.ok?e.json().then((function(e){v({item:e,mode:""})})):e.json().then((function(e){return alert(e.error)}))}))}return Object(c.useEffect)((function(){var e=localStorage.getItem("jwt");e&&!n?fetch("/profile",{headers:{token:e,"Content-Type":"application/json"}}).then((function(e){e.ok?e.json().then((function(e){s(e),u(!1)})):e.json().then((function(e){return console.log(e)}))})):u(!1)}),[n]),a?null:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(Y,{setShowItem:v,showItem:x,setShowSearch:k,setQuery:D}),Object(j.jsx)(X,{showSearch:C,setShowSearch:k,query:B,setQuery:D,onClickItem:S}),Object(j.jsx)(E,{showSignup:m,setShowSignup:O}),Object(j.jsx)(g,{setShowSignup:O,onSearch:function(e){""!==e&&(k({show:!0,mode:"users"}),D(e),document.getElementById("nav-search-input").blur())}}),Object(j.jsxs)(b.c,{children:[Object(j.jsx)(b.a,{path:"/user/:user_id",element:n?Object(j.jsx)($,{onClickItem:S,onClickAddItem:function(){return v({item:!0,mode:"add"})}}):null}),Object(j.jsx)(b.a,{path:"/ticket/:ticket_id",element:Object(j.jsx)(le,{})}),Object(j.jsx)(b.a,{exact:!0,path:"/",element:n?Object(j.jsx)(P,{onClickItem:S}):Object(j.jsx)(Q,{})})]})]})},de=Object(ee.a)({reducer:{messages:ce}});n(79);r.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(d.a,{store:de,children:Object(j.jsx)(u,{children:Object(j.jsx)(a.a,{children:Object(j.jsx)(ue,{})})})})}),document.getElementById("root"))}]),[[80,1,2]]]);
//# sourceMappingURL=main.2663fe41.chunk.js.map