{"version":3,"sources":["context/active_user.js","components/header/Login.js","components/header/Nav.js","components/header/Header.js","components/header/borrow-logo.png","components/home/feed/FeedCard.js","components/home/feed/Feed.js","components/home/dashboard/FriendRequestCard.js","components/home/dashboard/FriendRequests.js","components/home/dashboard/NotificationCard.js","components/home/dashboard/ActiveBorrows.js","components/home/dashboard/ActiveLoans.js","components/home/dashboard/PendingTickets.js","components/home/dashboard/Dashboard.js","components/home/Home.js","components/welcome/Welcome.js","components/welcome/borrow-logo.png","components/welcome/SignUp.js","components/item_display/ItemInfo.js","components/item_display/EditItem.js","components/item_display/CreateItem.js","components/item_display/TicketCard.js","components/item_display/ItemTickets.js","components/item_display/ItemDisplay.js","components/search/SearchResult.js","components/search/SearchDisplay.js","components/profile/user/EditProfile.js","components/profile/friends/FriendCard.js","components/profile/friends/MyFriends.js","components/profile/user/UserInfo.js","components/profile/cupboard/CupboardCard.js","components/profile/cupboard/CupboardSearch.js","components/profile/cupboard/Cupboard.js","components/profile/Profile.js","slices/messagesSlice.js","components/ticket/Controls.js","components/ticket/ItemPanel.js","components/ticket/messenger/MessageForm.js","components/ticket/messenger/Message.js","components/ticket/messenger/Messenger.js","components/ticket/Ticket.js","App.js","store.js","index.js"],"names":["ActiveUserContext","createContext","ActiveUserProvider","children","useState","value","Provider","initialState","username","password","Login","setShowSignup","useContext","setActiveUser","formData","setFormData","error","setError","handleChange","e","target","name","className","onSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","then","res","ok","json","data","localStorage","setItem","token","user","type","required","placeholder","onChange","onClick","Nav","onSearch","activeUser","searchInput","setSearchInput","navigate","useNavigate","to","id","clear","Header","src","alt","FeedCard","item","onClickItem","image","owner","avatar","first_name","Feed","items","setItems","count","setCount","useEffect","console","log","map","length","FriendRequestCard","requester","request","last_name","FriendRequests","friendRequests","style","fontSize","color","NotificationCard","ticket","overdue","message","status","ActiveBorrows","borrows","ActiveLoans","loans","PendingTickets","pendingTickets","Dashboard","setFriendRequests","showFriendRequests","setShowFriendRequests","setBorrows","showBorrows","setShowBorrows","setLoans","showLoans","setShowLoans","setPendingTickets","showPendingTickets","setShowPendingTickets","requests","tickets","Home","Welcome","email","password_confirmation","SignUp","showSignup","errors","setErrors","size","event","ItemInfo","setShowItem","handleClickTag","isDeleting","setIsDeleting","description","tags","borrower","handleDelete","mode","renderStatusBar","backgroundImage","tag","renderDeleteButton","EditItem","join","tagCards","setTagCards","updateTagCards","setTimeout","filteredArr","split","filter","el","splice","set","Set","forEach","add","toLowerCase","Array","from","clearTimeout","rows","CreateItem","newItem","owner_id","TicketCard","return_date","ItemTickets","ItemDisplay","showItem","setShowSearch","setQuery","isLoading","setIsLoading","setTickets","friendStatus","setFriendStatus","handleCreateTicketRequest","item_id","borrower_id","show","renderDisplay","renderBorrowActions","SearchResult","result","onClickResult","SearchDisplay","showSearch","query","users","setUsers","onClickEx","handleClickResult","document","getElementById","focus","delayedSearch","EditProfile","showEditProfile","setShowEditProfile","current_password","showUpdatePassword","setShowUpdatePassword","new_password","FriendCard","friend","MyFriends","friends","showFriends","setShowFriends","profile","is_active","UserInfo","setProfile","isUnfriending","setIsUnfriending","setFriends","onClickAddItem","onClickShowFriends","handleUnfriend","friend_status","alert","handleSendFriendRequest","requester_id","receiver_id","handleAcceptFriendRequest","user_id","friend_id","handleDeclineFriendRequest","renderButtons","CupboardCard","CupboardSearch","total","sort","setSort","itemsLength","disabled","Cupboard","setTotal","Profile","params","useParams","parseInt","fetchMessages","createAsyncThunk","ticket_id","messages","messageAdded","messagesSlice","createSlice","entities","extraReducers","pending","state","fulfilled","action","payload","unshift","today","Date","toISOString","slice","Controls","isOwner","date","setDate","onClickDelete","onClickApprove","onClickReceive","onSetReturnDate","dateIsChanged","setDateIsChanged","onChangeDate","handleSubmitDate","resetDateForm","min","ItemPanel","formattedDate","setTicket","dispatch","useDispatch","dd","mm","str","yyyy","MessageForm","sender","receiver","handleSubmitMessage","text","setText","newMessage","sender_id","automated","Message","formattedMessage","Messenger","left","setLeft","right","setRight","useSelector","Ticket","isAuthorized","setIsAuthorized","setIsOwner","App","handleClickItem","getItem","blur","path","element","exact","store","configureStore","reducer","messagesReducer","ReactDOM","render","StrictMode"],"mappings":"m2BAEMA,EAAoBC,0BAE1B,SAASC,EAAmB,GAAe,IAAbC,EAAQ,EAARA,SAC7B,EAAoCC,mBAAS,MAAK,mBAE5CC,EAAQ,CAFG,KAAe,MAIhC,OACC,cAACL,EAAkBM,SAAQ,CAACD,MAAOA,EAAM,SACvCF,GAGJ,C,iCCVMI,G,MAAe,CAAEC,SAAU,GAAIC,SAAU,KAmEhCC,MA/Df,SAAe,GAAoB,IAAlBC,EAAa,EAAbA,cAChB,EAAoCC,qBAAWZ,GAAkB,mBAA9Ca,GAAF,KAAe,MAChC,EAAgCT,mBAASG,GAAa,mBAA/CO,EAAQ,KAAEC,EAAW,KAC5B,EAA0BX,mBAAS,MAAK,mBAAjCY,EAAK,KAAEC,EAAQ,KAItB,SAASC,EAAaC,GACrB,MAAwBA,EAAEC,OAAlBC,EAAI,EAAJA,KAAMhB,EAAK,EAALA,MACdU,EAAY,2BAAID,GAAQ,kBAAGO,EAAOhB,IACnC,CAyBA,OACC,sBAAKiB,UAAU,QAAO,UAEpBN,EAAQ,mBAAGM,UAAU,QAAO,SAAEN,IAAa,KAC5C,uBAAMO,SA3BR,SAAsBJ,GACrBA,EAAEK,iBACFC,MAAM,SAAU,CACfC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUhB,KAEpBiB,MAAK,SAACC,GACNjB,EAAYR,GACRyB,EAAIC,GAEPD,EAAIE,OAAOH,MAAK,SAACI,GAChBC,aAAaC,QAAQ,MAAOF,EAAKG,OACjCzB,EAAcsB,EAAKI,KACpB,IAEAP,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKlB,EAASkB,EAAKnB,MAAM,GAEhD,GACF,EAM+B,UAC5B,uBACCwB,KAAK,OACLC,UAAQ,EACRpB,KAAK,WACLqB,YAAY,WACZrC,MAAOS,EAASN,SAChBmC,SAAUzB,IAEX,uBACCsB,KAAK,WACLC,UAAQ,EACRpB,KAAK,WACLqB,YAAY,WACZrC,MAAOS,EAASL,SAChBkC,SAAUzB,IAEX,gDAED,sBAAM0B,QAAS,kBAAMjC,GAAc,EAAK,EAAC,8BAG5C,E,cChBekC,MA7Cf,SAAa,GAAe,IAAbC,EAAQ,EAARA,SACd,EAAoClC,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAAElC,EAAa,KAChC,EAAsCT,mBAAS,IAAG,mBAA3C4C,EAAW,KAAEC,EAAc,KAI5BC,EAAWC,cAkBjB,OACC,sBAAK7B,UAAU,MAAK,UACnB,sBAAKA,UAAU,YAAW,UACzB,cAAC,IAAI,CAAC8B,GAAI,IAAI,uBACd,cAAC,IAAI,CAACA,GAAE,gBAAWL,EAAWM,IAAK,yBAEpC,uBAAM9B,SAZR,SAAsBJ,GACrBA,EAAEK,iBACFsB,EAASE,GACTC,EAAe,GAChB,EAQ+B,UAC5B,uBACCI,GAAG,mBACHb,KAAK,OACLnC,MAAO2C,EACPN,YAAY,mCACZC,SAAU,SAACxB,GAAC,OAAK8B,EAAe9B,EAAEC,OAAOf,MAAM,IAEhD,iCAAQ,cAAC,IAAe,SAEzB,wBAAQiB,UAAU,UAAUsB,QAhC9B,WAECR,aAAakB,QACbzC,EAAc,MACdqC,EAAS,IACV,EA2BoD,wBAGrD,E,MCVeK,MAjCf,SAAgB,GAA8B,IAA5BT,EAAQ,EAARA,SAAUnC,EAAa,EAAbA,cAC3B,EAAoCC,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAqBjB,OArBgC,KAsB/B,yBAAQzB,UAAU,SAAQ,UACzB,sBAAKA,UAAU,OAAM,UACpB,cAAC,IAAI,CAAC8B,GAAG,IAAG,SAAC,qBAAKI,ICjCP,isMDiCkBC,IAAI,WACjC,gDAnBEV,EAEF,cAAC,EAAG,CACHD,SAAUA,IAKX,cAAC,EAAK,CACLnC,cAAeA,MAepB,E,MEde+C,MArBf,SAAkB,GAAwB,IAAtBC,EAAI,EAAJA,KAAMC,EAAW,EAAXA,YAEjBP,EAA2BM,EAA3BN,GAAIQ,EAAuBF,EAAvBE,MAAOxC,EAAgBsC,EAAhBtC,KAAMyC,EAAUH,EAAVG,MAEzB,OACC,sBAAKxC,UAAU,YAAW,UACzB,qBAAKA,UAAU,WACdkC,IAAKK,EACLJ,IAAKpC,EACLuB,QAAS,kBAAMgB,EAAYP,EAAG,IAE/B,gCACC,cAAC,IAAI,CAACD,GAAE,eAAUU,EAAMT,IAAK,SAC5B,qBAAK/B,UAAU,cAAckC,IAAKM,EAAMC,OAAQN,IAAI,aAErD,8BAAIK,EAAME,WAAU,MAAK3C,UAI7B,E,MC4Be4C,MA9Cf,SAAc,GAAkB,IAAhBL,EAAW,EAAXA,YACf,EAAoChD,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACN3C,mBAAS,KAAG,mBAA/B8D,EAAK,KAAEC,EAAQ,KACtB,EAA0B/D,mBAAS,GAAE,mBAA9BgE,EAAK,KAAEC,EAAQ,KAqBtB,OAjBAC,qBAAU,WACT7C,MAAM,iBAAD,OAAkBsB,EAAWM,GAAE,kBAAUe,IAC5CrC,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACmC,GAAK,OAAKC,EAASD,EAAM,IAE1ClC,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,GAAG,CAACiC,EAAOrB,IASV,qBAAKzB,UAAU,OAAM,SACpB,qBAAKA,UAAU,iBAAgB,SAC9B,sBAAKA,UAAU,YAAW,UACxB4C,EAAMO,KAAI,SAACd,GAAI,OACf,cAAC,EAAQ,CAERA,KAAMA,EACNC,YAAaA,GAFRD,EAAKN,GAGT,IAEFa,EAAMQ,OAAS,GAAKR,EAAMQ,OAAS,KAAO,EAAI,KAC9C,wBAAQ9B,QAhBb,WACCyB,GAAS,SAAAD,GAAK,OAAIA,EAAQ,EAAE,GAC7B,EAc2C,6BAQ5C,E,MClCeO,MAZf,SAA2B,GAAc,IAEhCC,EAF2B,EAAPC,QAEpBD,UAER,OACC,sBAAKtD,UAAU,wCAAuC,UACrD,qBAAKA,UAAU,UAAS,SAAC,qBAAKkC,IAAKoB,EAAUb,OAAQN,IAAI,WACzD,8BAAImB,EAAUZ,WAAU,IAAGY,EAAUE,UAAS,iCAGjD,E,MCaeC,MArBf,SAAwB,GAAqB,IAAnBC,EAAc,EAAdA,eAEzB,OACC,qCACEA,EAAeP,KAAI,SAACI,GAAO,OAC3B,cAAC,IAAI,CACJzB,GAAE,gBAAWyB,EAAQD,UAAUvB,IAAK,SAGpC,cAAC,EAAiB,CACjBwB,QAASA,KAHLA,EAAQxB,GAKP,IAEmB,IAA1B2B,EAAeN,OACf,sBAAMO,MAAO,CAACC,SAAU,OAAQC,MAAO,qBAAqB,kCACzD,OAGP,ECNeC,MAff,SAA0B,GAAa,IAAXC,EAAM,EAANA,OAEnBxB,EAAoCwB,EAApCxB,MAAOyB,EAA6BD,EAA7BC,QAASC,EAAoBF,EAApBE,QAASC,EAAWH,EAAXG,OAEjC,OACC,sBAAKlE,UAAS,oCAA+BgE,EAAO,YAAIE,GAAS,UAChE,qBAAKlE,UAAU,UAAS,SAAC,qBAAKkC,IAAKK,EAAOJ,IAAI,WAC9C,sBAAKnC,UAAU,oBAAmB,UAChCgE,EAAU,mBAAGL,MAAO,CAACE,MAAO,qBAAsBD,SAAU,UAAU,qBAAe,KACtF,4BAAIK,SAIR,ECSeE,MApBf,SAAuB,GAAc,IAAZC,EAAO,EAAPA,QAExB,OACC,qCACEA,EAAQjB,KAAI,SAACY,GAAM,OACnB,cAAC,IAAI,CACJjC,GAAE,kBAAaiC,EAAOhC,IAAK,SAG3B,cAAC,EAAgB,CAChBgC,OAAQA,KAHJA,EAAOhC,GAIJ,IAEU,IAAnBqC,EAAQhB,OACR,sBAAMO,MAAO,CAACC,SAAU,OAAQC,MAAO,qBAAqB,kCACzD,OAGP,ECGeQ,MArBf,SAAqB,GAAY,IAAVC,EAAK,EAALA,MAEtB,OACC,qCACEA,EAAMnB,KAAI,SAACY,GAAM,OACjB,cAAC,IAAI,CACJjC,GAAE,kBAAaiC,EAAOhC,IAAK,SAG3B,cAAC,EAAgB,CAChBgC,OAAQA,EACRG,OAAQ,UAJJH,EAAOhC,GAKJ,IAEQ,IAAjBuC,EAAMlB,OACN,sBAAMO,MAAO,CAACC,SAAU,OAAQC,MAAO,qBAAqB,kCACzD,OAGP,ECGeU,MAtBf,SAAwB,GAAqB,IAAnBC,EAAc,EAAdA,eAEzB,OACC,qCACEA,EAAerB,KAAI,SAACY,GAAM,OAC1B,cAAC,IAAI,CACJjC,GAAE,kBAAaiC,EAAOhC,IAAK,SAG3B,cAAC,EAAgB,CAChBgC,OAAQA,EACRG,OAAQ,aAJJH,EAAOhC,GAMN,IAEmB,IAA1ByC,EAAepB,OACf,sBAAMO,MAAO,CAACC,SAAU,OAAQC,MAAO,qBAAqB,kCACzD,OAGP,E,gBCoJeY,MAlKf,WACC,MAAoCnF,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAEjB,GAFgC,KAEY3C,mBAAS,KAAG,mBAAjD4E,EAAc,KAAEgB,EAAiB,KACxC,EAAoD5F,oBAAS,GAAM,mBAA5D6F,EAAkB,KAAEC,EAAqB,KAEhD,EAA8B9F,mBAAS,IAAG,mBAAnCsF,EAAO,KAAES,EAAU,KAC1B,EAAsC/F,oBAAS,GAAM,mBAA9CgG,EAAW,KAAEC,EAAc,KAElC,EAA0BjG,mBAAS,IAAG,mBAA/BwF,EAAK,KAAEU,EAAQ,KACtB,EAAkClG,oBAAS,GAAM,mBAA1CmG,EAAS,KAAEC,EAAY,KAE9B,EAA4CpG,mBAAS,IAAG,mBAAjD0F,EAAc,KAAEW,EAAiB,KACxC,EAAoDrG,oBAAS,GAAM,mBAA5DsG,EAAkB,KAAEC,EAAqB,KA8DhD,OA1DArC,qBAAU,WACT7C,MAAM,yBAAD,OAA0BsB,EAAWM,KACxCtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC6E,GAChBZ,EAAkBY,EACnB,IAEA5E,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,GAAG,CAACY,IAIJuB,qBAAU,WACT7C,MAAM,qBAAD,OAAsBsB,EAAWM,KACpCtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC8E,GAChBJ,EAAkBI,EACnB,IAEA7E,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,GAAG,CAACY,IAIJuB,qBAAU,WACT7C,MAAM,oBAAD,OAAqBsB,EAAWM,KACnCtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC8E,GAChBV,EAAWU,EACZ,IAEA7E,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,GAAG,CAACY,IAIJuB,qBAAU,WACT7C,MAAM,kBAAD,OAAmBsB,EAAWM,KACjCtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC8E,GAChBP,EAASO,EACV,IAEA7E,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,GAAG,CAACY,IAGH,sBAAKzB,UAAU,YAAW,UACzB,mBAAGA,UAAU,mBAAkB,uBAC/B,sBAAKA,UAAU,gBAAe,UAC7B,sBAAKA,UAAS,+BAA0B2E,GAAqB,UAC5D,sBAAK3E,UAAqC,IAA1B0D,EAAeN,OAAe,OAAS,KAAK,UAC3D,cAAC,IAAe,IAAIM,EAAeN,UAEpC,gDACCuB,EACA,cAAC,IAAc,CAAC3E,UAAU,QAAQsB,QAAS,kBAAMsD,GAAsB,EAAM,IAE7E,cAAC,IAAY,CAAC5E,UAAU,QAAQsB,QAAS,kBAAMsD,GAAsB,EAAK,OAG3ED,EACA,qBAAK3E,UAAU,qBAAoB,SAClC,cAAC,EAAc,CACd0D,eAAgBA,MAGf,QAEL,sBAAK1D,UAAU,gBAAe,UAC9B,sBAAKA,UAAS,+BAA0BoF,GAAqB,UAC5D,sBAAKpF,UAAqC,IAA1BwE,EAAepB,OAAe,OAAS,KAAK,UAC3D,cAAC,IAAe,IAAIoB,EAAepB,UAEnC,gDACCgC,EACA,cAAC,IAAc,CAACpF,UAAU,QAAQsB,QAAS,kBAAM+D,GAAsB,EAAM,IAE7E,cAAC,IAAY,CAACrF,UAAU,QAAQsB,QAAS,kBAAM+D,GAAsB,EAAK,OAG3ED,EACA,qBAAKpF,UAAU,qBAAoB,SAClC,cAAC,EAAc,CACdwE,eAAgBA,MAGf,QAEL,sBAAKxE,UAAU,gBAAe,UAC9B,sBAAKA,UAAS,+BAA0B8E,GAAc,UACpD,sBAAK9E,UAA8B,IAAnBoE,EAAQhB,OAAe,OAAS,KAAK,UACpD,cAAC,IAAe,IAAIgB,EAAQhB,UAE7B,iEACC0B,EACA,cAAC,IAAc,CAAC9E,UAAU,QAAQsB,QAAS,kBAAMyD,GAAe,EAAM,IAEtE,cAAC,IAAY,CAAC/E,UAAU,QAAQsB,QAAS,kBAAMyD,GAAe,EAAK,OAGnED,EACA,qBAAK9E,UAAU,qBAAoB,SAClC,cAAC,EAAa,CACboE,QAASA,MAGR,QAEN,sBAAKpE,UAAU,gBAAe,UAC9B,sBAAKA,UAAS,+BAA0BiF,GAAY,UAClD,sBAAKjF,UAA4B,IAAjBsE,EAAMlB,OAAe,OAAS,KAAK,UAClD,cAAC,IAAe,IAAIkB,EAAMlB,UAE3B,6DACC6B,EACA,cAAC,IAAc,CAACjF,UAAU,QAAQsB,QAAS,kBAAM4D,GAAa,EAAM,IAEpE,cAAC,IAAY,CAAClF,UAAU,QAAQsB,QAAS,kBAAM4D,GAAa,EAAK,OAGjED,EACA,qBAAKjF,UAAU,qBAAoB,SAClC,cAAC,EAAW,CACXsE,MAAOA,MAGN,UAIT,E,MC1JekB,MAZf,SAAc,GAAkB,IAAhBlD,EAAW,EAAXA,YACf,OACC,sBAAKtC,UAAU,OAAM,UACpB,cAAC,EAAS,IAEV,cAAC,EAAI,CACJsC,YAAaA,MAIjB,E,MCGemD,MAdf,WACC,OACC,qBAAKzF,UAAU,UAAS,SACvB,sBAAKA,UAAU,eAAc,UAC5B,qBAAKkC,ICRM,isMDQKC,IAAI,SACpB,sBAAKnC,UAAU,eAAc,UAC5B,6CACA,oBAAGA,UAAU,WAAU,6CAAiC,uBAAK,iDAKlE,EEXMf,G,MAAe,CACpByD,WAAY,GACZc,UAAW,GACXkC,MAAO,GACPxG,SAAU,GACVuD,OAAQ,GACRtD,SAAU,GACVwG,sBAAuB,KAyHTC,MAtHf,SAAgB,GAAgC,IAA9BC,EAAU,EAAVA,WAAYxG,EAAa,EAAbA,cAC7B,EAAoCC,qBAAWZ,GAAkB,mBAA9Ca,GAAF,KAAe,MAChC,EAAgCT,mBAASG,GAAa,mBAA/CO,EAAQ,KAAEC,EAAW,KAC5B,EAA4BX,mBAAS,IAAG,mBAAjCgH,EAAM,KAAEC,EAAS,KAIxB,SAASnG,EAAaC,GACrB,MAAwBA,EAAEC,OAAlBC,EAAI,EAAJA,KAAMhB,EAAK,EAALA,MACdU,EAAY,2BAAID,GAAQ,kBAAGO,EAAOhB,IACnC,CA2BA,OAAK8G,EAKJ,qBAAK7F,UAAU,SAAQ,SACtB,sBAAKA,UAAU,mBAAkB,UAChC,sBAAKA,UAAU,gBAAe,UAC7B,+CACA,cAAC,IAAQ,CACRsB,QAAS,kBAAMjC,GAAc,EAAM,EACnC2G,KAAK,UAGP,uBAAM/F,SAvCT,SAAsBgG,GACrBA,EAAM/F,iBACNC,MAAM,SAAU,CACfC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUhB,KAEpBiB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACI,GAEhBC,aAAaC,QAAQ,MAAOF,EAAKG,OACjC3B,GAAc,GACdE,EAAcsB,EAAKI,KACpB,IAEAP,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKkF,EAAUlF,EAAKiF,OAAO,GAElD,GACF,EAkBgC,UAC5B,kCAAO,4CACL,uBACA3E,UAAQ,EACRD,KAAK,OACLnB,KAAK,aACLsB,SAAUzB,EACVb,MAAOS,EAASkD,gBAGjB,kCAAO,2CACN,uBACAvB,UAAQ,EACRD,KAAK,OACLnB,KAAK,YACLsB,SAAUzB,EACVb,MAAOS,EAASgE,eAGjB,kCAAO,uCACN,uBACArC,UAAQ,EACRD,KAAK,QACLnB,KAAK,QACLsB,SAAUzB,EACVb,MAAOS,EAASkG,WAGjB,kCAAO,0CACN,uBACAvE,UAAQ,EACRD,KAAK,OACLnB,KAAK,WACLsB,SAAUzB,EACVb,MAAOS,EAASN,cAGjB,kCAAO,0CACN,uBACAiC,UAAQ,EACRD,KAAK,WACLnB,KAAK,WACLsB,SAAUzB,EACVb,MAAOS,EAASL,cAGjB,kCAAO,kDACN,uBACAgC,UAAQ,EACRD,KAAK,WACLnB,KAAK,wBACLsB,SAAUzB,EACVb,MAAOS,EAASmG,2BAGjB,wBAAQ3F,UAAU,aAAY,qBAC9B,oBAAIA,UAAU,SAAQ,SACpB8F,EAAO3C,KAAI,SAACzD,GAAK,OACjB,6BAAiBA,GAARA,EAAmB,cAvE3B,IA8ET,E,MCJewG,MA1Hf,SAAkB,GAAiD,IAA/C7D,EAAI,EAAJA,KAAM8D,EAAW,EAAXA,YAAaZ,EAAO,EAAPA,QAASa,EAAc,EAAdA,eAC/C,EAAoC9G,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACI3C,oBAAS,IAAM,mBAA5CuH,EAAU,KAAEC,EAAa,KAExBvE,EAAkDM,EAAlDN,GAAIwE,EAA8ClE,EAA9CkE,YAAarC,EAAiC7B,EAAjC6B,OAAQsC,EAAyBnE,EAAzBmE,KAAMhE,EAAmBH,EAAnBG,MAAOiE,EAAYpE,EAAZoE,SA+C9C,SAASC,IACRvG,MAAM,UAAD,OAAW4B,GAAM,CACrB3B,OAAQ,WAEPK,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC4B,GAChB8D,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,IAChC,IAEAjG,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,CAkCA,OACC,sBAAKb,UAAU,YAAW,UA3F3B,WAEC,GAAIyB,EAAWM,KAAOS,EAAMT,GAAI,CAE/B,GAAIwD,EAAQnC,OAAS,EACpB,OACC,sBAAKpD,UAAU,kBAAiB,UAC/B,mEACA,wBACCsB,QAAS,kBAAM6E,EAAY,CAAC9D,KAAMA,EAAMsE,KAAM,QAAQ,EAAC,0BAQ1D,IAAM1C,EAAqB,SAAXC,EAAoB,mBAAkB,4BAAwBuC,EAAS/D,YACvF,OACC,sBAAK1C,UAAU,kBAAiB,+BACZiE,IAKvB,CACC,OACC,cAAC,IAAI,CAACnC,GAAE,gBAAWU,EAAMT,IAAK,SAC7B,sBACC/B,UAAU,YACVsB,QAAS,kBAAM6E,EAAY,CAAE9D,KAAM,KAAMsE,KAAM,IAAK,EAAC,UAErD,8BAAK,qBAAKzE,IAAKM,EAAMC,OAAQN,IAAI,aACjC,6CAAgBK,EAAME,WAAU,IAAGF,EAAMgB,iBAM9C,CAqDGoD,GACD,qBACCjD,MAAO,CAACkD,gBAAgB,OAAD,OAASxE,EAAKE,MAAK,MAC1CvC,UAAU,eAGX,mBAAGA,UAAU,cAAa,SAAEuG,IAC5B,qBAAKvG,UAAU,cAAa,SAC1BwG,EAAKrD,KAAI,SAAC2D,GAAG,OACb,wBAECxF,QAAS,kBAAM8E,EAAeU,EAAI,EAAC,SAElCA,GAHIA,EAIG,MA9Cb,WAEC,GAAIrF,EAAWM,KAAOS,EAAMT,GAE3B,OAAIwD,EAAQnC,OAAS,EAEnB,mCAEEiD,EACA,wBAAQrG,UAAU,uBAAuBsB,QAASoF,EAAa,4BAI/D,wBACC1G,UAAU,uBACVsB,QAAS,kBAAMgF,GAAc,EAAK,EAAC,4BAStC,mBAAGtG,UAAU,uBAAsB,gEAIvC,CAqBG+G,KAGJ,E,MCaeC,MAvIf,SAAkB,GAAwB,IAAtB3E,EAAI,EAAJA,KAAM8D,EAAW,EAAXA,YAInBlH,EAAe,CACpBc,KAAMsC,EAAKtC,KACXwC,MAAOF,EAAKE,MACZgE,YAAalE,EAAKkE,YAElBC,KAAMnE,EAAKmE,KAAKS,KAAK,MAAQ,KAG9B,EAAgCnI,mBAASG,GAAa,mBAA/CO,EAAQ,KAAEC,EAAW,KAC5B,EAAgCX,mBAAS,IAAG,mBAArCoI,EAAQ,KAAEC,EAAW,KAE5B,SAASvH,EAAaC,GACrB,MAAwBA,EAAEC,OAAlBf,EAAK,EAALA,MAAOgB,EAAI,EAAJA,KACfN,EAAY,2BAAID,GAAQ,kBAAGO,EAAOhB,IACnC,CAuDA,OAnDAiE,qBAAU,WAET,IAAMoE,EAAiBC,YAAW,WAElC,IAEMC,EAFM9H,EAASgH,KAAKe,MAAM,aAERC,QAAO,SAACC,GAAE,MAAY,KAAPA,CAAS,IAAEC,OAAO,EAAG,GAEtDC,EAAM,IAAIC,IAChBN,EAAYO,SAAQ,SAACJ,GAAE,OAAKE,EAAIG,IAAIL,EAAGM,cAAc,IAErDZ,EAAYa,MAAMC,KAAKN,GACvB,GAAG,KAEH,OAAO,WACNO,aAAad,EACd,CACD,GAAG,CAAC5H,EAASgH,OAmCZ,sBAAKxG,UAAU,YAAW,UACzB,sBAAKA,UAAU,mBAAkB,UAChC,0CACA,wBAAQsB,QAAS,kBAAM6E,EAAY,CAAC9D,KAAMA,EAAMsE,KAAM,IAAI,EAAC,qBAI5D,uBAAM1G,SAtCR,SAAsBJ,GACrBA,EAAEK,iBAEqB,KAAnBV,EAAS+C,OACZ9C,EAAY,2BAAID,GAAQ,IAAE+C,MAAOF,EAAKE,SAEvCpC,MAAM,UAAD,OAAWkC,EAAKN,IAAM,CAC1B3B,OAAQ,QACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,2BACjBhB,GAAQ,IACXgH,KAAMU,OAGNzG,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC4B,GAEhB8D,EAAY,CAAC9D,KAAMA,EAAMsE,KAAM,KAC/BlH,EAAYR,EACb,IAEAyB,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,EAW+B,UAC5B,kCAAO,2CACN,uBACAM,UAAQ,EACRD,KAAK,OACLnB,KAAK,OACLsB,SAAUzB,EACVb,MAAOS,EAASO,UAGjB,kCAAO,uCACN,uBACAmB,KAAK,OACLnB,KAAK,QACLsB,SAAUzB,EACVb,MAAOS,EAAS+C,WAGjB,kCAAO,6CACN,0BACAxC,KAAK,cACLoI,KAAK,IACL9G,SAAUzB,EACVb,MAAOS,EAAS+G,iBAIjB,wBAAOvG,UAAU,aAAY,UAAC,sCAC7B,sBAAKA,UAAU,YAAW,UACzB,sBAAKA,UAAU,eAAc,UAC5B,4EACA,oDACA,uDAED,0BACAD,KAAK,OACLoI,KAAK,IACL9G,SAAUzB,EACVb,MAAOS,EAASgH,OAGhB,qBAAKxG,UAAU,cAAa,SAC1BkH,EAAS/D,KAAI,SAAC2D,GAAG,OACjB,4BAAcA,GAANA,EAAc,YAK1B,wBAAQ9G,UAAU,kBAAiB,8BAIvC,ECpIMf,G,MAAe,CACpBc,KAAM,GACNwC,MAAO,GACPgE,YAAa,GACbC,KAAM,KA0HQ4B,MAvHf,SAAoB,GAAkB,IAAhBjC,EAAW,EAAXA,YACrB,EAAoC7G,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACA3C,mBAASG,IAAa,mBAA/CO,EAAQ,KAAEC,EAAW,KAC5B,EAAgCX,mBAAS,IAAG,mBAArCoI,EAAQ,KAAEC,EAAW,KAyB5B,SAASvH,EAAaC,GACrB,MAAwBA,EAAEC,OAAlBf,EAAK,EAALA,MAAOgB,EAAI,EAAJA,KACfN,EAAY,2BAAID,GAAQ,kBAAGO,EAAOhB,IACnC,CA+BA,OAvDAiE,qBAAU,WAET,IAAMoE,EAAiBC,YAAW,WAElC,IAEMC,EAFM9H,EAASgH,KAAKe,MAAM,aAERC,QAAO,SAACC,GAAE,MAAY,KAAPA,CAAS,IAAEC,OAAO,EAAG,GAEtDC,EAAM,IAAIC,IAChBN,EAAYO,SAAQ,SAACJ,GAAE,OAAKE,EAAIG,IAAIL,EAAGM,cAAc,IAErDZ,EAAYa,MAAMC,KAAKN,GACvB,GAAG,KAEH,OAAO,WACNO,aAAad,EACd,CACD,GAAG,CAAC5H,EAASgH,OAuCZ,qBAAKxG,UAAU,YAAW,SACzB,uBAAMC,SA/BR,SAAsBJ,GACrBA,EAAEK,iBACF,IAAMmI,EAAU,CACftI,KAAMP,EAASO,KACfwC,MAAO/C,EAAS+C,MAChBgE,YAAa/G,EAAS+G,YACtB+B,SAAU7G,EAAWM,GACrByE,KAAMU,EACNhD,OAAQ,QAET/D,MAAM,SAAU,CACfC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU6H,KAEpB5H,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC4B,GAChB8D,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,KAC/BlH,EAAYR,EACb,IAEAyB,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,EAI+B,UAC5B,kCAAO,2CACN,uBACAM,UAAQ,EACRD,KAAK,OACLnB,KAAK,OACLsB,SAAUzB,EACVb,MAAOS,EAASO,UAGjB,kCAAO,uCACN,uBACAoB,UAAQ,EACRD,KAAK,OACLnB,KAAK,QACLsB,SAAUzB,EACVb,MAAOS,EAAS+C,WAGjB,kCAAO,6CACN,0BACAxC,KAAK,cACLoI,KAAK,IACL9G,SAAUzB,EACVb,MAAOS,EAAS+G,iBAIjB,wBAAOvG,UAAU,aAAY,UAAC,sCAC7B,sBAAKA,UAAU,YAAW,UACzB,sBAAKA,UAAU,eAAc,UAC5B,4EACA,oDACA,uDAED,0BACAD,KAAK,OACLoI,KAAK,IACL9G,SAAUzB,EACVb,MAAOS,EAASgH,OAGhB,qBAAKxG,UAAU,cAAa,SAC1BkH,EAAS/D,KAAI,SAAC2D,GAAG,OACjB,4BAAcA,GAANA,EAAc,YAK1B,wBAAQ9G,UAAU,kBAAiB,6BAIvC,E,MClEeuI,MAzDf,SAAoB,GAAsB,IAApBxE,EAAM,EAANA,OAAQhD,EAAO,EAAPA,QAC7B,EAAoCzB,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAETgF,GAFwB,KAE0B1C,EAAlD0C,UAAUjE,EAAwCuB,EAAxCvB,MAAOgG,EAAiCzE,EAAjCyE,YAAaxE,EAAoBD,EAApBC,QAASE,EAAWH,EAAXG,OA4C/C,OACC,sBAAKlE,UAAU,cAAa,UAC3B,4BAxCGyG,EAAS1E,KAAON,EAAWM,GAEf,cAAXmC,EACI,uCAEc,eAAXA,EACH,6CAEc,aAAXA,EACJ,GAAN,OAAU1B,EAAME,WAAU,uCAEhBsB,EACH,0DAGA,uCAKO,cAAXE,EACG,GAAN,OAAUuC,EAAS/D,WAAU,sCAER,eAAXwB,EACJ,GAAN,OAAUuC,EAAS/D,WAAU,4CAER,aAAXwB,EACJ,wCAAN,OAA+CuC,EAAS/D,YAC9CsB,EAEJ,GAAN,OAAUyC,EAAS/D,WAAU,gDAAwC8F,EAAW,KAG1E,GAAN,OAAU/B,EAAS/D,WAAU,uCAQ9B,cAAC,IAAI,CAACZ,GAAE,kBAAaiC,EAAOhC,IAAMT,QAAS,kBAAMP,EAAQ,KAAK,EAAC,SAC9D,qDAIJ,E,MC1Ce0H,MAdf,SAAqB,GAAc,IAAZlD,EAAO,EAAPA,QAEtB,OACC,qBAAKvF,UAAU,oBAAmB,SAChCuF,EAAQpC,KAAI,SAACY,GAAM,OACnB,cAAC,EAAU,CAEVA,OAAQA,GADHA,EAAOhC,GAEX,KAIN,E,MC0Me2G,MAhNf,SAAqB,GAAqD,IAAnDC,EAAQ,EAARA,SAAUxC,EAAW,EAAXA,YAAayC,EAAa,EAAbA,cAAeC,EAAQ,EAARA,SAC5D,EAAoCvJ,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACE3C,oBAAS,IAAK,mBAAzCgK,EAAS,KAAEC,EAAY,KAC9B,EAA8BjK,mBAAS,IAAG,mBAAnCyG,EAAO,KAAEyD,EAAU,KAC1B,EAAwClK,mBAAS,MAAK,mBAA/CmK,EAAY,KAAEC,EAAe,KAE5B7G,EAAesG,EAAftG,KAAMsE,EAASgC,EAAThC,KAER/E,EAAWC,cA6CjB,SAASsH,IACRhJ,MAAM,WAAY,CACjBC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CACpB4I,QAAS/G,EAAKN,GACduG,SAAUjG,EAAKG,MAAMT,GACrBsH,YAAa5H,EAAWM,OAGxBtB,MAAM,SAAAC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACsD,GAEhBnC,EAAS,WAAD,OAAYmC,EAAOhC,KAC3BoE,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,IAChC,IAEAjG,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,CAoGA,SAASuF,EAAeU,GAEvBX,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,KAC/BkC,EAAS/B,GACT8B,EAAc,CAAEU,MAAM,EAAM3C,KAAM,SACnC,CAIA,OA7KA3D,qBAAU,WAELvB,GAAcY,GAAiB,QAATsE,GAErBlF,EAAWM,KAAOM,EAAKG,MAAMT,IAChC5B,MAAM,yBAAD,OAA0BsB,EAAWM,GAAE,mBAAWM,EAAKG,MAAMT,KACjEtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAAI,GAAI,OAAIqI,EAAgBrI,EAAKqD,OAAOyC,KAAK,IAEzDjG,EAAIE,OAAOH,MAAK,SAAAI,GAAI,OAAIoC,QAAQC,IAAIrC,EAAK,GAE3C,GAGH,GAAG,CAACY,EAAYY,EAAMsE,IAItB3D,qBAAU,WACTgG,EAAW,IACXD,GAAa,GAETtH,GAAcY,GAAiB,QAATsE,GACzBxG,MAAM,yBAAD,OAA0BkC,EAAKN,GAAE,iBAASN,EAAWM,GAAE,MAC3DtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC8E,GAChByD,EAAWzD,GACXwD,GAAa,EACd,IAEArI,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GAGF,GAAG,CAACY,EAAYY,EAAMsE,IAwIjBtE,EAKJ,qBAAKrC,UAAU,eAAc,SAC3B8I,GAAsB,QAATnC,EAAiB,KAC9B,sBAAK3G,UAAU,yBAAwB,UACtC,sBAAKA,UAAU,sBAAqB,UACnC,4BAAa,QAAT2G,EAAiB,eAAiBtE,EAAKtC,OAC3C,cAAC,IAAQ,CACTuB,QAAS,kBAAM6E,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,IAAI,EAClDX,KAAK,UArHV,WACC,OAAQW,GACP,IAAK,OACJ,OACC,cAAC,EAAQ,CACRtE,KAAMA,EACN8D,YAAaA,IAGhB,IAAK,MACJ,OACC,cAAC,EAAU,CACVA,YAAaA,IAGhB,QACC,OACC,cAAC,EAAQ,CACR9D,KAAMA,EACN8D,YAAaA,EACbZ,QAASA,EACTa,eAAgBA,IAIrB,CA+FKmD,GA3FL,WAEC,GAAa,QAAT5C,EACH,OAAO,KAED,GAAIpB,EAAQnC,OAAS,EAC3B,OACC,cAAC,EAAW,CACXmC,QAASA,EACT9D,WAAYA,EACZ0E,YAAaA,IAIT,GAAI1E,EAAWM,KAAOM,EAAKG,MAAMT,GAAI,CAE1C,GAAqB,YAAjBkH,EACH,OACC,wBACCjJ,UAAU,mBACVsB,QAAS6H,EAA0B,4BAM/B,GAAqB,gBAAjBF,EACV,OACC,cAAC,IAAI,CAACnH,GAAE,eAAUO,EAAKG,MAAMT,IAAK,SACjC,yBACC/B,UAAU,qBACVsB,QAAS,kBAAM6E,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,IAAI,EAAC,oBAE3CtE,EAAKG,MAAME,WAAU,uBAK1B,GAAqB,qBAAjBuG,EACV,OACC,cAAC,IAAI,CAACnH,GAAE,eAAUO,EAAKG,MAAMT,IAAK,SACjC,yBACC/B,UAAU,qBACVsB,QAAS,kBAAM6E,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,IAAI,EAAC,oBAE3CtE,EAAKG,MAAME,WAAU,uBAK1B,GAAqB,mBAAjBuG,EACV,OACC,cAAC,IAAI,CAACnH,GAAE,eAAUO,EAAKG,MAAMT,IAAK,SACjC,yBACC/B,UAAU,qBACVsB,QAAS,kBAAM6E,EAAY,CAAC9D,KAAM,KAAMsE,KAAM,IAAI,EAAC,wBAEvCtE,EAAKG,MAAME,WAAU,uCAKvC,CACD,CA6BK8G,QAfG,IAoBT,E,MCpLeC,MAjCf,SAAsB,GAAkC,IAAhCC,EAAM,EAANA,OAAQxI,EAAI,EAAJA,KAAMyI,EAAa,EAAbA,cAuBrC,OACC,qBACC3J,UAAS,wBAAmBkB,EAAI,SAChCI,QAAS,kBAAMqI,EAAcD,EAAO3H,GAAG,EAAC,SArB5B,SAATb,EAEF,qCACC,8BAAK,qBAAKgB,IAAKwH,EAAOjH,OAAQN,IAAI,aAClC,8BAAIuH,EAAOhH,WAAU,IAAGgH,EAAOlG,gBAKhC,qCACC,8BAAK,qBAAKtB,IAAKwH,EAAOnH,MAAOJ,IAAI,WACjC,4BAAIuH,EAAO3J,WAehB,E,MC4Ie6J,MAtKf,SAAuB,GAA8D,IAA5DC,EAAU,EAAVA,WAAYjB,EAAa,EAAbA,cAAekB,EAAK,EAALA,MAAOjB,EAAQ,EAARA,SAAUvG,EAAW,EAAXA,YACpE,EAAoChD,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACM3C,mBAAS,KAAG,mBAA3C4C,EAAW,KAAEC,EAAc,KAClC,EAA0B7C,mBAAS,IAAG,mBAA/BiL,EAAK,KAAEC,EAAQ,KACtB,EAA0BlL,mBAAS,IAAG,mBAA/B8D,EAAK,KAAEC,EAAQ,KA8FtB,SAASoH,IACRD,EAAS,IACTnH,EAAS,IACT+F,EAAc,CAACU,MAAM,EAAO3C,KAAM,IACnC,CAEA,SAASuD,EAAkBnI,GAC1BkI,IAEA3H,EAAYP,EACb,CAEA,OAhGAiB,qBAAU,WACL6G,EAAWP,OACd3H,EAAemI,GAEfK,SAASC,eAAe,wBAAwBC,QAEhDlK,MAAM,IAAD,OAAyB,UAApB0J,EAAWlD,KAAmB,QAAU,QAAO,mBAAWlF,EAAWM,IAAM,CACpF3B,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CACpBsJ,MAAOA,MAGPrJ,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACI,GACQ,UAApBgJ,EAAWlD,KACdqD,EAASnJ,GACqB,UAApBgJ,EAAWlD,MACrB9D,EAAShC,EAEX,IAEAH,EAAIE,OAAOH,MAAK,SAACsJ,GAAK,OAAK9G,QAAQC,IAAI6G,EAAM,GAE/C,IAEH,GAAG,CAACD,EAAOrI,EAAYoI,IAIvB7G,qBAAU,WACT,IAAMsH,EAAgBjD,YAAW,WAChCwB,EAASnH,EACV,GAAG,KAEH,OAAO,WACNwG,aAAaoC,EACd,CACD,GAAG,CAAC5I,EAAamH,IAuDZgB,EAAWP,KAKf,qBAAKtJ,UAAU,iBAAgB,SAC9B,sBAAKA,UAAU,2BAA0B,UACxC,sBAAKA,UAAU,wBAAuB,UACrC,+CACA,cAAC,IAAQ,CACRsB,QAAS2I,EACTjE,KAAK,UAGP,sBAAKhG,UAAU,cAAa,UAC3B,sBAAKA,UAAU,aAAY,UAC1B,uBAAMC,SAtHX,SAAsBJ,GACrBA,EAAEK,iBACF2I,EAASnH,EACV,EAmHkC,UAC5B,uBACCR,KAAK,OACLa,GAAG,uBACHhD,MAAO2C,EACPN,YAAW,oBAAmC,UAApByI,EAAWlD,KAAmB,OAAS,eACjEtF,SAAU,SAACxB,GAAC,OAAK8B,EAAe9B,EAAEC,OAAOf,MAAM,IAEhD,wBAAQiB,UAAU,cAAa,SAC9B,cAAC,IAAe,SAGlB,sBAAKA,UAAU,SAAQ,UACtB,sBAAKA,UAAU,cAAa,UAC3B,wBACCA,UAAS,iBAAgC,UAApB6J,EAAWlD,KAAgB,YAAIkD,EAAWlD,MAC/DrF,QAAS,kBAAMsH,EAAc,CAACU,MAAM,EAAM3C,KAAM,SAAS,EAAC,mBAI3D,wBACC3G,UAAS,iBAAgC,UAApB6J,EAAWlD,KAAgB,YAAIkD,EAAWlD,MAC/DrF,QAAS,kBAAMsH,EAAc,CAACU,MAAM,EAAM3C,KAAM,SAAS,EAAC,sBAK5D,qBAAK3G,UAAU,wBAGjB,qBAAKA,UAAU,iBAAgB,SA/FV,UAApB6J,EAAWlD,MAAoBoD,EAAM3G,OAAS,EAEhD2G,EAAM5G,KAAI,SAAClC,GAAI,OACd,cAAC,IAAI,CAEJK,QAAS2I,EACTnI,GAAE,gBAAWb,EAAKc,IAAK,SAEvB,cAAC,EAAY,CACZ2H,OAAQzI,EACRC,KAAK,UANDD,EAAKc,GAQJ,IAIqB,UAApB8H,EAAWlD,MAAoB/D,EAAMQ,OAAS,EAEvDR,EAAMO,KAAI,SAACd,GAAI,OACd,cAAC,EAAY,CAEZqH,OAAQrH,EACRnB,KAAK,OACLyI,cAAeO,GAHV7H,EAAKN,GAIT,IAKH,mBAAG4B,MAAO,CAACE,MAAO,qBAAqB,wCAqBlC,IAqDT,E,MCHe0G,MApKf,SAAqB,GAAyC,IAAvCC,EAAe,EAAfA,gBAAiBC,EAAkB,EAAlBA,mBACvC,EAAoCnL,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAAElC,EAAa,KAE1BN,EAAe,CACpByD,WAAYjB,EAAWiB,WACvBc,UAAW/B,EAAW+B,UACtBtE,SAAUuC,EAAWvC,SACrBuD,OAAQhB,EAAWgB,OACnBiI,iBAAkB,GAClBvL,SAAU,GACVwG,sBAAuB,IAGxB,EAAgC7G,mBAASG,GAAa,mBAA/CO,EAAQ,KAAEC,EAAW,KAC5B,EAAoDX,oBAAS,GAAM,mBAA5D6L,EAAkB,KAAEC,EAAqB,KAIhD,SAAShL,EAAaC,GACrB,MAAwBA,EAAEC,OAAlBC,EAAI,EAAJA,KAAMhB,EAAK,EAALA,MACdU,EAAY,2BAAID,GAAQ,kBAAGO,EAAOhB,IACnC,CAiCA,OAAKyL,EAWJ,qBAAKxK,UAAU,SAAQ,SACtB,sBAAKA,UAAU,mBAAkB,UAChC,sBAAKA,UAAU,gBAAe,UAC7B,gDACA,cAAC,IAAQ,CACRsB,QAZL,WACC7B,EAAYgC,GACZmJ,GAAsB,GACtBH,GAAmB,EACpB,EASKzE,KAAK,UAGP,uBAAM/F,SAnDT,SAAsBgG,GACrBA,EAAM/F,iBAEkB,KAApBV,EAASiD,QACZhD,EAAY,2BAAID,GAAQ,IAAEiD,OAAQhB,EAAWgB,UAE9CtC,MAAM,UAAD,OAAWsB,EAAWM,IAAM,CAChC3B,OAAQ,QACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,2BACjBhB,GAAQ,IAEXqL,aAAcF,OAGdlK,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACQ,GAChBwJ,GAAmB,GACnBlL,EAAc0B,EACf,IAEAP,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,EAwBgC,UAC5B,kCAAO,4CACL,uBACAM,UAAQ,EACRD,KAAK,OACLnB,KAAK,aACLsB,SAAUzB,EACVb,MAAOS,EAASkD,gBAGjB,kCAAO,2CACN,uBACAvB,UAAQ,EACRD,KAAK,OACLnB,KAAK,YACLsB,SAAUzB,EACVb,MAAOS,EAASgE,eAGjB,kCAAO,0CACN,uBACArC,UAAQ,EACRD,KAAK,OACLnB,KAAK,WACLsB,SAAUzB,EACVb,MAAOS,EAASN,cAGjB,kCAAO,wCACN,uBACAgC,KAAK,OACLnB,KAAK,SACLsB,SAAUzB,EACVb,MAAOS,EAASiD,YAGjB,kCAAO,6DACN,uBACAtB,UAAQ,EACRD,KAAK,WACLnB,KAAK,mBACLsB,SAAUzB,EACVb,MAAOS,EAASkL,sBAMhBC,EACA,sBAAK3K,UAAU,eAAc,UAC5B,sBAAKA,UAAU,yBAAwB,UACtC,gDACA,wBAAQsB,QAAS,kBAAMsJ,GAAsB,EAAM,EAAC,2BAIrD,kCAAO,8CACN,uBACAzJ,UAAQ,EACRD,KAAK,WACLnB,KAAK,WACLsB,SAAUzB,EACVb,MAAOS,EAASL,cAGjB,kCAAO,sDACN,uBACAgC,UAAQ,EACRD,KAAK,WACLnB,KAAK,wBACLsB,SAAUzB,EACVb,MAAOS,EAASmG,8BAKlB,sBACC3F,UAAU,kBACVsB,QAAS,kBAAMsJ,GAAsB,EAAK,EAAC,8BAK7C,4DAtGG,IA2GT,E,MC3JeE,MATf,SAAoB,GAAa,IAAXC,EAAM,EAANA,OACrB,OACC,sBAAK/K,UAAU,cAAa,UAC3B,8BAAK,qBAAKkC,IAAK6I,EAAOtI,OAAQN,IAAI,aAClC,8BAAI4I,EAAOrI,WAAU,IAAGqI,EAAOvH,eAGlC,E,MC8BewH,MAlCf,SAAmB,GAAoD,IAAlDC,EAAO,EAAPA,QAASC,EAAW,EAAXA,YAAaC,EAAc,EAAdA,eAAgBC,EAAO,EAAPA,QAI1D,OAAKF,EAKJ,qBAAKlL,UAAU,aAAY,SAC1B,sBAAKA,UAAU,oBAAmB,UACjC,sBAAKA,UAAU,iBAAgB,UAC9B,4BAAIoL,EAAQC,UAAY,aAAY,UAAMD,EAAQnK,KAAKyB,WAAU,gBACjE,cAAC,IAAQ,CACRpB,QAAS,kBAAM6J,GAAe,EAAM,EACpCnF,KAAK,UAGP,qBAAKhG,UAAU,eAAc,SAC3BiL,EAAQ9H,KAAI,SAAC4H,GAAM,OACnB,cAAC,IAAI,CAEJjJ,GAAE,gBAAWiJ,EAAOhJ,IACpBT,QAAS,kBAAM6J,GAAe,EAAM,EAAC,SAErC,cAAC,EAAU,CAACJ,OAAQA,KAJfA,EAAOhJ,GAKN,WArBJ,IA2BT,E,MCyLeuJ,MAzNf,SAAkB,GAAgG,IAA9FF,EAAO,EAAPA,QAASG,EAAU,EAAVA,WAAYC,EAAa,EAAbA,cAAeC,EAAgB,EAAhBA,iBAAkBR,EAAO,EAAPA,QAASS,EAAU,EAAVA,WAAYC,EAAc,EAAdA,eAC9F,EAAoCrM,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACc3C,oBAAS,IAAM,mBAAtD0L,EAAe,KAAEC,EAAkB,KAC1C,EAAsC3L,oBAAS,GAAM,mBAA9CoM,EAAW,KAAEC,EAAc,KAIlC,SAASS,IACRzL,MAAM,qBAAD,OAAsBiL,EAAQnK,KAAKc,KACtCtB,MAAK,SAACC,GACFA,EAAIC,IACP8K,GAAiB,GACjBN,GAAe,GACfzK,EAAIE,OAAOH,MAAK,SAACwK,GAAO,OAAKS,EAAWT,EAAQ,KAEhDvK,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,CAKA,SAASgL,IAER1L,MAAM,gBAAD,OAAiBiL,EAAQU,cAAc/J,IAAM,CACjD3B,OAAQ,WAEPK,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyD,GAAM,OAAKqH,EAAW,2BACnCH,GAAO,IACVU,cAAe5H,IACd,IAEFxD,EAAIE,OAAOH,MAAK,SAACI,GAChBkL,MAAMlL,EAAKnB,OACX+L,GAAiB,EAClB,GAEF,GACF,CAGA,SAASO,IACR7L,MAAM,mBAAoB,CACzBC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CACpByL,aAAcxK,EAAWM,GACzBmK,YAAad,EAAQnK,KAAKc,OAG1BtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyD,GAAM,OAAKqH,EAAW,2BACnCH,GAAO,IACVU,cAAe5H,IACd,IAEFxD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,CAGA,SAASsL,IACRhM,MAAM,eAAgB,CACrBC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CACpB4L,QAAS3K,EAAWM,GACpBsK,UAAWjB,EAAQnK,KAAKc,OAGxBtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyD,GAAM,OAAKqH,EAAW,2BACnCH,GAAO,IACVU,cAAe5H,IACd,IAEFxD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,CAGA,SAASyL,IACRnM,MAAM,oBAAD,OAAqBiL,EAAQU,cAAc/J,IAAM,CACrD3B,OAAQ,WAEPK,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyD,GAAM,OAAKqH,EAAW,2BACnCH,GAAO,IACVU,cAAe5H,IACd,IAEFxD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,CAgFA,OACC,qCAGC,cAAC,EAAW,CACX2J,gBAAiBA,EACjBC,mBAAoBA,IAErB,cAAC,EAAS,CACTW,QAASA,EACTH,QAASA,EACTC,YAAaA,EACbC,eAAgBA,IAKjB,sBAAKnL,UAAU,YAAW,UACzB,sBAAKA,UAAU,gBAAe,UAC7B,oBAAGA,UAAU,mBAAkB,UAAEoL,EAAQC,UAAY,KAAOD,EAAQnK,KAAKyB,WAAa,KAAI,eAC1F,qBAAKR,IAAKkJ,EAAQnK,KAAKwB,OAAQN,IAAI,cAEpC,sBAAKnC,UAAU,mBAAkB,UAChC,oBAAGA,UAAU,sBAAqB,UAAEoL,EAAQnK,KAAKyB,WAAU,IAAG0I,EAAQnK,KAAKuC,aAnG/E,WAEC,GAAI4H,EAAQC,UACX,OACC,sBAAKrL,UAAU,eAAc,UAC5B,wBAAQA,UAAU,WAAWsB,QAASqK,EAAe,sBAGrD,wBAAQ3L,UAAU,WAAWsB,QAAS,kBAAMmJ,GAAmB,EAAK,EAAC,6BAGrE,wBAAQzK,UAAU,WAAWsB,QAASsK,EAAmB,2BAM3D,OAAQR,EAAQU,cAAcnF,MAE7B,IAAK,UACJ,OACC,sBAAK3G,UAAU,eAAc,UAC3BwL,EACA,sBAAKxL,UAAU,qBAAoB,UAClC,8CACA,wBAAQA,UAAU,MAAMsB,QAASuK,EAAe,iBAGhD,wBAAQ7L,UAAU,KAAKsB,QAAS,kBAAMmK,GAAiB,EAAM,EAAC,mBAK/D,yBAAQzL,UAAU,WAAWsB,QAAS,kBAAMmK,GAAiB,EAAK,EAAC,sBACxDL,EAAQnK,KAAKyB,cAGzB,yBAAQ1C,UAAU,WAAWsB,QAASsK,EAAmB,kBAClDR,EAAQnK,KAAKyB,WAAU,oBAKjC,IAAK,mBACJ,OACC,qBAAK1C,UAAU,eAAc,SAC5B,wBAAQA,UAAU,WAAU,4CAM/B,IAAK,iBACJ,OACC,sBAAKA,UAAU,eAAc,UAC5B,yBAAQA,UAAU,WAAWsB,QAAS6K,EAA0B,oBACvDf,EAAQnK,KAAKyB,WAAU,uBAEhC,yBAAQ1C,UAAU,WAAWsB,QAASgL,EAA2B,qBACvDlB,EAAQnK,KAAKyB,WAAU,0BAKpC,QACC,OACC,qBAAK1C,UAAU,eAAc,SAC5B,yBAAQA,UAAU,WAAWsB,QAAS0K,EAAwB,oBACrDZ,EAAQnK,KAAKyB,gBAM5B,CA0BK6J,WAKN,E,MC7MeC,MAbf,SAAsB,GAAwB,IAAtBnK,EAAI,EAAJA,KAAMC,EAAW,EAAXA,YAE7B,OACC,sBAAKtC,UAAU,gBACdsB,QAAS,kBAAMgB,EAAYD,EAAKN,GAAG,EAAC,UAEpC,qBAAK4B,MAAO,CAACkD,gBAAgB,OAAD,OAASxE,EAAKE,MAAK,QAE/C,4BAAIF,EAAKtC,SAGZ,E,MC0De0M,MApEf,SAAwB,GAA+F,IAA7FC,EAAK,EAALA,MAAO5J,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAAU4J,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAAS/D,EAAQ,EAARA,SAAUnH,EAAW,EAAXA,YAAaC,EAAc,EAAdA,eAAgBkL,EAAW,EAAXA,YAgBvG,OACC,sBAAK7M,UAAU,eAAc,UAC5B,sBAAKA,UAAS,mCAA8B0M,GAAS,IAAK,UACxC,IAAhBG,EAAoB,WACpB,8BAAI/J,EAAQ,EAAC,IAAGA,EAAQ+J,EAAW,OAAMH,KAEzCA,GAAS,GAAK,KACd,gCACC,wBACCpL,QAAS,kBAAMyB,GAAS,SAAAD,GAAK,OAAIA,EAAQ,EAAE,GAAC,EAC5CgK,SAAoB,IAAVhK,EAAY,kBAIvB,wBACCxB,QAAS,kBAAMyB,GAAS,SAAAD,GAAK,OAAIA,EAAQ,EAAE,GAAC,EAC5CgK,SAAUD,EAAc,IAAM/J,EAAQ+J,IAAgBH,EAAM,wBAOhE,sBAAK1M,UAAU,kBAAiB,UAC/B,uBAAMC,SApCT,SAAsBJ,GACrBA,EAAEK,iBACF0M,EAAQ,UACR/D,EAASnH,EACV,EAgCgC,UAC5B,uBACCR,KAAK,OACLnC,MAAO2C,EACPN,YAAY,wBACZC,SAAU,SAACxB,GAAC,OAAK8B,EAAe9B,EAAEC,OAAOf,MAAM,IAEhD,wBAAQiB,UAAU,cAAa,SAAC,cAAC,IAAe,SAEjD,wBACCA,UAAU,QACVsB,QAzCJ,WACCsL,EAAQ,UACR/D,EAAS,IACTlH,EAAe,GAChB,EAqC0B,6BAIxB,yBACC3B,UAAU,gBACVD,KAAK,OACLhB,MAAO4N,EACPtL,SAAU,SAACxB,GAAC,OAAK+M,EAAQ/M,EAAEC,OAAOf,MAAM,EAAC,UAEzC,wBAAQA,MAAM,SAAQ,8BACtB,wBAAQA,MAAM,SAAQ,mCAI1B,E,MCSegO,MA1Ef,SAAkB,GAA2B,IAAzB3B,EAAO,EAAPA,QAAS9I,EAAW,EAAXA,YAC5B,EAA0BxD,mBAAS,IAAG,mBAA/B8D,EAAK,KAAEC,EAAQ,KACtB,EAA0B/D,mBAAS,IAAG,mBAA/B4N,EAAK,KAAEM,EAAQ,KACtB,EAA0BlO,mBAAS,GAAE,mBAA9BgE,EAAK,KAAEC,EAAQ,KACtB,EAAwBjE,mBAAS,UAAS,mBAAnC6N,EAAI,KAAEC,EAAO,KACpB,EAAsC9N,mBAAS,IAAG,mBAA3C4C,EAAW,KAAEC,EAAc,KAClC,EAA0B7C,mBAAS,IAAG,mBAA/BgL,EAAK,KAAEjB,EAAQ,KA0CtB,OAtCA7F,qBAAU,WACT,IAAMsH,EAAgBjD,YAAW,WAChCuF,EAAQ,UACR/D,EAASnH,EACV,GAAG,KAEH,OAAO,WACNwG,aAAaoC,EACd,CACD,GAAG,CAAC5I,IAIJsB,qBAAU,WACT7C,MAAM,qBAAD,OAAsBiL,EAAQnK,KAAKc,IAAM,CAC7C3B,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAEpBsC,MAAOA,EACP6J,KAAMA,EACN7C,MAAOA,MAGPrJ,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACI,GAChBgC,EAAShC,EAAK+B,OACdoK,EAASnM,EAAK6L,MACf,IAEAhM,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,GAAG,CAACuK,EAAStI,EAAO6J,EAAM7C,IAGzB,sBAAK9J,UAAU,WAAU,UACxB,cAAC,EAAc,CACd8C,MAAOA,EACPC,SAAUA,EACV4J,KAAMA,EACNC,QAASA,EACT/D,SAAUA,EACVnH,YAAaA,EACbC,eAAgBA,EAChBkL,YAAajK,EAAMQ,OACnBsJ,MAAOA,IAER,qBAAK1M,UAAU,kBAAiB,SAC/B4C,EAAMO,KAAI,SAACd,GAAI,OACf,cAAC,EAAY,CAEZA,KAAMA,EACNC,YAAaA,GAFRD,EAAKN,GAGT,QAKN,E,MCJekL,I,EAAAA,EAlEf,SAAiB,GAAkC,IAAhC3K,EAAW,EAAXA,YAAaqJ,EAAc,EAAdA,eAC/B,EAAoCrM,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACD3C,mBAAS,OAAK,mBAAtCsM,EAAO,KAAEG,EAAU,KAC1B,EAA8BzM,mBAAS,IAAG,mBAAnCmM,EAAO,KAAES,EAAU,KAC1B,EAA0C5M,oBAAS,GAAM,mBAAlD0M,EAAa,KAAEC,EAAgB,KAEhCyB,EAASC,cAkCf,OA9BAnK,qBAAU,WACTyI,GAAiB,GACjBC,EAAW,IAEPjK,EAAWM,KAAOqL,SAASF,EAAOd,SACrCb,EAAW,CACVtK,KAAMQ,EACN4J,WAAW,IAIZlL,MAAM,yBAAD,OAA0BsB,EAAWM,GAAE,mBAAWmL,EAAOd,UAC7D3L,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACI,GAChB0K,EAAW,CACVtK,KAAMJ,EAAKI,KACXoK,WAAW,EACXS,cAAejL,EAAKqD,QAEtB,IAEAxD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GAEF,GAAG,CAACqM,EAAQzL,IAIP2J,EAKJ,sBAAKpL,UAAU,UAAS,UACvB,cAAC,EAAQ,CACRoL,QAASA,EACTG,WAAYA,EACZC,cAAeA,EACfC,iBAAkBA,EAClBR,QAASA,EACTS,WAAYA,EACZC,eAAgBA,IAGhBP,EAAQC,WAA4C,YAA/BD,EAAQU,cAAcnF,KAC3C,cAAC,EAAQ,CACTyE,QAASA,EACT9I,YAAaA,IAEV,QApBE,IAuBT,E,SCrEa+K,GAAgBC,aAAiB,yBAAyB,SAACC,GACvE,OAAOpN,MAAM,oBAAD,OAAqBoN,IAC/B9M,MAAK,SAACC,GAAG,OAAKA,EAAIE,MAAM,IACxBH,MAAK,SAAC+M,GAAQ,OAAKA,CAAQ,GAC9B,IAEaC,GAAeH,aAAiB,yBAAyB,SAACrJ,GACtE,OAAO9D,MAAM,aAAc,CAC1BC,OAAQ,OACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAUyD,KAEpBxD,MAAK,SAACC,GAAG,OAAKA,EAAIE,MAAM,IACxBH,MAAK,SAACwD,GAAO,OAAKA,CAAO,GAC5B,IAyBeyJ,GAvBOC,aAAY,CAChC5N,KAAM,WACNd,aAAc,CACZ2O,SAAU,GACZ1J,OAAQ,QAET2J,eAAa,mBACXR,GAAcS,SAAO,SAAEC,GACvBA,EAAM7J,OAAS,SAChB,IAAC,cACAmJ,GAAcW,WAAS,SAAED,EAAOE,GAChCF,EAAMH,SAAWK,EAAOC,QACxBH,EAAM7J,OAAS,MAChB,IAAC,cACAuJ,GAAaK,SAAO,SAAEC,GACtBA,EAAM7J,OAAS,SAChB,IAAC,cACAuJ,GAAaO,WAAS,SAAED,EAAOE,GAC/BF,EAAMH,SAASO,QAAQF,EAAOC,QAC/B,IAAC,KAIiC,QCvC9BE,I,OAAQ,IAAIC,MAAOC,cAAcC,MAAM,EAAG,KAmLjCC,OAjLf,SAAkB,GAAqG,IAAnGzK,EAAM,EAANA,OAAQ0K,EAAO,EAAPA,QAASC,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAASC,EAAa,EAAbA,cAAeC,EAAc,EAAdA,eAAgBC,EAAc,EAAdA,eAAgBC,EAAe,EAAfA,gBAClG,EAA0CjQ,oBAAS,GAAM,mBAAlDkQ,EAAa,KAAEC,EAAgB,KAE9BzM,EAAyCuB,EAAzCvB,MAAOiE,EAAkC1C,EAAlC0C,SAAU+B,EAAwBzE,EAAxByE,YAAatE,EAAWH,EAAXG,OAItC,SAASgL,EAAarP,GACrB8O,EAAQ9O,EAAEC,OAAOf,OACjBkQ,GAAiB,EAClB,CAEA,SAASE,EAAiBtP,GACzBA,EAAEK,iBACF+O,GAAiB,GACjBF,GACD,CA0JA,OAvJA/L,qBAAU,WACT,IAAMoM,EAAgB/H,YAAW,WAChC4H,GAAiB,GACjBN,EAAQnG,EACT,GAAG,KAEH,OAAO,WACNN,aAAakH,EACd,CACD,GAAG,CAACJ,EAAejL,IA+IlB,qBAAK/D,UAAU,WAAU,SA3I1B,WAEC,GAAKyO,EAuDE,CAEN,GAAe,eAAXvK,EAEH,OACC,qCACC,mBAAGlE,UAAU,kBAAiB,8CAC9B,qBAAKA,UAAU,eAAc,SAC5B,wBAAQsB,QAASsN,EAAc,kCAS9B,GAAe,cAAX1K,EAER,OACC,qCACC,oBAAGlE,UAAU,kBAAiB,wBAAayG,EAAS/D,WAAU,sBAC9D,sBAAK1C,UAAU,eAAc,UAC5B,wBAAQsB,QAASuN,EAAe,6BAGhC,wBAAQvN,QAASsN,EAAc,mCAO5B,GAAe,aAAX1K,EAEV,OACC,qCACC,oBAAGlE,UAAU,kBAAiB,yBAAcyG,EAAS/D,WAAU,gCAC/D,qBAAK1C,UAAU,eAAc,SAC5B,wBAAQsB,QAASsN,EAAc,gCAO5B,GAAe,YAAX1K,EAEV,OACC,qCACC,mBAAGlE,UAAU,kBAAiB,sDAC9B,sBAAKA,UAAU,eAAc,UAC5B,uBAAMA,UAAU,YAAYC,SAAUkP,EAAiB,UACrDH,EACA,wBAAQhP,UAAS,sBAAiBgP,GAAgB,oBAIlD,wBAAQlC,UAAQ,uCAEjB,uBACC3L,UAAQ,EACRD,KAAK,OACLnB,KAAK,cACLsP,IAAKjB,GACLrP,MAAO2P,EACPrN,SAAU6N,OAGZ,wBAAQ5N,QAASsN,EAAc,8CAOpC,KAnIc,CAEb,GAAe,eAAX1K,EAEH,OACC,qCACC,mBAAGlE,UAAU,kBAAiB,mDAC9B,qBAAKA,UAAU,eAAc,SAC5B,wBAAQsB,QAASsN,EAAc,8CAQ9B,GAAe,cAAX1K,EAER,OACC,qCACC,oBAAGlE,UAAU,kBAAiB,yBAAcwC,EAAME,WAAU,uBAC5D,qBAAK1C,UAAU,eAAc,SAC5B,wBAAQsB,QAASsN,EAAc,8CAO5B,GAAe,aAAX1K,EAEV,OACC,qCACC,oBAAGlE,UAAU,kBAAiB,iBAAMwC,EAAME,WAAU,+CACpD,sBAAK1C,UAAU,eAAc,UAC5B,wBAAQsB,QAASwN,EAAe,2BAGhC,wBAAQxN,QAASsN,EAAc,kCAO5B,GAAe,YAAX1K,EAEV,OACC,mCACC,oBAAGlE,UAAU,kBAAiB,uDAA4CwC,EAAME,WAAU,uEAM9F,CA6ED,CAMG6J,IAGJ,E,MCJe+C,OAzKf,SAAmB,GAAiC,IA4B/CC,EA5BgBxL,EAAM,EAANA,OAAQyL,EAAS,EAATA,UAAWf,EAAO,EAAPA,QACvC,EAAoCnP,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACR3C,mBAASiF,EAAOyE,cAAY,mBAA7CkG,EAAI,KAAEC,EAAO,KACpB,EAAwB7P,mBAAS,MAAK,mBAA/BuD,EAAI,KAAEtB,EAAO,KAEZyB,EAA2BuB,EAA3BvB,MAAOgG,EAAoBzE,EAApByE,YAAazG,EAAOgC,EAAPhC,GAEtBH,EAAWC,cAEX4N,EAAWC,cAqBjB,GAjBA1M,qBAAU,WACLe,GACH5D,MAAM,UAAD,OAAW4D,EAAO1B,KAAKN,KAC3BtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC4B,GAAI,OAAKtB,EAAQsB,EAAK,IAEvC3B,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GAEF,GAAG,CAACkD,IAMgB,KAAhByE,EAAoB,CACvB,IACImH,EACAC,EAFAC,EAAMrH,EAKToH,EADc,MAAXC,EAAI,GACFA,EAAItB,MAAM,EAAG,GAEbsB,EAAItB,MAAM,EAAG,GAIlBoB,EADc,MAAXE,EAAI,GACFA,EAAItB,MAAM,EAAG,IAEbsB,EAAItB,MAAM,EAAG,IAGnB,IAAIuB,EAAOD,EAAItB,MAAM,EAAG,GACxBgB,EAAa,UAAMK,EAAE,YAAID,EAAE,YAAIG,EAChC,CAyFA,OAAKzN,EAKJ,sBAAKrC,UAAU,aAAY,UAC1B,mBAAGA,UAAU,oBAAmB,SAAEqC,EAAKtC,OACvC,qBAAKmC,IAAKG,EAAKE,MAAOJ,IAAKE,EAAKtC,OAChC,sBAAKC,UAAU,kBAAiB,UAC/B,8BAAG,0CAAmB,IAAEyO,EAAU,MAAQjM,EAAME,cAChD,8BAAG,gDAAyB,IAAEL,EAAKkE,eACnC,8BAAG,yCAAkB,IAAElE,EAAKmE,KAAKS,KAAK,YAEvC,sBAAKjH,UAAU,cAAa,UAC3B,8CAAiBwI,EAAc+G,EAAgB,QAC9CxL,EAAOC,QAAU,2CAAuB,QAE1C,cAAC,GAAQ,CACRD,OAAQA,EACR0K,QAASA,EACTC,KAAMA,EACNC,QAASA,EACTC,cA1GH,WACCzO,MAAM,kBAAD,OAAmB4B,EAAE,iBAASN,EAAWM,IAAM,CACnD3B,OAAQ,QACRC,QAAS,CACR,eAAgB,sBAGhBI,MAAM,SAAAC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACI,GAChBe,EAAS,SAAD,OAAUH,EAAWM,IAC9B,IAEArB,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,EA2FGgO,eAxFH,WACC1O,MAAM,oBAAD,OAAqB4B,GAAM,CAC/B3B,OAAQ,QACRC,QAAS,CACR,eAAgB,sBAGhBI,MAAM,SAAAC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyN,GAChBsB,EAAUtB,EAAQnK,QAElB0L,EAAShC,GAAaS,EAAQjK,SAC/B,IAEAvD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,EAuEGiO,eApEH,WACC3O,MAAM,oBAAD,OAAqB4B,GAAM,CAC/B3B,OAAQ,QACRC,QAAS,CACR,eAAgB,sBAGhBI,MAAM,SAAAC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyN,GAChBsB,EAAUtB,EAAQnK,QAElB0L,EAAShC,GAAaS,EAAQjK,SAC/B,IAEAvD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,EAmDGkO,gBAhDH,WACC5O,MAAM,iBAAD,OAAkB4B,GAAM,CAC5B3B,OAAQ,QACRC,QAAS,CACR,eAAgB,oBAEjBC,KAAMC,KAAKC,UAAU,CAACgI,YAAakG,MAElCjO,MAAM,SAAAC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACyN,GAChBsB,EAAUtB,EAAQnK,QAElB0L,EAAShC,GAAaS,EAAQjK,SAC/B,IAEAvD,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GACF,OAKQ,IA4BT,E,MC1IekP,OAlCf,SAAqB,GAAmD,IAAjDC,EAAM,EAANA,OAAQC,EAAQ,EAARA,SAAUlM,EAAM,EAANA,OAAQmM,EAAmB,EAAnBA,oBAChD,EAAwBpR,mBAAS,IAAG,mBAA7BqR,EAAI,KAAEC,EAAO,KAiBpB,OACC,qBAAKpQ,UAAU,eAAc,SAC5B,uBAAMC,SAfR,SAAsBJ,GACrBA,EAAEK,iBACF,IAAMmQ,EAAa,CAClBC,UAAWN,EAAOjO,GAClBmK,YAAa+D,EAASlO,GACtBwL,UAAWxJ,EAAOhC,GAClBoO,KAAMA,EACNI,WAAW,GAEZL,EAAoBG,GACpBD,EAAQ,GACT,EAI+B,UAC5B,uBACCjP,UAAQ,EACRD,KAAK,OACLnB,KAAK,OACLsB,SAAU,SAACxB,GAAC,OAAKuQ,EAAQvQ,EAAEC,OAAOf,MAAM,EACxCA,MAAOoR,IAER,8CAIJ,E,MCJeK,OA3Bf,SAAiB,GAAc,IAG1B7J,EAHc1C,EAAO,EAAPA,QAClB,EAAoC3E,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAIbgP,GAJ4B,KAITxM,EAAQkM,MAa/B,OATIlM,EAAQsM,WACX5J,EAAO,YACP8J,EAAgB,6BAAyBxM,EAAQkM,OAEjDxJ,EADU1C,EAAQqM,YAAc7O,EAAWM,GACpC,SAEA,WAIP,qBACC/B,UAAS,kBAAa2G,GAAO,SAE5B8J,GAGJ,E,MC0DeC,OA/Ef,SAAmB,GAA8B,IAA5B3M,EAAM,EAANA,OAAQ0K,EAAO,EAAPA,QAC5B,GAD2C,EAANvB,OACbpO,mBAAS,CAAC,IAAE,mBAA7B6R,EAAI,KAAEC,EAAO,KACpB,EAA0B9R,mBAAS,CAAC,GAAE,mBAA/B+R,EAAK,KAAEC,EAAQ,KAEhBtD,EAAWuD,aAAY,SAAChD,GAAK,OAAKA,EAAMP,SAASI,QAAQ,IAEzDhM,EAAWC,cAEX4N,EAAWC,cA4BjB,OAxBA1M,qBAAU,WACLe,GACH0L,EAASpC,GAActJ,EAAOhC,IAEhC,GAAG,CAACgC,EAAQ0L,IAUZzM,qBAAU,WACLyL,GACHmC,EAAQ7M,EAAOvB,OACfsO,EAAS/M,EAAO0C,YAEhBmK,EAAQ7M,EAAO0C,UACfqK,EAAS/M,EAAOvB,OAElB,GAAG,CAACuB,EAAQ0K,IAGX,qBAAKzO,UAAU,sBAAqB,SACnC,sBAAKA,UAAU,YAAW,UACzB,sBAAKA,UAAU,mBAAkB,UAChC,gCACC,qBACCA,UAAU,WACVkC,IAAKyO,EAAKlO,OACVN,IAAI,SACJb,QAAS,kBAAMM,EAAS,SAAD,OAAU+O,EAAK5O,IAAK,IAE5C,4BAAI4O,EAAKjO,gBAEV,mBAAG1C,UAAU,OAAM,yBACnB,gCACA,4BAAI6Q,EAAMnO,aACT,qBACC1C,UAAU,WACVkC,IAAK2O,EAAMpO,OACXN,IAAI,SACJb,QAAS,kBAAMM,EAAS,SAAD,OAAUiP,EAAM9O,IAAK,UAI/C,qBAAK/B,UAAU,eAAc,SAC3BwN,EAASrK,KAAI,SAACc,GAAO,OACrB,cAAC,GAAO,CAEPA,QAASA,GADJA,EAAQlC,GAEZ,MAGJ,cAAC,GAAW,CACXiO,OAAQW,EACRV,SAAUY,EACV9M,OAAQA,EACRmM,oBApDJ,SAA6BjM,GAC5BwL,EAAShC,GAAaxJ,GACvB,QAuDD,E,MCpBe+M,OA1Df,WACC,MAAoC1R,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KACjB,GADgC,KACQ3C,oBAAS,IAAM,mBAAhDmS,EAAY,KAAEC,EAAe,KACpC,EAA4BpS,mBAAS,MAAK,mBAAnCiF,EAAM,KAAEyL,EAAS,KACxB,EAA8B1Q,oBAAS,GAAM,mBAAtC2P,EAAO,KAAE0C,EAAU,KAEpBjE,EAASC,cA4Bf,OAxBAnK,qBAAU,WACLvB,GACHtB,MAAM,YAAD,OAAa+M,EAAOK,YACxB9M,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACsD,GAChByL,EAAUzL,GAENA,EAAOvB,MAAMT,KAAON,EAAWM,IAClCmP,GAAgB,GAChBC,GAAW,IACDpN,EAAO0C,SAAS1E,KAAON,EAAWM,IAC5CmP,GAAgB,EAElB,IAEAxQ,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,GAEF,GAAG,CAACY,EAAYyL,IAIX+D,EAIAlN,EAKJ,sBAAK/D,UAAU,SAAQ,UACtB,cAAC,GAAS,CACT+D,OAAQA,EACRyL,UAAWA,EACXf,QAASA,IAEV,cAAC,GAAS,CACT1K,OAAQA,EACR0K,QAASA,EACTvB,OAAQA,OAbH,mBAAGlN,UAAU,mBAAkB,2BAJ/B,mBAAGA,UAAU,mBAAkB,iDAqBxC,ECuFeoR,OA1If,WACC,MAAoC9R,qBAAWZ,GAAkB,mBAA1D+C,EAAU,KAAElC,EAAa,KAChC,EAAkCT,oBAAS,GAAK,mBAAzCgK,EAAS,KAAEC,EAAY,KAG9B,EAAoCjK,oBAAS,GAAM,mBAA5C+G,EAAU,KAAExG,EAAa,KAChC,EAAgCP,oBAAS,GAAM,mBAAxC6J,EAAQ,KAAExC,EAAW,KAC5B,EAAoCrH,oBAAS,GAAM,mBAA5C+K,EAAU,KAAEjB,EAAa,KAChC,EAA0B9J,mBAAS,IAAG,mBAA/BgL,EAAK,KAAEjB,EAAQ,KAyCtB,SAASwI,EAAgBtP,GACxBoE,GAAY,GACZhG,MAAM,UAAD,OAAW4B,IACdtB,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAAC4B,GAEhB8D,EAAY,CAAC9D,KAAMA,EAAMsE,KAAM,IAChC,IAGAjG,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKkL,MAAMlL,EAAKnB,MAAM,GAE7C,GACF,CAgBA,OAlEAsD,qBAAU,WACT,IAAMhC,EAAQF,aAAawQ,QAAQ,OAC/BtQ,IAAUS,EACbtB,MAAM,WAAY,CACjBE,QAAS,CACRW,MAAOA,EACP,eAAgB,sBAGjBP,MAAK,SAACC,GACFA,EAAIC,GACPD,EAAIE,OAAOH,MAAK,SAACgB,GAChBlC,EAAckC,GACdsH,GAAa,EACd,IAEArI,EAAIE,OAAOH,MAAK,SAACI,GAAI,OAAKoC,QAAQC,IAAIrC,EAAK,GAE7C,IAEAkI,GAAa,EAEf,GAAG,CAACtH,IA4CAqH,EACI,KAIL,sBAAK9I,UAAU,MAAK,UAIrB,cAAC,EAAW,CACXmG,YAAaA,EACbwC,SAAUA,EACVC,cAAeA,EACfC,SAAUA,IAEX,cAAC,EAAa,CACbgB,WAAYA,EACZjB,cAAeA,EACfkB,MAAOA,EACPjB,SAAUA,EACVvG,YAAa+O,IAEd,cAAC,EAAM,CACNxL,WAAYA,EACZxG,cAAeA,IAKhB,cAAC,EAAM,CACNA,cAAeA,EACfmC,SA3CH,SAAsBE,GACD,KAAhBA,IAEHkH,EAAc,CAACU,MAAM,EAAM3C,KAAM,UACjCkC,EAASnH,GAETyI,SAASC,eAAe,oBAAoBmH,OAE9C,IAwCE,eAAC,IAAM,WACN,cAAC,IAAK,CACLC,KAAK,iBACLC,QAAShQ,EACR,cAAC,EAAO,CACPa,YAAa+O,EACb1F,eAAgB,kBAAMxF,EAAY,CAAC9D,MAAM,EAAMsE,KAAM,OAAO,IAE1D,OAEL,cAAC,IAAK,CACL6K,KAAK,qBACLC,QACC,cAAC,GAAM,MAGT,cAAC,IAAK,CAACC,OAAK,EAACF,KAAK,IAAIC,QA5FjBhQ,EACN,cAAC,EAAI,CACJa,YAAa+O,IAEX,cAAC,EAAO,WA6Fd,EC1IeM,GANDC,aAAe,CAC3BC,QAAS,CACPrE,SAAUsE,M,MCGdC,IAASC,OACP,cAAC,IAAMC,WAAU,UACjB,cAAC,IAAQ,CAACN,MAAOA,GAAM,SACtB,cAAC/S,EAAkB,UAClB,cAAC,IAAa,UACb,cAAC,GAAG,YAKPuL,SAASC,eAAe,Q","file":"static/js/main.2663fe41.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\";\n\nconst ActiveUserContext = createContext();\n\nfunction ActiveUserProvider({ children }) {\n\tconst [activeUser, setActiveUser] = useState(null);\n\n\tconst value = [activeUser, setActiveUser];\n\n\treturn (\n\t\t<ActiveUserContext.Provider value={value}  >\n\t\t\t{children}\n\t\t</ActiveUserContext.Provider>\n\t)\n}\n\nexport { ActiveUserContext, ActiveUserProvider };","import React, { useState, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport \"./Login.css\";\n\nconst initialState = { username: \"\", password: \"\" };\n\n// ---------- Nav Bar: No Active User ----------\n\nfunction Login({ setShowSignup }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [formData, setFormData] = useState(initialState);\n\tconst [error, setError] = useState(null);\n\n\t// ---------- Login Form Submission ----------\n\n\tfunction handleChange(e) {\n\t\tconst { name, value } = e.target;\n\t\tsetFormData({...formData, [name]: value});\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tfetch(\"/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetFormData(initialState);\n\t\t\t\tif (res.ok) {\n\t\t\t\t\t// Handle JWT token\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\t\t\tsetActiveUser(data.user);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => setError(data.error));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"login\">\n\t\t\t{/* Render error if incorrect login */}\n\t\t\t{error ? <p className=\"error\">{error}</p> : null}\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\trequired\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\trequired\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tplaceholder=\"password\"\n\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t/>\n\t\t\t\t<button>Sign In</button>\n\t\t\t</form>\n\t\t\t<span onClick={() => setShowSignup(true)}>Create Account</span>\n\t\t</div>\n\t);\n}\n\nexport default Login;","import React, { useState, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport \"./Nav.css\";\n\n// ---------- Nav Bar: User Logged In ----------\n\nfunction Nav({ onSearch }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [searchInput, setSearchInput] = useState(\"\");\n\n\t// ---------- Logout ----------\n\n\tconst navigate = useNavigate();\n\n\tfunction handleLogout() {\n\t\t// Clear JWT token\n\t\tlocalStorage.clear();\n\t\tsetActiveUser(null);\n\t\tnavigate(\"/\");\n\t}\n\n\t// ---------- Search ----------\n\n\t// Trigger search modal\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tonSearch(searchInput);\n\t\tsetSearchInput(\"\");\n\t}\n\n\treturn (\n\t\t<div className=\"nav\">\n\t\t\t<div className=\"nav-links\">\n\t\t\t\t<Link to={\"/\"}>Dashboard</Link>\n\t\t\t\t<Link to={`/user/${activeUser.id}`}>Cupboard</Link>\n\t\t\t</div>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\tid=\"nav-search-input\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tvalue={searchInput}\n\t\t\t\t\tplaceholder=\"search by user, item name or tag\"\n\t\t\t\t\tonChange={(e) => setSearchInput(e.target.value)}\n\t\t\t\t/>\n\t\t\t\t<button><AiOutlineSearch/></button>\n\t\t\t</form>\n\t\t\t<button className=\"signout\" onClick={handleLogout}>Sign Out</button>\n\t\t</div>\n\t);\n}\n\nexport default Nav;","import React, { useContext} from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport { Link } from \"react-router-dom\";\nimport Login from \"./Login\";\nimport Nav from \"./Nav\";\nimport \"./Header.css\";\nimport Logo from \"./borrow-logo.png\";\n\nfunction Header({ onSearch, setShowSignup }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\n\t// ---------- Render Header ----------\n\n\t// Render navigation depending on whether user logged in or not\n\tfunction renderNavbar() {\n\t\tif (activeUser) {\n\t\t\treturn (\n\t\t\t\t<Nav\n\t\t\t\t\tonSearch={onSearch}\n\t\t\t\t/>\n\t\t\t)\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Login\n\t\t\t\t\tsetShowSignup={setShowSignup}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t}\n\n\treturn (\n\t\t<header className=\"header\">\n\t\t\t<div className=\"logo\">\n\t\t\t\t<Link to=\"/\"><img src={Logo} alt=\"logo\" /></Link>\n\t\t\t\t<h1>lemmeBorrow</h1>\n\t\t\t</div>\n\t\t\t{renderNavbar()}\n\t\t</header>\n\t);\n}\n\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAGmCAMAAAA9C8ymAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOJgAADiYBou8l/AAAAKhQTFRFAAAA4hER/8rK/8vL/8zM/83N/87O/8/P/9DQ/9HR/9LS/9PT/9TU/9XV/9bW/9fX/9jY/9ra/9zc/97e/+Dg/+Hh/+Pj/+Tk/+Xl/+bm/+jo/+np/+rq/+vr/+zs/+fn/+Li/9/f/9vb/9nZ/+3t/+/v//Dw//Ly//Pz//T0//X1//b2//f3//j4//n5//r6//z8//39//v7/+7u/93d//7+//////HxtEA5ggAAADh0Uk5TAP////////////////////////////////////////////////////////////////////////+1/GPFAAARK0lEQVR4nO2biXYbNxJFh5Ft7ftCy9S+i6QkS7Ki//+z6aacOE5E8VUVgEID757MmZmTHKBR9xJNyTP/+9/79EhnmaIUx/sAJATUT6ifUH/10H/1UH/10H/10H/10H/t0H/t0H/1MIDaof/aof/aYQC1Q/+1wwBqh/5rhwHUDgOoHPqvHQZQOwygdhhA5TCA2mEAlcMAaocBVA4DqB0GUDsMoHIYQO0wgMphAJUjCeAP0gXkBTCA0hAGwALKI04ALKBDSApgACUiCIAFFAkDqB08ABZQJngBcAAsoFPAAfAKKJMIAbCATgEHwALKBA+AL4EiiREAC+gSeAC8AookRgAsoEMIAmABJSIJgC+BAokTAAvoDKIAeAWUhywAFlAcsQJgAR1BGACvgNKIFgAL6AbSAFhAYYgD4EugLCIGwAK6gDwAXgFFETMAFtABFAGwgJLQBMCXQEHEDYAFZI8qAF4B5aALgAUUQ+wAWEDmKAPgFeBAlGFHD4AFhAAft3Tg2gBYQEIk+qUTVwfAl0AqpPplM08QAAswofEvmLk+AF4BSdD5x4eeIgAWoEfrHx46sNK0AFhAfNT64aEDC00NgC+B6Oj1o1MH1gkQAAvQoXaPDx1YZ3oAvALionePTx1Y5oMAWEBU9OrxoQPLBAmABShQmxfMHFjmowB4BUREb14wdGCVMAGwADFq75KZA6t8GAALiIfau2TkwCofB8CXQDT04gUjB1YJFQALEKL2Lpk4sMqMAHgFxEIvXjBxYJVgAbAAGWrv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\"","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./FeedCard.css\"\n\nfunction FeedCard({ item, onClickItem }) {\n\n\tconst { id, image, name, owner } = item;\n\n\treturn (\n\t\t<div className=\"feed-card\">\n\t\t\t<img className=\"item-img\"\n\t\t\t\tsrc={image}\n\t\t\t\talt={name}\n\t\t\t\tonClick={() => onClickItem(id)}\n\t\t\t/>\n\t\t\t<div>\n\t\t\t\t<Link to={`user/${owner.id}`}>\n\t\t\t\t\t<img className=\"user-avatar\" src={owner.avatar} alt=\"avatar\" />\n\t\t\t\t</Link>\n\t\t\t\t<p>{owner.first_name}'s {name}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default FeedCard;","import React, { useEffect, useState, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../../context/active_user\";\nimport FeedCard from \"./FeedCard\";\nimport \"./Feed.css\";\n\nfunction Feed({ onClickItem }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [items, setItems] = useState([]);\n\tconst [count, setCount] = useState(9);\n\n\t// ---------- Request 10 Most Recent Items ----------\n\n\tuseEffect(() => {\n\t\tfetch(`/items/recent/${activeUser.id}/count/${count}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((items) => setItems(items));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t}, [count, activeUser]);\n\n\t// ---------- Pagination ----------\n\n\tfunction handleIncrementCount() {\n\t\tsetCount(count => count + 10)\n\t}\n\n\treturn (\n\t\t<div className=\"feed\">\n\t\t\t<div className=\"feed-container\">\n\t\t\t\t<div className=\"feed-list\">\n\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t<FeedCard\n\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tonClickItem={onClickItem}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t\t{items.length < 1 || items.length % 10 !== 0 ? null : (\n\t\t\t\t\t\t<button onClick={handleIncrementCount}>\n\t\t\t\t\t\t\tShow More\n\t\t\t\t\t\t</button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Feed;","import React from \"react\";\nimport \"./NotificationCard.css\";\n\nfunction FriendRequestCard({ request }) {\n\n\tconst { requester } = request;\n\n\treturn (\n\t\t<div className=\"notification-card friend-request-card\">\n\t\t\t<div className=\"img-div\"><img src={requester.avatar} alt=\"item\" /></div>\n\t\t\t<p>{requester.first_name} {requester.last_name} wants to be your friend!</p>\n\t\t</div>\n\t);\n}\n\nexport default FriendRequestCard;","import React from \"react\";\nimport FriendRequestCard from \"./FriendRequestCard\";\nimport { Link } from \"react-router-dom\";\nimport \"./Dashboard.css\";\n\nfunction FriendRequests({ friendRequests }) {\n\n\treturn (\n\t\t<>\n\t\t\t{friendRequests.map((request) => (\n\t\t\t\t<Link\n\t\t\t\t\tto={`/user/${request.requester.id}`}\n\t\t\t\t\tkey={request.id}\n\t\t\t\t>\n\t\t\t\t\t<FriendRequestCard \n\t\t\t\t\t\trequest={request}\n\t\t\t\t\t/>\n\t\t\t\t</Link>\n\t\t\t))}\n\t\t\t{friendRequests.length === 0 ? (\n\t\t\t\t<span style={{fontSize: \"1rem\", color: \"var(--speed-cadet\"}}>&bull; &bull; &bull;</span>\n\t\t\t) : null}\n\t\t</>\n\t);\n}\n\nexport default FriendRequests;","import React from \"react\";\nimport \"./NotificationCard.css\";\n\nfunction NotificationCard({ ticket }) {\n\n\tconst { image, overdue, message, status } = ticket\n\n\treturn (\n\t\t<div className={`notification-card overdue-${overdue} ${status}`}>\n\t\t\t<div className=\"img-div\"><img src={image} alt=\"item\"/></div>\n\t\t\t<div className=\"notification-info\">\n\t\t\t\t{overdue ? <p style={{color: \"var(--maximum-red)\", fontSize: \"1.2rem\"}}>OVERDUE</p> : null}\n\t\t\t\t<p>{message}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default NotificationCard;","import React from \"react\";\nimport NotificationCard from \"./NotificationCard\";\nimport { Link } from \"react-router-dom\";\nimport \"./Dashboard.css\";\n\nfunction ActiveBorrows({ borrows }) {\n\n\treturn (\t\t\n\t\t<>\n\t\t\t{borrows.map((ticket) => (\n\t\t\t\t<Link\n\t\t\t\t\tto={`/ticket/${ticket.id}`}\n\t\t\t\t\tkey={ticket.id}\n\t\t\t\t>\n\t\t\t\t\t<NotificationCard \n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t/></Link>\n\t\t\t))}\n\t\t\t{borrows.length === 0 ? (\n\t\t\t\t<span style={{fontSize: \"1rem\", color: \"var(--speed-cadet\"}}>&bull; &bull; &bull;</span>\n\t\t\t) : null}\n\t\t</>\n\t);\n}\n\nexport default ActiveBorrows;","import React from \"react\";\nimport NotificationCard from \"./NotificationCard\";\nimport { Link } from \"react-router-dom\";\nimport \"./Dashboard.css\";\n\nfunction ActiveLoans({ loans }) {\n\n\treturn (\t\t\n\t\t<>\t\n\t\t\t{loans.map((ticket) => (\n\t\t\t\t<Link\n\t\t\t\t\tto={`/ticket/${ticket.id}`}\n\t\t\t\t\tkey={ticket.id}\n\t\t\t\t>\n\t\t\t\t\t<NotificationCard \n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tstatus={\"loan\"}\n\t\t\t\t/></Link>\n\t\t\t))}\n\t\t\t{loans.length === 0 ? (\n\t\t\t\t<span style={{fontSize: \"1rem\", color: \"var(--speed-cadet\"}}>&bull; &bull; &bull;</span>\n\t\t\t) : null}\n\t\t</>\n\t);\n}\n\nexport default ActiveLoans;","import React from \"react\";\nimport NotificationCard from \"./NotificationCard\";\nimport { Link } from \"react-router-dom\";\nimport \"./Dashboard.css\";\n\nfunction PendingTickets({ pendingTickets }) {\n\n\treturn (\t\t\n\t\t<>\n\t\t\t{pendingTickets.map((ticket) => (\n\t\t\t\t<Link\n\t\t\t\t\tto={`/ticket/${ticket.id}`}\n\t\t\t\t\tkey={ticket.id}\n\t\t\t\t>\n\t\t\t\t\t<NotificationCard \n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tstatus={\"pending\"}\n\t\t\t\t\t/>\n\t\t\t\t</Link>\n\t\t\t))}\n\t\t\t{pendingTickets.length === 0 ? (\n\t\t\t\t<span style={{fontSize: \"1rem\", color: \"var(--speed-cadet\"}}>&bull; &bull; &bull;</span>\n\t\t\t) : null}\n\t\t</>\n\t);\n}\n\nexport default PendingTickets;","import React, { useState, useEffect, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../../context/active_user\";\nimport FriendRequests from \"./FriendRequests\";\nimport ActiveBorrows from \"./ActiveBorrows\";\nimport ActiveLoans from\t\"./ActiveLoans\";\nimport PendingTickets from \"./PendingTickets\";\nimport { GoTriangleUp} from \"react-icons/go\";\nimport { GoTriangleDown} from \"react-icons/go\";\nimport { MdNotifications } from \"react-icons/md\";\nimport \"./Dashboard.css\";\n\nfunction Dashboard( ) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\t// Friend Requests\n\tconst [friendRequests, setFriendRequests] = useState([]);\n\tconst [showFriendRequests, setShowFriendRequests] = useState(false);\n\t// Items You're Borrowing\n\tconst [borrows, setBorrows] = useState([]);\n\tconst [showBorrows, setShowBorrows] = useState(false);\n\t// Items You've Loaned\n\tconst [loans, setLoans] = useState([]);\n\tconst [showLoans, setShowLoans] = useState(false);\n\t// Pending Requests\n\tconst [pendingTickets, setPendingTickets] = useState([]);\n\tconst [showPendingTickets, setShowPendingTickets] = useState(false);\n\n\t// ---------- Load Friend Requests ----------\n\n\tuseEffect(() => {\n\t\tfetch(`/friend_requests/user/${activeUser.id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((requests) => {\n\t\t\t\t\t\tsetFriendRequests(requests);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t}, [activeUser]);\n\n\t// ---------- Load Pending Tickets ----------\n\n\tuseEffect(() => {\n\t\tfetch(`/tickets/requests/${activeUser.id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((tickets) => {\n\t\t\t\t\t\tsetPendingTickets(tickets);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data))\n\t\t\t\t}\n\t\t\t})\n\t}, [activeUser]);\n\n\t// ---------- Load Active Borrows ----------\n\n\tuseEffect(() => {\n\t\tfetch(`/tickets/borrows/${activeUser.id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((tickets) => {\n\t\t\t\t\t\tsetBorrows(tickets);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data))\n\t\t\t\t}\n\t\t\t})\n\t}, [activeUser]);\n\n\t// ---------- Load Active Loans ----------\n\n\tuseEffect(() => {;\n\t\tfetch(`/tickets/loans/${activeUser.id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((tickets) => {\n\t\t\t\t\t\tsetLoans(tickets);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t}, [activeUser]);\n\n\treturn (\n\t\t<div className=\"dashboard\">\n\t\t\t<p className=\"dashboard-header\">Dashboard</p>\n\t\t\t<div className=\"notifications\">\n\t\t\t\t<div className={`notifications-header ${showFriendRequests}`}>\n\t\t\t\t\t<div className={friendRequests.length === 0 ? \"zero\" : null}>\n\t\t\t\t\t\t<MdNotifications />{friendRequests.length}\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>Friend Requests</p>\n\t\t\t\t\t{showFriendRequests ? (\n\t\t\t\t\t\t<GoTriangleDown className=\"arrow\" onClick={() => setShowFriendRequests(false)} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<GoTriangleUp className=\"arrow\" onClick={() => setShowFriendRequests(true)} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{showFriendRequests ? (\n\t\t\t\t\t<div className=\"notifications-list\">\n\t\t\t\t\t\t<FriendRequests\n\t\t\t\t\t\t\tfriendRequests={friendRequests}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div className=\"notifications\">\n\t\t\t<div className={`notifications-header ${showPendingTickets}`}>\n\t\t\t\t<div className={pendingTickets.length === 0 ? \"zero\" : null}>\n\t\t\t\t\t<MdNotifications />{pendingTickets.length}\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>Pending Tickets</p>\n\t\t\t\t\t{showPendingTickets ? (\n\t\t\t\t\t\t<GoTriangleDown className=\"arrow\" onClick={() => setShowPendingTickets(false)} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<GoTriangleUp className=\"arrow\" onClick={() => setShowPendingTickets(true)} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{showPendingTickets ? (\n\t\t\t\t\t<div className=\"notifications-list\">\n\t\t\t\t\t\t<PendingTickets\n\t\t\t\t\t\t\tpendingTickets={pendingTickets}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div className=\"notifications\">\n\t\t\t<div className={`notifications-header ${showBorrows}`}>\n\t\t\t\t\t<div className={borrows.length === 0 ? \"zero\" : null}>\n\t\t\t\t\t\t<MdNotifications />{borrows.length}\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>Items You're Currently Borrowing</p>\n\t\t\t\t\t{showBorrows ? (\n\t\t\t\t\t\t<GoTriangleDown className=\"arrow\" onClick={() => setShowBorrows(false)} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<GoTriangleUp className=\"arrow\" onClick={() => setShowBorrows(true)} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t\t{showBorrows ? (\n\t\t\t\t\t\t<div className=\"notifications-list\">\n\t\t\t\t\t\t\t<ActiveBorrows\n\t\t\t\t\t\t\t\tborrows={borrows}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t</div>\n\t\t\t<div className=\"notifications\">\n\t\t\t<div className={`notifications-header ${showLoans}`}>\n\t\t\t\t\t<div className={loans.length === 0 ? \"zero\" : null}>\n\t\t\t\t\t\t<MdNotifications />{loans.length}\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>Your Items Currently on Loan</p>\n\t\t\t\t\t{showLoans ? (\n\t\t\t\t\t\t<GoTriangleDown className=\"arrow\" onClick={() => setShowLoans(false)} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<GoTriangleUp className=\"arrow\" onClick={() => setShowLoans(true)} />\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t\t{showLoans ? (\n\t\t\t\t\t\t<div className=\"notifications-list\">\n\t\t\t\t\t\t\t<ActiveLoans\n\t\t\t\t\t\t\t\tloans={loans}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Dashboard;","import React from \"react\";\nimport Feed from \"./feed/Feed\";\nimport Dashboard from \"./dashboard/Dashboard\";\nimport \"./Home.css\";\n\nfunction Home({ onClickItem }) {\n\treturn (\n\t\t<div className=\"home\">\n\t\t\t<Dashboard\n\t\t\t/>\n\t\t\t<Feed\n\t\t\t\tonClickItem={onClickItem}\n\t\t\t/>\n\t</div>\n\t);\n}\n\nexport default Home;","import React from \"react\";\nimport Logo from \"./borrow-logo.png\";\nimport \"./Welcome.css\";\n\nfunction Welcome() {\n\treturn (\n\t\t<div className=\"welcome\">\n\t\t\t<div className=\"welcome-card\">\n\t\t\t\t<img src={Logo} alt=\"logo\" />\n\t\t\t\t<div className=\"welcome-text\">\n\t\t\t\t\t<h1>lemmeBorrow</h1>\n\t\t\t\t\t<p className=\"two-line\">an app for giving, getting back,<br/>and keeping track of your belongings</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Welcome;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAGmCAMAAAA9C8ymAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOJgAADiYBou8l/AAAAKhQTFRFAAAA4hER/8rK/8vL/8zM/83N/87O/8/P/9DQ/9HR/9LS/9PT/9TU/9XV/9bW/9fX/9jY/9ra/9zc/97e/+Dg/+Hh/+Pj/+Tk/+Xl/+bm/+jo/+np/+rq/+vr/+zs/+fn/+Li/9/f/9vb/9nZ/+3t/+/v//Dw//Ly//Pz//T0//X1//b2//f3//j4//n5//r6//z8//39//v7/+7u/93d//7+//////HxtEA5ggAAADh0Uk5TAP////////////////////////////////////////////////////////////////////////+1/GPFAAARK0lEQVR4nO2biXYbNxJFh5Ft7ftCy9S+i6QkS7Ki//+z6aacOE5E8VUVgEID757MmZmTHKBR9xJNyTP/+9/79EhnmaIUx/sAJATUT6ifUH/10H/1UH/10H/10H/10H/t0H/t0H/1MIDaof/aof/aYQC1Q/+1wwBqh/5rhwHUDgOoHPqvHQZQOwygdhhA5TCA2mEAlcMAaocBVA4DqB0GUDsMoHIYQO0wgMphAJUjCeAP0gXkBTCA0hAGwALKI04ALKBDSApgACUiCIAFFAkDqB08ABZQJngBcAAsoFPAAfAKKJMIAbCATgEHwALKBA+AL4EiiREAC+gSeAC8AookRgAsoEMIAmABJSIJgC+BAokTAAvoDKIAeAWUhywAFlAcsQJgAR1BGACvgNKIFgAL6AbSAFhAYYgD4EugLCIGwAK6gDwAXgFFETMAFtABFAGwgJLQBMCXQEHEDYAFZI8qAF4B5aALgAUUQ+wAWEDmKAPgFeBAlGFHD4AFhAAft3Tg2gBYQEIk+qUTVwfAl0AqpPplM08QAAswofEvmLk+AF4BSdD5x4eeIgAWoEfrHx46sNK0AFhAfNT64aEDC00NgC+B6Oj1o1MH1gkQAAvQoXaPDx1YZ3oAvALionePTx1Y5oMAWEBU9OrxoQPLBAmABShQmxfMHFjmowB4BUREb14wdGCVMAGwADFq75KZA6t8GAALiIfau2TkwCofB8CXQDT04gUjB1YJFQALEKL2Lpk4sMqMAHgFxEIvXjBxYJVgAbAAGWrv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\"","import React, { useState, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport { MdCancel } from \"react-icons/md\";\nimport \"./SignUp.css\";\n\nconst initialState = {\n\tfirst_name: \"\",\n\tlast_name: \"\",\n\temail: \"\",\n\tusername: \"\",\n\tavatar: \"\",\n\tpassword: \"\",\n\tpassword_confirmation: \"\"\n}\n\nfunction SignUp({ showSignup, setShowSignup }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [formData, setFormData] = useState(initialState);\n\tconst [errors, setErrors] = useState([]);\n\n\t// ---------- Form Handling ----------\n\n\tfunction handleChange(e) {\n\t\tconst { name, value } = e.target;\n\t\tsetFormData({...formData, [name]: value});\n\t}\n\n\tfunction handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\tfetch(\"/users\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(formData),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\t// Store JWT token\n\t\t\t\t\t\tlocalStorage.setItem(\"jwt\", data.token);\n\t\t\t\t\t\tsetShowSignup(false);\n\t\t\t\t\t\tsetActiveUser(data.user);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => setErrors(data.errors));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t// ---------- Conditionally Render Signup Modal ----------\n\t\n\tif (!showSignup) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"signup\">\n\t\t\t<div className=\"signup-container\">\n\t\t\t\t<div className=\"signup-header\">\n\t\t\t\t\t<p>Create Account</p>\n\t\t\t\t\t<MdCancel\n\t\t\t\t\t\tonClick={() => setShowSignup(false)}\n\t\t\t\t\t\tsize=\"27\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<label><p>First Name:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.first_name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Last Name:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"last_name\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.last_name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Email:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.email}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Username:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Password:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Confirm Password:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"password_confirmation\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.password_confirmation}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<button className=\"signup-btn\">Sign Up</button>\n\t\t\t\t\t\t<ul className=\"errors\">\n\t\t\t\t\t\t\t{errors.map((error) => (\n\t\t\t\t\t\t\t\t<li key={error}>{error}</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SignUp;","import React, { useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport \"./ItemInfo.css\";\n\nfunction ItemInfo({ item, setShowItem, tickets, handleClickTag }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [isDeleting, setIsDeleting] = useState(false);\n\n\tconst { id, description, status, tags, owner, borrower} = item;\n\n\t// ---------- Render Item Status and Edit Item Button ----------\n\n\tfunction renderStatusBar() {\n\t\t// If item belongs to active user\n\t\tif (activeUser.id === owner.id) {\n\t\t\t// Item has no active or pending tickets\n\t\t\tif (tickets.length < 1) {\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"item-status-bar\">\n\t\t\t\t\t\t<p>Item is Currently in Your Cupboard</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setShowItem({item: item, mode: \"edit\"})}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tEdit Item\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)\n\t\t\t// If item has active tickets, it cannot be edited\n\t\t\t} else {\n\t\t\t\tconst message = status === \"home\" ? \"in Your Cupboard\" : `Being Borrowed by ${borrower.first_name}`\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"item-status-bar\">\n\t\t\t\t\t\tItem is Currently {message}\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}\n\t\t// If item does not belong to active user\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<Link to={`/user/${owner.id}`}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"user-card\"\n\t\t\t\t\t\tonClick={() => setShowItem({ item: null, mode: \"\" })}\n\t\t\t\t\t>\t\n\t\t\t\t\t\t<div><img src={owner.avatar} alt=\"avatar\" /></div>\n\t\t\t\t\t\t<p>Belongs to: {owner.first_name} {owner.last_name}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</Link>\n\t\t\t);\n\n\t\t}\n\t}\n\n\t// ---------- Delete Item ----------\n\n\tfunction handleDelete() {\n\t\tfetch(`/items/${id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((item) => {\n\t\t\t\t\t\tsetShowItem({item: null, mode: \"\"})\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t// ---------- Only Render Delete Button if Item Belongs to Active user ----------\n\n\tfunction renderDeleteButton() {\n\t\t// Item belongs to active user\n\t\tif (activeUser.id === owner.id) {\n\t\t\t// And has no active tikets\n\t\t\tif (tickets.length < 1) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{/* Warn user before permanently deleting */}\n\t\t\t\t\t\t{isDeleting ? (\n\t\t\t\t\t\t\t<button className=\"delete-item delete-2\" onClick={handleDelete}>\n\t\t\t\t\t\t\t\tConfirm Delete\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"delete-item delete-1\"\n\t\t\t\t\t\t\t\tonClick={() => setIsDeleting(true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tDelete Item?\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn (\n\t\t\t\t\t<p className=\"delete-item delete-1\">You Cannot Edit or Delete Item with Pending Tickets</p>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"item-info\">\n\t\t\t{renderStatusBar()}\n\t\t\t<div\n\t\t\t\tstyle={{backgroundImage: `url(${item.image})` }}\n\t\t\t\tclassName=\"item-image\"\n\t\t\t>\n\t\t\t</div>\n\t\t\t<p className=\"description\">{description}</p>\n\t\t\t<div className=\"tag-display\">\n\t\t\t\t{tags.map((tag) => (\n\t\t\t\t\t<button\n\t\t\t\t\t\tkey={tag}\n\t\t\t\t\t\tonClick={() => handleClickTag(tag)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{tag}\n\t\t\t\t\t</button>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t{renderDeleteButton()}\n\t\t</div>\n\t);\n}\n\nexport default ItemInfo;","import React, { useEffect, useState } from \"react\";\nimport \"./EditItem.css\";\n\nfunction EditItem({ item, setShowItem }) {\n\n\t// ---------- Form Handling ----------\n\n\tconst initialState = {\n\t\tname: item.name,\n\t\timage: item.image,\n\t\tdescription: item.description,\n\t\t// Reformat tags for proper display\n\t\ttags: item.tags.join(\"; \") + \";\"\n\t}\n\n\tconst [formData, setFormData] = useState(initialState);\n\tconst [tagCards, setTagCards] = useState([]);\n\n\tfunction handleChange(e) {\n\t\tconst { value, name } = e.target;\n\t\tsetFormData({...formData, [name]: value});\n\t}\n\n\t// ---------- Format Tag Cards ----------\n\n\tuseEffect(() => {\n\t\t// Use setTimeout so there isn't \"typewriter\" effect\n\t\tconst updateTagCards = setTimeout(() => {\n\t\t// Remove semi-colons\n\t\tconst arr = formData.tags.split(/\\s*;\\s*/gm);\n\t\t// Filter out empty elements and grab first five\n\t\tconst filteredArr = arr.filter((el) => el !== \"\").splice(0, 5);\n\t\t// Add lowercase tags to a set to account for uniqueness\n\t\tconst set = new Set();\n\t\tfilteredArr.forEach((el) => set.add(el.toLowerCase()));\n\t\t// Render tag cards\n\t\tsetTagCards(Array.from(set));\n\t\t}, 300);\n\n\t\treturn () => {\n\t\t\tclearTimeout(updateTagCards);\n\t\t}\n\t}, [formData.tags]);\n\n\t// ---------- Submit Edited Item ----------\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\t// If image left blank, use most current image\n\t\tif (formData.image === \"\") {\n\t\t\tsetFormData({...formData, image: item.image});\n\t\t}\n\t\tfetch(`/items/${item.id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t...formData,\n\t\t\t\ttags: tagCards,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((item) => {\n\t\t\t\t\t\t// Hide modal\n\t\t\t\t\t\tsetShowItem({item: item, mode: \"\"});\n\t\t\t\t\t\tsetFormData(initialState);\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\n\treturn (\n\t\t<div className=\"edit-item\">\n\t\t\t<div className=\"edit-item-header\">\n\t\t\t\t<p>Edit Item</p>\n\t\t\t\t<button onClick={() => setShowItem({item: item, mode: \"\"})}>\n\t\t\t\t\tBack\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<label><p>Item Name:</p>\n\t\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={formData.name}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label><p>Image:</p>\n\t\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"image\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={formData.image}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label><p>Description:</p>\n\t\t\t\t\t<textarea\n\t\t\t\t\tname=\"description\"\n\t\t\t\t\trows=\"5\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={formData.description}\n\t\t\t\t\t>\n\t\t\t\t\t</textarea>\n\t\t\t\t</label>\n\t\t\t\t<label className=\"tags-label\"><p>Tags:</p>\n\t\t\t\t\t<div className=\"edit-tags\">\n\t\t\t\t\t\t<div className=\"instructions\">\n\t\t\t\t\t\t\t<p>maximum five tags separated by a semi-colon</p>\n\t\t\t\t\t\t\t<p>tags must be unique</p>\n\t\t\t\t\t\t\t<p>book; sci-fi; used;</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\tname=\"tags\"\n\t\t\t\t\t\trows=\"2\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={formData.tags}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t<div className=\"tag-display\">\n\t\t\t\t\t\t\t{tagCards.map((tag) => (\n\t\t\t\t\t\t\t\t<p key={tag}>{tag}</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<button className=\"update-item-btn\">Update Item</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nexport default EditItem;","import React, { useState, useEffect, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport \"./CreateItem.css\";\n\nconst initialState = {\n\tname: \"\",\n\timage: \"\",\n\tdescription: \"\",\n\ttags: \"\",\n}\n\nfunction CreateItem({ setShowItem }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [formData, setFormData] = useState(initialState);\n\tconst [tagCards, setTagCards] = useState([]);\t\n\n\t// ---------- Render Tag Cards to Confirm Correct Format ----------\n\n\tuseEffect(() => {\n\t\t// Use setTimeout so there isn't \"typewriter\" effect\n\t\tconst updateTagCards = setTimeout(() => {\n\t\t// Remove semi-colons\n\t\tconst arr = formData.tags.split(/\\s*;\\s*/gm);\n\t\t// Filter out empty elements and grab first five\n\t\tconst filteredArr = arr.filter((el) => el !== \"\").splice(0, 5);\n\t\t// Add lowercase tags to a set to account for uniqueness\n\t\tconst set = new Set();\n\t\tfilteredArr.forEach((el) => set.add(el.toLowerCase()));\n\t\t// Render tag cards\n\t\tsetTagCards(Array.from(set));\n\t\t}, 300);\n\n\t\treturn () => {\n\t\t\tclearTimeout(updateTagCards);\n\t\t}\n\t}, [formData.tags]);\n\n\t// ---------- Submit New Item ----------\n\n\tfunction handleChange(e) {\n\t\tconst { value, name } = e.target;\n\t\tsetFormData({...formData, [name]: value});\n\t}\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst newItem = {\n\t\t\tname: formData.name,\n\t\t\timage: formData.image,\n\t\t\tdescription: formData.description,\n\t\t\towner_id: activeUser.id,\n\t\t\ttags: tagCards,\n\t\t\tstatus: \"home\"\n\t\t}\n\t\tfetch(\"/items\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify(newItem),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((item) => {\n\t\t\t\t\t\tsetShowItem({item: null, mode: \"\"});\n\t\t\t\t\t\tsetFormData(initialState);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<div className=\"edit-item\">\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<label><p>Item Name:</p>\n\t\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"name\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={formData.name}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label><p>Image:</p>\n\t\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"image\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={formData.image}\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t<label><p>Description:</p>\n\t\t\t\t\t<textarea\n\t\t\t\t\tname=\"description\"\n\t\t\t\t\trows=\"5\"\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tvalue={formData.description}\n\t\t\t\t\t>\n\t\t\t\t\t</textarea>\n\t\t\t\t</label>\n\t\t\t\t<label className=\"tags-label\"><p>Tags:</p>\n\t\t\t\t\t<div className=\"edit-tags\">\n\t\t\t\t\t\t<div className=\"instructions\">\n\t\t\t\t\t\t\t<p>maximum five tags separated by a semi-colon</p>\n\t\t\t\t\t\t\t<p>tags must be unique</p>\n\t\t\t\t\t\t\t<p>book; sci-fi; used;</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<textarea\n\t\t\t\t\t\tname=\"tags\"\n\t\t\t\t\t\trows=\"2\"\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tvalue={formData.tags}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</textarea>\n\t\t\t\t\t\t<div className=\"tag-display\">\n\t\t\t\t\t\t\t{tagCards.map((tag) => (\n\t\t\t\t\t\t\t\t<p key={tag}>{tag}</p>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</label>\n\t\t\t\t<button className=\"update-item-btn\">Create Item</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nexport default CreateItem;","import React, { useContext} from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport { Link } from \"react-router-dom\";\nimport \"./TicketCard.css\"\n\nfunction TicketCard({ ticket, setItem }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\n\tconst { borrower, owner, return_date, overdue, status } = ticket;\n\n\t// ---------- Conditionally Render Message ----------\n \n\tfunction renderMessage() {\n\t\t// If not your item\n\t\tif (borrower.id === activeUser.id) {\n\t\t\t// If ticket has yet to be approved\n\t\t\tif (status === \"requested\") {\n\t\t\t\treturn \"You've requested to borrow this item\"\n\t\t\t// If you've been waitlisted\n\t\t\t} else if (status === \"waitlisted\") {\n\t\t\t\treturn \"You're on the waitlist to borrow this item\"\n\t\t\t// If ticket request has been approved\n\t\t\t} else if (status === \"approved\") {\n\t\t\t\treturn `${owner.first_name} has promised to lend you this item`\n\t\t\t// You're currently borrowing itme and it's overdue\n\t\t\t} else if (overdue) {\n\t\t\t\treturn \"You're currently borrowing this item, and it's overdue!\"\n\t\t\t// Otherwise, user is currently borrowing item, and item is not overdue\n\t\t\t} else {\n\t\t\t\treturn \"You're currently borrowing this item\"\n\t\t\t}\n\t\t// If your item\n\t\t} else {\n\t\t\t// Ticket has been requested but user has yet to approve\n\t\t\tif (status === \"requested\") {\n\t\t\t\treturn `${borrower.first_name} has requested to borrow this item`\n\t\t\t// Additional users have requested to borrow item\n\t\t\t} else if (status === \"waitlisted\") {\n\t\t\t\treturn `${borrower.first_name} has been waitlisted to borrow this item`\n\t\t\t// You've approved borrow request\n\t\t\t} else if (status === \"approved\") {\n\t\t\t\treturn `You've promised to lend this item to ${borrower.first_name}`\n\t\t\t} else if (overdue) {\n\t\t\t// Item is on loan and overdue\n\t\t\t\treturn `${borrower.first_name} was supposed to return this item on ${return_date}!`\n\t\t\t} else {\n\t\t\t\t// Item is currently on loan but not overdue\n\t\t\t\treturn `${borrower.first_name} is currently borrowing this item`\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"ticket-card\">\n\t\t\t<p>{renderMessage()}</p>\n\t\t\t<Link to={`/ticket/${ticket.id}`} onClick={() => setItem(null)}>\n\t\t\t\t<button>View Ticket</button>\n\t\t\t</Link>\n\t\t</div>\n\t);\n}\n\nexport default TicketCard;","import React from \"react\";\nimport TicketCard from \"./TicketCard\";\nimport \"./ItemTickets.css\"\n\nfunction ItemTickets({ tickets }) {\n\t\n\treturn (\n\t\t<div className=\"tickets-container\">\n\t\t\t{tickets.map((ticket) => (\n\t\t\t\t<TicketCard\n\t\t\t\t\tkey={ticket.id}\n\t\t\t\t\tticket={ticket}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nexport default ItemTickets;","import React, { useEffect, useState, useContext } from \"react\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport ItemInfo from \"./ItemInfo\";\nimport EditItem from \"./EditItem\";\nimport CreateItem from \"./CreateItem\";\nimport ItemTickets from \"./ItemTickets\";\nimport { MdCancel } from \"react-icons/md\";\nimport \"./ItemDisplay.css\";\n\nfunction ItemDisplay({ showItem, setShowItem, setShowSearch, setQuery }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [isLoading, setIsLoading] = useState(true)\n\tconst [tickets, setTickets] = useState([]);\n\tconst [friendStatus, setFriendStatus] = useState(null);\n\t\n\tconst { item, mode } = showItem;\n\n\tconst navigate = useNavigate();\n\n\t// ---------- Request Friend Status Between Active User & Item Owner ----------\n\n\tuseEffect(() => {\n\t\t// Don't need to request friend status if adding new item\n\t\tif (activeUser && item && mode !== \"add\") {\n\t\t\t// Don't need to request friend status if your own item\n\t\t\tif (activeUser.id !== item.owner.id) {\n\t\t\t\tfetch(`/friend_statuses/user/${activeUser.id}/friend/${item.owner.id}`)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.ok) {\n\t\t\t\t\t\tres.json().then(data => setFriendStatus(data.status.mode));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres.json().then(data => console.log(data));\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}, [activeUser, item, mode]);\n\n\t// ---------- Fetch Pending Tickets Depending on User/Item Relationship ----------\n\n\tuseEffect(() => {\n\t\tsetTickets([]);\n\t\tsetIsLoading(true);\n\t\t// Don't need to request pending tickets if adding new item\n\t\tif (activeUser && item && mode !== \"add\") {\n\t\t\tfetch(`/pending_tickets/item/${item.id}/user/${activeUser.id}}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((tickets) => {\n\t\t\t\t\t\tsetTickets(tickets);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\n\t}, [activeUser, item, mode])\n\n\t// ---------- Create New Ticket Upon Borrow Request ----------\n\n\tfunction handleCreateTicketRequest() {\n\t\tfetch(\"/tickets\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\titem_id: item.id,\n\t\t\t\towner_id: item.owner.id,\n\t\t\t\tborrower_id: activeUser.id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((ticket) => {\n\t\t\t\t\t\t// Navigate to ticket page and hide modal\n\t\t\t\t\t\tnavigate(`/ticket/${ticket.id}`);\n\t\t\t\t\t\tsetShowItem({item: null, mode: \"\"});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t}))\n\t}\n\n\t// ---------- Conditionally Render Display Mode ----------\n\n\tfunction renderDisplay() {\n\t\tswitch (mode) {\n\t\t\tcase \"edit\":\n\t\t\t\treturn (\n\t\t\t\t\t<EditItem\n\t\t\t\t\t\titem={item}\n\t\t\t\t\t\tsetShowItem={setShowItem}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tcase \"add\":\n\t\t\t\treturn (\n\t\t\t\t\t<CreateItem\n\t\t\t\t\t\tsetShowItem={setShowItem}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\tdefault:\n\t\t\t\treturn (\n\t\t\t\t\t<ItemInfo\n\t\t\t\t\t\titem={item}\n\t\t\t\t\t\tsetShowItem={setShowItem}\n\t\t\t\t\t\ttickets={tickets}\n\t\t\t\t\t\thandleClickTag={handleClickTag}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t}\n\t}\n\n\t// ---------- Conditionally Render Associated Tickets ----------\n\n\tfunction renderBorrowActions() {\n\t\t// No associated tickets if creating a new item\n\t\tif (mode === \"add\") {\n\t\t\treturn null;\n\t\t\t// If item has active or pending tickets associated with active user (as owner or borrower)\n\t\t} else if (tickets.length > 0) {\n\t\t\treturn (\n\t\t\t\t<ItemTickets\n\t\t\t\t\ttickets={tickets}\n\t\t\t\t\tactiveUser={activeUser}\n\t\t\t\t\tsetShowItem={setShowItem}\n\t\t\t\t/>\n\t\t\t);\n\t\t\t// If item is not yours and has no tickets associated with active user\n\t\t} else if (activeUser.id !== item.owner.id) {\n\t\t\t\t// If you're friends with item owner\n\t\t\t\tif (friendStatus === \"Friends\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"lemme-borrow-btn\"\n\t\t\t\t\t\t\tonClick={handleCreateTicketRequest}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tlemme borrow !\n\t\t\t\t\t\t</button>\n\t\t\t\t\t);\n\t\t\t\t// If you're not friends with item owner\n\t\t\t\t} else if (friendStatus === \"Not Friends\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link to={`user/${item.owner.id}`}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"neutral-borrow-btn\"\n\t\t\t\t\t\t\t\tonClick={() => setShowItem({item: null, mode: \"\"})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tFriend {item.owner.first_name} to Borrow Item\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t// If item owner has yet to respond to your friend request\n\t\t\t\t} else if (friendStatus === \"Pending Response\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link to={`user/${item.owner.id}`}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"neutral-borrow-btn\"\n\t\t\t\t\t\t\t\tonClick={() => setShowItem({item: null, mode: \"\"})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tFriend {item.owner.first_name} to Borrow Item\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t// If active user has yet to respond to item owner's friend request\n\t\t\t\t} else if (friendStatus === \"Pending Action\") {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Link to={`user/${item.owner.id}`}>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"neutral-borrow-btn\"\n\t\t\t\t\t\t\t\tonClick={() => setShowItem({item: null, mode: \"\"})}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRespond to {item.owner.first_name}'s Friend Request to Borrow Item\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t}\n\t}\n\n\t// ---------- Trigger Search When Tag Clicked ----------\n\n\tfunction handleClickTag(tag) {\n\t\t// Hide item display and trigger search display modal\n\t\tsetShowItem({item: null, mode: \"\"});\n\t\tsetQuery(tag);\n\t\tsetShowSearch({ show: true, mode: \"items\"});\n\t}\n\t\n\t// ---------- Conditionally Render Item Modal ----------\n\n\tif (!item) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"item-display\">\n\t\t\t{isLoading && mode !== \"add\" ? null : (\n\t\t\t\t<div className=\"item-display-container\">\n\t\t\t\t\t<div className=\"item-display-header\">\n\t\t\t\t\t\t<p>{mode === \"add\" ? \"Add New Item\" : item.name}</p>\n\t\t\t\t\t\t<MdCancel\n\t\t\t\t\t\tonClick={() => setShowItem({item: null, mode: \"\"})}\n\t\t\t\t\t\tsize=\"27\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t{renderDisplay()}\n\t\t\t\t\t{renderBorrowActions()}\n\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default ItemDisplay;","import React from \"react\";\nimport \"./SearchResult.css\";\n\nfunction SearchResult({ result, type, onClickResult }) {\n\n\t// ---------- Render Search Card Based on User or Item ----------\n\n\tfunction renderSearchCard() {\n\t\tif (type === \"user\") {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<div><img src={result.avatar} alt=\"avatar\" /></div>\n\t\t\t\t\t<p>{result.first_name} {result.last_name}</p>\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<div><img src={result.image} alt=\"item\" /></div>\n\t\t\t\t\t<p>{result.name}</p>\n\t\t\t\t</>\n\t\t\t)\n\t\t}\n\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`search-result ${type}-card`}\n\t\t\tonClick={() => onClickResult(result.id)}\n\t\t>\n\t\t\t{renderSearchCard()}\n\t\t</div>\n\t);\n}\n\nexport default SearchResult;","import React, { useState, useEffect, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport SearchResult from \"./SearchResult\";\nimport { Link } from \"react-router-dom\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport { MdCancel } from \"react-icons/md\";\nimport \"./SearchDisplay.css\";\n\nfunction SearchDisplay({ showSearch, setShowSearch, query, setQuery, onClickItem }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [searchInput, setSearchInput] = useState(\"\");\n\tconst [users, setUsers] = useState([]);\n\tconst [items, setItems] = useState([]);\n\n\t// ---------- Form Handling ----------\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tsetQuery(searchInput);\n\t}\n\n\t// Perform search based on category: users or items\n\tuseEffect(() => {\n\t\tif (showSearch.show) {\n\t\t\tsetSearchInput(query)\n\t\t\t// Focus on search display form input (and blur search input in nav bar)\n\t\t\tdocument.getElementById(\"search-display-input\").focus();\n\t\t\t// Request search results based on category\n\t\t\tfetch(`/${showSearch.mode === \"users\" ? \"users\" : \"items\"}/search/${activeUser.id}`, {\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tquery: query\n\t\t\t\t})\n\t\t\t})\n\t\t\t\t.then((res) => {\n\t\t\t\t\tif (res.ok) {\n\t\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\t\tif (showSearch.mode === \"users\") {\n\t\t\t\t\t\t\t\tsetUsers(data);\n\t\t\t\t\t\t\t} else if (showSearch.mode === \"items\") {\n\t\t\t\t\t\t\t\tsetItems(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tres.json().then((users) => console.log(users));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t}, [query, activeUser, showSearch]);\n\n\t// ---------- Debouncing: Delayed Search on Input Change ----------\n\n\tuseEffect(() => {\n\t\tconst delayedSearch = setTimeout(() => {\n\t\t\tsetQuery(searchInput);\n\t\t}, 500);\n\n\t\treturn () => {\n\t\t\tclearTimeout(delayedSearch);\n\t\t} \n\t}, [searchInput, setQuery]);\n\n\t// ---------- Render Search Results ----------\n\n\tfunction renderSearchResults() {\n\t\t// Search by user\n\t\tif (showSearch.mode === \"users\" && users.length > 0) {\n\t\t\treturn (\n\t\t\t\tusers.map((user) => (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tkey={user.id}\n\t\t\t\t\t\tonClick={onClickEx}\n\t\t\t\t\t\tto={`/user/${user.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SearchResult\n\t\t\t\t\t\t\tresult={user}\n\t\t\t\t\t\t\ttype=\"user\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Link>\n\t\t\t\t))\n\t\t\t)\n\t\t// Search by item\n\t\t} else if (showSearch.mode === \"items\" && items.length > 0) {\n\t\t\treturn (\n\t\t\t\titems.map((item) => (\n\t\t\t\t\t<SearchResult\n\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\tresult={item}\n\t\t\t\t\t\ttype=\"item\"\n\t\t\t\t\t\tonClickResult={handleClickResult}\n\t\t\t\t\t/>\n\t\t\t\t))\n\t\t\t);\n\t\t} else {\n\t\t\treturn (\n\t\t\t\t<p style={{color: \"var(--speed-cadet\"}}>no results . . .</p>\n\t\t\t);\n\t\t}\n\t}\n\n\n\t// ---------- Show and Hide Search Modal ----------\n\n\tfunction onClickEx() {\n\t\tsetUsers([]);\n\t\tsetItems([]);\n\t\tsetShowSearch({show: false, mode: \"\"});\n\t}\n\t\n\tfunction handleClickResult(id) {\n\t\tonClickEx();\n\t\t// Trigger item display modal\n\t\tonClickItem(id);\n\t}\n\n\tif (!showSearch.show) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"search-display\">\n\t\t\t<div className=\"search-display-container\">\n\t\t\t\t<div className=\"search-display-header\">\n\t\t\t\t\t<p>Search Results</p>\n\t\t\t\t\t<MdCancel\n\t\t\t\t\t\tonClick={onClickEx}\n\t\t\t\t\t\tsize=\"27\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"search-body\">\n\t\t\t\t\t<div className=\"search-bar\">\n\t\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tid=\"search-display-input\"\n\t\t\t\t\t\t\t\tvalue={searchInput}\n\t\t\t\t\t\t\t\tplaceholder={`search by ${showSearch.mode === \"users\" ? \"user\" : \"item or tag\"}`}\n\t\t\t\t\t\t\t\tonChange={(e) => setSearchInput(e.target.value)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<button className=\"search-icon\">\n\t\t\t\t\t\t\t\t<AiOutlineSearch/>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t\t<div className=\"filter\">\n\t\t\t\t\t\t\t<div className=\"filter-btns\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`search-${showSearch.mode === \"users\"} ${showSearch.mode}`}\n\t\t\t\t\t\t\t\t\tonClick={() => setShowSearch({show: true, mode: \"users\"})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUsers\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName={`search-${showSearch.mode === \"items\"} ${showSearch.mode}`}\n\t\t\t\t\t\t\t\t\tonClick={() => setShowSearch({show: true, mode: \"items\"})}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tItems\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"filter-bottom\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"search-results\">\n\t\t\t\t\t\t{renderSearchResults()}\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SearchDisplay;","import React, { useState, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../../context/active_user\";\nimport { MdCancel } from \"react-icons/md\";\nimport \"./EditProfile.css\";\n\nfunction EditProfile({ showEditProfile, setShowEditProfile}) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\t\n\tconst initialState = {\n\t\tfirst_name: activeUser.first_name,\n\t\tlast_name: activeUser.last_name,\n\t\tusername: activeUser.username,\n\t\tavatar: activeUser.avatar,\n\t\tcurrent_password: \"\",\n\t\tpassword: \"\",\n\t\tpassword_confirmation: \"\"\n\t}\n\n\tconst [formData, setFormData] = useState(initialState);\n\tconst [showUpdatePassword, setShowUpdatePassword] = useState(false);\n\n\t// ---------- Form Handling ----------\n\n\tfunction handleChange(e) {\n\t\tconst { name, value } = e.target;\n\t\tsetFormData({...formData, [name]: value});\n\t}\n\n\tfunction handleSubmit(event) {\n\t\tevent.preventDefault();\n\t\t// If user didn't provide avatar, keep avatar the same\n\t\tif (formData.avatar === \"\") {\n\t\t\tsetFormData({...formData, avatar: activeUser.avatar});\n\t\t}\n\t\tfetch(`/users/${activeUser.id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t...formData,\n\t\t\t\t// Include boolean value to let backend know whether user is updating their password\n\t\t\t\tnew_password: showUpdatePassword\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((user) => {\n\t\t\t\t\t\tsetShowEditProfile(false);\n\t\t\t\t\t\tsetActiveUser(user);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t// ---------- Conditionally Render Edit Profile Modal ----------\n\n\tif (!showEditProfile) {\n\t\treturn null;\n\t}\n\n\tfunction onClickEx() {\n\t\tsetFormData(activeUser);\n\t\tsetShowUpdatePassword(false);\n\t\tsetShowEditProfile(false);\n\t}\n\n\treturn (\n\t\t<div className=\"signup\">\n\t\t\t<div className=\"signup-container\">\n\t\t\t\t<div className=\"signup-header\">\n\t\t\t\t\t<p>Edit My Profile</p>\n\t\t\t\t\t<MdCancel\n\t\t\t\t\t\tonClick={onClickEx}\n\t\t\t\t\t\tsize=\"27\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<label><p>First Name:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"first_name\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.first_name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Last Name:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"last_name\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.last_name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Username:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.username}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Avatar:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"avatar\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.avatar}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label><p>Enter Your Current Password:</p>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tname=\"current_password\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\tvalue={formData.current_password}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\n\t\t\t\t\t\t{/* ---------- Update Password ========== */}\n\t\t\t\t\t\t\n\t\t\t\t\t\t{showUpdatePassword ? (\n\t\t\t\t\t\t\t<div className=\"new-password\">\n\t\t\t\t\t\t\t\t<div className=\"update-password-header\">\n\t\t\t\t\t\t\t\t\t<p>Update Password</p>\n\t\t\t\t\t\t\t\t\t<button onClick={() => setShowUpdatePassword(false)}>\n\t\t\t\t\t\t\t\t\t\tNever Mind\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<label><p>New Password:</p>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tvalue={formData.password}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<label><p>Confirm New Password:</p>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tname=\"password_confirmation\"\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tvalue={formData.password_confirmation}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"update-password\"\n\t\t\t\t\t\t\t\tonClick={() => setShowUpdatePassword(true)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tUpdate Password?\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button>Update Profile</button>\n\t\t\t\t</form>\n\t\t\t</div>\t\n\t\t</div>\n\t);\n}\n\nexport default EditProfile;","import React from \"react\";\nimport \"./FriendCard.css\";\n\nfunction FriendCard({ friend }) {\n\treturn (\n\t\t<div className=\"friend-card\">\n\t\t\t<div><img src={friend.avatar} alt=\"avatar\" /></div>\n\t\t\t<p>{friend.first_name} {friend.last_name}</p>\n\t\t</div>\n\t);\n}\n\nexport default FriendCard;","import React from \"react\";\nimport FriendCard from \"./FriendCard\";\nimport { Link } from \"react-router-dom\";\nimport { MdCancel } from \"react-icons/md\";\nimport \"./MyFriends.css\";\n\nfunction MyFriends({ friends, showFriends, setShowFriends, profile }) {\n\n\t// ---------- Conditionally Render Friends Modal ----------\n\n\tif (!showFriends) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"my-friends\">\n\t\t\t<div className=\"friends-container\">\n\t\t\t\t<div className=\"friends-header\">\n\t\t\t\t\t<p>{profile.is_active ? \"My Friends\" : `${profile.user.first_name}'s Friends`}</p>\n\t\t\t\t\t<MdCancel\n\t\t\t\t\t\tonClick={() => setShowFriends(false)}\n\t\t\t\t\t\tsize=\"27\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"friends-list\">\n\t\t\t\t\t{friends.map((friend) => (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tkey={friend.id}\n\t\t\t\t\t\t\tto={`/user/${friend.id}`}\n\t\t\t\t\t\t\tonClick={() => setShowFriends(false)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FriendCard friend={friend}/>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default MyFriends;","import React, { useState, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../../context/active_user\";\nimport EditProfile from \"./EditProfile\";\nimport MyFriends from \"../friends/MyFriends\";\nimport \"./UserInfo.css\";\n\nfunction UserInfo({ profile, setProfile, isUnfriending, setIsUnfriending, friends, setFriends, onClickAddItem }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [showEditProfile, setShowEditProfile] = useState(false);\n\tconst [showFriends, setShowFriends] = useState(false);\n\n\t// ---------- Trigger Friends Modal and Request Friends ----------\n\n\tfunction onClickShowFriends() {\n\t\tfetch(`/friendships/user/${profile.user.id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tsetIsUnfriending(false);\n\t\t\t\t\tsetShowFriends(true);\n\t\t\t\t\tres.json().then((friends) => setFriends(friends));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t// ---------- Friendings, Unfriending & Accepting Friend Requests ----------\n\n\t// Unfriend\n\tfunction handleUnfriend() {\n\t\t// Include ID of friendship instance\n\t\tfetch(`/friendships/${profile.friend_status.id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((status) => setProfile({\n\t\t\t\t\t\t...profile,\n\t\t\t\t\t\tfriend_status: status,\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\talert(data.error);\n\t\t\t\t\t\tsetIsUnfriending(false);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t// Send friend request\n\tfunction handleSendFriendRequest() {\n\t\tfetch(\"/friend_requests\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\trequester_id: activeUser.id,\n\t\t\t\treceiver_id: profile.user.id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((status) => setProfile({\n\t\t\t\t\t\t...profile,\n\t\t\t\t\t\tfriend_status: status,\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t// Accept friend request\n\tfunction handleAcceptFriendRequest() {\n\t\tfetch(\"/friendships\", {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tuser_id: activeUser.id,\n\t\t\t\tfriend_id: profile.user.id,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((status) => setProfile({\n\t\t\t\t\t\t...profile,\n\t\t\t\t\t\tfriend_status: status,\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t// Decline friend request\n\tfunction handleDeclineFriendRequest() {\n\t\tfetch(`/friend_requests/${profile.friend_status.id}`, {\n\t\t\tmethod: \"DELETE\",\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((status) => setProfile({\n\t\t\t\t\t\t...profile,\n\t\t\t\t\t\tfriend_status: status,\n\t\t\t\t\t}));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\t// ---------- Render Buttons Based on Friend Status ----------\n\n\tfunction renderButtons() {\n\t\t// On active user's page\n\t\tif (profile.is_active) {\n\t\t\treturn (\n\t\t\t\t<div className=\"user-actions\">\n\t\t\t\t\t<button className=\"user-btn\" onClick={onClickAddItem}>\n\t\t\t\t\t\tAdd Item\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"user-btn\" onClick={() => setShowEditProfile(true)}>\n\t\t\t\t\t\tEdit My Profile\n\t\t\t\t\t</button>\n\t\t\t\t\t<button className=\"user-btn\" onClick={onClickShowFriends}>\n\t\t\t\t\t\tMy Friends\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\tswitch (profile.friend_status.mode) {\n\t\t\t\t// Active user is friends with profile user\n\t\t\t\tcase \"Friends\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"user-actions\">\n\t\t\t\t\t\t\t{isUnfriending ? (\n\t\t\t\t\t\t\t\t<div className=\"unfriend-container\">\n\t\t\t\t\t\t\t\t\t<p>Are You Sure?</p>\n\t\t\t\t\t\t\t\t\t<button className=\"yes\" onClick={handleUnfriend}>\n\t\t\t\t\t\t\t\t\t\tYes\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t<button className=\"no\" onClick={() => setIsUnfriending(false)}>\n\t\t\t\t\t\t\t\t\t\tNo\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<button className=\"user-btn\" onClick={() => setIsUnfriending(true)}>\n\t\t\t\t\t\t\t\t\tUnfriend {profile.user.first_name}\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<button className=\"user-btn\" onClick={onClickShowFriends}>\n\t\t\t\t\t\t\t\tView {profile.user.first_name}'s' Friends\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t// Profile user has yet to respond to active user's friend request\n\t\t\t\tcase \"Pending Response\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"user-actions\">\n\t\t\t\t\t\t\t<button className=\"user-btn\">\n\t\t\t\t\t\t\t\tFriend Request Pending . . .\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t// Active user has yet to respond to profile user's friend request\n\t\t\t\tcase \"Pending Action\":\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"user-actions\">\n\t\t\t\t\t\t\t<button className=\"user-btn\" onClick={handleAcceptFriendRequest}>\n\t\t\t\t\t\t\t\tAccept {profile.user.first_name}'s Friend Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button className=\"user-btn\" onClick={handleDeclineFriendRequest}>\n\t\t\t\t\t\t\t\tDecline {profile.user.first_name}'s Friend Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t// Default: not friends\n\t\t\t\tdefault:\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div className=\"user-actions\">\n\t\t\t\t\t\t\t<button className=\"user-btn\" onClick={handleSendFriendRequest}>\n\t\t\t\t\t\t\t\tFriend {profile.user.first_name}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{/* ---------- Modals ---------- */}\n\n\t\t\t<EditProfile\n\t\t\t\tshowEditProfile={showEditProfile}\n\t\t\t\tsetShowEditProfile={setShowEditProfile}\n\t\t\t/>\n\t\t\t<MyFriends\n\t\t\t\tprofile={profile}\n\t\t\t\tfriends={friends}\n\t\t\t\tshowFriends={showFriends}\n\t\t\t\tsetShowFriends={setShowFriends}\n\t\t\t/>\n\n\t\t\t{/* ---------- */}\n\n\t\t\t<div className=\"user-info\">\n\t\t\t\t<div className=\"user-info-top\">\n\t\t\t\t\t<p className=\"user-info-header\">{profile.is_active ? \"My\" : profile.user.first_name + \"'s\"} Cupboard</p>\n\t\t\t\t\t<img src={profile.user.avatar} alt=\"avatar\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"user-info-bottom\">\n\t\t\t\t\t<p className=\"user-info-subheader\">{profile.user.first_name} {profile.user.last_name}</p>\n\t\t\t\t\t{renderButtons()}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default UserInfo;","import React from \"react\";\nimport \"./CupboardCard.css\";\n\nfunction CupboardCard({ item, onClickItem }) {\n\n\treturn (\n\t\t<div className=\"cupboard-card\"\n\t\t\tonClick={() => onClickItem(item.id)}\n\t\t>\n\t\t\t<div style={{backgroundImage: `url(${item.image})` }}>\n\t\t\t</div>\n\t\t\t<p>{item.name}</p>\n\t\t</div>\n\t);\n}\n\nexport default CupboardCard;","import React from \"react\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport \"./CupboardSearch.css\";\n\nfunction CupboardSearch({ total, count, setCount, sort, setSort, setQuery, searchInput, setSearchInput, itemsLength}) {\n\n\t// ---------- Form Handling ----------\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tsetSort(\"newest\");\n\t\tsetQuery(searchInput);\n\t}\n\n\tfunction onClickClear() {\n\t\tsetSort(\"newest\");\n\t\tsetQuery(\"\");\n\t\tsetSearchInput(\"\");\n\t}\n\n\treturn (\n\t\t<div className=\"cupboard-nav\">\n\t\t\t<div className={`cupboard-pagination hide-${total <= 20}`}>\n\t\t\t\t{itemsLength === 0 ? \"No Items\" : (\n\t\t\t\t\t<p>{count + 1}-{count + itemsLength} of {total}</p>\n\t\t\t\t)}\n\t\t\t\t{total <= 20 ? null : (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setCount(count => count - 20)}\n\t\t\t\t\t\t\tdisabled={count === 0}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPrev\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => setCount(count => count + 20)}\n\t\t\t\t\t\t\tdisabled={itemsLength < 20 || count + itemsLength === total}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"cupboard-search\">\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={searchInput}\n\t\t\t\t\t\tplaceholder=\"search by name or tag\"\n\t\t\t\t\t\tonChange={(e) => setSearchInput(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className=\"search-icon\"><AiOutlineSearch/></button>\n\t\t\t\t</form>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"clear\"\n\t\t\t\t\tonClick={onClickClear}>\n\t\t\t\t\t\tClear Search\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<select\n\t\t\t\tclassName=\"cupboard-sort\"\n\t\t\t\tname=\"sort\"\n\t\t\t\tvalue={sort}\n\t\t\t\tonChange={(e) => setSort(e.target.value)}\n\t\t\t>\n\t\t\t\t<option value=\"newest\">Newest to Oldest</option>\n\t\t\t\t<option value=\"oldest\">Oldest to Newest</option>\n\t\t\t</select>\n\t\t</div>\n\t);\n}\n\nexport default CupboardSearch;","import React, { useState, useEffect } from \"react\";\nimport CupboardCard from \"./CupboardCard\";\nimport CupboardSearch from \"./CupboardSearch\";\nimport \"./Cupboard.css\";\n\nfunction Cupboard({ profile, onClickItem }) {\n\tconst [items, setItems] = useState([]);\n\tconst [total, setTotal] = useState(\"\");\n\tconst [count, setCount] = useState(0);\n\tconst [sort, setSort] = useState(\"newest\")\n\tconst [searchInput, setSearchInput] = useState(\"\");\n\tconst [query, setQuery] = useState(\"\");\n\n\t// ---------- Debouncing: Delayed Search on Input Change ----------\n\n\tuseEffect(() => {\n\t\tconst delayedSearch = setTimeout(() => {\n\t\t\tsetSort(\"newest\");\n\t\t\tsetQuery(searchInput);\n\t\t}, 500);\n\n\t\treturn () => {\n\t\t\tclearTimeout(delayedSearch);\n\t\t} \n\t}, [searchInput]);\n\n\t// ---------- Grab 20 Items at a Time Per Search Conditions ----------\n\n\tuseEffect(() => {\n\t\tfetch(`/items/belongings/${profile.user.id}`, {\n\t\t\tmethod: \"POST\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\t// Pass along search conditions to back end\n\t\t\t\tcount: count,\n\t\t\t\tsort: sort,\n\t\t\t\tquery: query,\n\t\t\t}),\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\tsetItems(data.items);\n\t\t\t\t\t\tsetTotal(data.total);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t}, [profile, count, sort, query]);\n\n\treturn (\n\t\t<div className=\"cupboard\">\n\t\t\t<CupboardSearch\n\t\t\t\tcount={count}\n\t\t\t\tsetCount={setCount}\n\t\t\t\tsort={sort}\n\t\t\t\tsetSort={setSort}\n\t\t\t\tsetQuery={setQuery}\n\t\t\t\tsearchInput={searchInput}\n\t\t\t\tsetSearchInput={setSearchInput}\n\t\t\t\titemsLength={items.length}\n\t\t\t\ttotal={total}\n\t\t\t/>\n\t\t\t<div className=\"items-container\">\n\t\t\t{items.map((item) => (\n\t\t\t\t<CupboardCard\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\titem={item}\n\t\t\t\t\tonClickItem={onClickItem}\n\t\t\t\t/>\n\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Cupboard;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport UserInfo from \"./user/UserInfo\";\nimport Cupboard from \"./cupboard/Cupboard\";\nimport \"./Profile.css\";\n\nfunction Profile({ onClickItem, onClickAddItem }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [profile, setProfile ] = useState(null);\n\tconst [friends, setFriends] = useState([]);\n\tconst [isUnfriending, setIsUnfriending] = useState(false);\n\n\tconst params = useParams();\n\n\t// ---------- Render User From URL Parameter ----------\n\n\tuseEffect(() => {\n\t\tsetIsUnfriending(false);\n\t\tsetFriends([]);\n\t\t// If we're on our own proflile page, no additional server request necessary\n\t\tif (activeUser.id === parseInt(params.user_id)) {\n\t\t\tsetProfile({\n\t\t\t\tuser: activeUser,\n\t\t\t\tis_active: true,\n\t\t\t});\n\t\t// If not our own page, request friend status between profile user and active user\n\t\t} else {\n\t\t\tfetch(`/friend_statuses/user/${activeUser.id}/friend/${params.user_id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\tsetProfile({\n\t\t\t\t\t\t\tuser: data.user,\n\t\t\t\t\t\t\tis_active: false,\n\t\t\t\t\t\t\tfriend_status: data.status,\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}, [params, activeUser]);\n\n\t// ---------- Conditionally Render Profile Page ----------\n\n\tif (!profile) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<UserInfo\n\t\t\t\tprofile={profile}\n\t\t\t\tsetProfile={setProfile}\n\t\t\t\tisUnfriending={isUnfriending}\n\t\t\t\tsetIsUnfriending={setIsUnfriending}\n\t\t\t\tfriends={friends}\n\t\t\t\tsetFriends={setFriends}\n\t\t\t\tonClickAddItem={onClickAddItem}\n\t\t\t/>\n\t\t\t{/* Only show cupboard if our own page or page of a friend */}\n\t\t\t{profile.is_active || profile.friend_status.mode === \"Friends\" ? (\n\t\t\t\t<Cupboard\n\t\t\t\tprofile={profile}\n\t\t\t\tonClickItem={onClickItem}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</div>\n\t);\n}\n\nexport default Profile;","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nexport const fetchMessages = createAsyncThunk(\"messages/fetchMessage\", (ticket_id) => {\n\treturn fetch(`/messages/ticket/${ticket_id}`)\n\t\t.then((res) => res.json())\n\t\t.then((messages) => messages);\n});\n\nexport const messageAdded = createAsyncThunk(\"messages/messageAdded\", (message) => {\n\treturn fetch(\"/messages/\", {\n\t\tmethod: \"POST\",\n\t\theaders: {\n\t\t\t\"Content-Type\": \"application/json\",\n\t\t},\n\t\tbody: JSON.stringify(message),\n\t})\n\t\t.then((res) => res.json())\n\t\t.then((message) => message);\n});\n\nconst messagesSlice = createSlice({\n  name: \"messages\",\n  initialState: {\n    entities: [],\n\t\tstatus: \"idle\",\n  },\n\textraReducers: {\n\t\t[fetchMessages.pending](state) {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[fetchMessages.fulfilled](state, action) {\n\t\t\tstate.entities = action.payload;\n\t\t\tstate.status = \"idle\";\n\t\t},\n\t\t[messageAdded.pending](state) {\n\t\t\tstate.status = \"loading\";\n\t\t},\n\t\t[messageAdded.fulfilled](state, action) {\n\t\t\tstate.entities.unshift(action.payload);\n\t\t},\n\t}\n});\n\nexport default messagesSlice.reducer;","import React, { useState, useEffect } from \"react\";\nimport \"./Controls.css\";\n\n// Grab current date and reformat to match date input\nconst today = new Date().toISOString().slice(0, 10);\n\nfunction Controls({ ticket, isOwner, date, setDate, onClickDelete, onClickApprove, onClickReceive, onSetReturnDate }) {\n\tconst [dateIsChanged, setDateIsChanged] = useState(false);\n\n\tconst { owner, borrower, return_date, status } = ticket;\n\n\t// ---------- Date Handling & Form Submission ----------\n\n\tfunction onChangeDate(e) {\n\t\tsetDate(e.target.value)\n\t\tsetDateIsChanged(true);\n\t}\n\n\tfunction handleSubmitDate(e) {\n\t\te.preventDefault()\n\t\tsetDateIsChanged(false);\n\t\tonSetReturnDate();\n\t}\n\n\t// Reset date button after form has been inactive\n\tuseEffect(() => {\n\t\tconst resetDateForm = setTimeout(() => {\n\t\t\tsetDateIsChanged(false);\n\t\t\tsetDate(return_date);\n\t\t}, 5000);\n\n\t\treturn () => {\n\t\t\tclearTimeout(resetDateForm);\n\t\t}\n\t}, [dateIsChanged, ticket] );\n\n\t// ---------- Render Control Buttons ----------\n\n\tfunction renderButtons() {\n\t\t// ---------- ROLE: BORROWER ----------\n\t\tif (!isOwner) {\n\t\t\t// Step 0 - Item is already being requested/borrowed by a different user\n\t\t\tif (status === \"waitlisted\") {\n\t\t\t\t// In the meantime, you can cancel your request\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">This ticket has been waitlisted . . .</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\tCancel Your Pending Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\t\t\t// Step 1 - Owner has yet to respond to your request\n\t\t\telse if (status === \"requested\") {\t\n\t\t\t\t// In the meantime, you can cancel your request\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">Waiting for {owner.first_name} to respond . . .</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\tCancel Your Pending Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t// Step 2 - Your request has been approved\n\t\t\t} else if (status === \"approved\") {\n\t\t\t\t// You can either 1) mark when item is received or 2) delete the ticket\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">Let {owner.first_name} know when you've received the item . . .</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<button onClick={onClickReceive}>\n\t\t\t\t\t\t\t\t\tItem Received\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\t\tCancel Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t// Step 3 - You receive the item. No actions.\n\t\t\t} else if (status === \"on loan\") {\n\t\t\t\t// No actions\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">You're currently borrowing this item from {owner.first_name}. The ticket cannot be deleted until the item has been returned.</p>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\n\t\t\t} \n\t\t// ---------- ROLE: OWNER ----------\n\t\t} else {\n\t\t// Step 0 - Item is already being requested/borrowed by a different user\n\t\t\tif (status === \"waitlisted\") {\n\t\t\t\t// In the meantime, you can cancel your request\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">This ticket has been waitlisted!</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\tDecline Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\n\t\t\t}\n\t\t// Step 1 - You have yet to respond to borrower's request\n\t\t\telse if (status === \"requested\") {\n\t\t\t\t// You can either 1) approve request or 2) delete the ticket\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">Respond to {borrower.first_name}'s request . . .</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<button onClick={onClickApprove}>\n\t\t\t\t\t\t\t\tApprove Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\tDecline Request\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t// Step 2 - You approved the request\n\t\t\t} else if (status === \"approved\") {\n\t\t\t\t// You can 1) delete the ticket. Otherwise, wait for borrower to confirm receipt.\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">Waiting for {borrower.first_name} to receive the item . . .</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\t\tDelete Ticket\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t// Step 3 - Your item has been received and is being borrowed\n\t\t\t} else if (status === \"on loan\") {\n\t\t\t\t// You can either 1) set or reset a return date or 2) mark when the item has been returned\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p className=\"controls-header\">Let us know when you get your item back!</p>\n\t\t\t\t\t\t<div className=\"control-btns\">\n\t\t\t\t\t\t\t<form className=\"date-form\" onSubmit={handleSubmitDate}>\n\t\t\t\t\t\t\t\t{dateIsChanged ? (\n\t\t\t\t\t\t\t\t\t<button className={`date-change-${dateIsChanged}`}>\n\t\t\t\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<button disabled>Set Desired Return Date</button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\t\t\t\tname=\"return_date\"\n\t\t\t\t\t\t\t\t\tmin={today}\n\t\t\t\t\t\t\t\t\tvalue={date}\n\t\t\t\t\t\t\t\t\tonChange={onChangeDate}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</form>\t\t\t\t\t\n\t\t\t\t\t\t\t<button onClick={onClickDelete}>\n\t\t\t\t\t\t\t\tItem Returned! Close Ticket\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t// ----------\n\n\treturn (\n\t\t<div className=\"controls\">\n\t\t\t{renderButtons()}\n\t\t</div>\n\t);\n}\n\nexport default Controls;","import React, { useState, useEffect, useContext } from \"react\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport { useDispatch } from \"react-redux\";\nimport { messageAdded } from \"../../slices/messagesSlice\";\nimport Controls from \"./Controls\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./ItemPanel.css\"\n\nfunction ItemPanel({ ticket, setTicket, isOwner }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [date, setDate] = useState(ticket.return_date);\n\tconst [item, setItem] = useState(null);\n\n\tconst { owner, return_date, id } = ticket;\n\n\tconst navigate = useNavigate();\n\n\tconst dispatch = useDispatch();\n\n\t// ---------- Render Item Info ----------\n\n\tuseEffect(() => {\n\t\tif (ticket) {\n\t\t\tfetch(`/items/${ticket.item.id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((item) => setItem(item));\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [ticket])\n\n\t// ---------- Reformat Date ----------\n\n\tlet formattedDate;\n\n\tif (return_date !== \"\") {\n\t\tlet str = return_date;\n\t\tlet dd;\n\t\tlet mm;\n\n\t\tif (str[5] === \"0\") {\n\t\t\tmm = str.slice(6, 7);\n\t\t} else {\n\t\t\tmm = str.slice(5, 7);\n\t\t}\n\n\t\tif (str[8] === \"0\") {\n\t\t\tdd = str.slice(9, 10);\n\t\t} else {\n\t\t\tdd = str.slice(8, 10);\n\t\t}\n\n\t\tlet yyyy = str.slice(0, 4);\n\t\tformattedDate = `${mm}/${dd}/${yyyy}`;\n\t}\n\n\t// ---------- Ticket CRUD ----------\n\n\t// Undo or decline request\n\tfunction handleDeleteTicket() {\n\t\tfetch(`/tickets/close/${id}/user/${activeUser.id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((data) => {\n\t\t\t\t\t\tnavigate(`/user/${activeUser.id}`)\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\t// Approve request\n\tfunction handleApproveTicket() {\n\t\tfetch(`/tickets/approve/${id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((payload) => {\n\t\t\t\t\t\tsetTicket(payload.ticket);\n\t\t\t\t\t\t// Render automated message\n\t\t\t\t\t\tdispatch(messageAdded(payload.message));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\t// Borrower marks item as received\n\tfunction handleReceiveItem() {\n\t\tfetch(`/tickets/receive/${id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((payload) => {\n\t\t\t\t\t\tsetTicket(payload.ticket);\n\t\t\t\t\t\t// Render automated message\n\t\t\t\t\t\tdispatch(messageAdded(payload.message));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\t// Owner sets/updates desired return date\n\tfunction handleSetReturnDate() {\n\t\tfetch(`/tickets/date/${id}`, {\n\t\t\tmethod: \"PATCH\",\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t\tbody: JSON.stringify({return_date: date}),\n\t\t})\n\t\t\t.then((res => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((payload) => {\n\t\t\t\t\t\tsetTicket(payload.ticket);\n\t\t\t\t\t\t// Render automated message\n\t\t\t\t\t\tdispatch(messageAdded(payload.message));\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t}));\n\t}\n\n\t// ---------- Conditionally Render Page ----------\n\n\tif (!item) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<div className=\"item-panel\">\n\t\t\t<p className=\"item-panel-header\">{item.name}</p>\n\t\t\t<img src={item.image} alt={item.name} />\n\t\t\t<div className=\"item-panel-body\">\n\t\t\t\t<p><span>Owner:</span> {isOwner ? \"You\" : owner.first_name}</p>\n\t\t\t\t<p><span>Description:</span> {item.description}</p>\n\t\t\t\t<p><span>Tags:</span> {item.tags.join(\", \")}</p>\n\t\t\t</div>\n\t\t\t<div className=\"return-date\">\n\t\t\t\t<p>Return Date: {return_date ? formattedDate : \"--\"}</p>\n\t\t\t\t{ticket.overdue ? <span>Overdue</span> : null}\n\t\t\t</div>\n\t\t\t<Controls \n\t\t\t\tticket={ticket}\n\t\t\t\tisOwner={isOwner}\n\t\t\t\tdate={date}\n\t\t\t\tsetDate={setDate}\n\t\t\t\tonClickDelete={handleDeleteTicket}\n\t\t\t\tonClickApprove={handleApproveTicket}\n\t\t\t\tonClickReceive={handleReceiveItem}\n\t\t\t\tonSetReturnDate={handleSetReturnDate}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default ItemPanel;","import React, { useState } from \"react\";\nimport \"./MessageForm.css\";\n\nfunction MessageForm({ sender, receiver, ticket, handleSubmitMessage}) {\n\tconst [text, setText] = useState(\"\");\n\n\t// ---------- Form Handling ----------\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tconst newMessage = {\n\t\t\tsender_id: sender.id,\n\t\t\treceiver_id: receiver.id,\n\t\t\tticket_id: ticket.id,\n\t\t\ttext: text,\n\t\t\tautomated: false\n\t\t}\n\t\thandleSubmitMessage(newMessage);\n\t\tsetText(\"\");\n\t}\n\n\treturn (\n\t\t<div className=\"message-form\">\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input\n\t\t\t\t\trequired\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tname=\"text\"\n\t\t\t\t\tonChange={(e) => setText(e.target.value)}\n\t\t\t\t\tvalue={text}\n\t\t\t\t/>\n\t\t\t\t<button>send</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n}\n\nexport default MessageForm;","import React, { useContext} from \"react\";\nimport { ActiveUserContext } from \"../../../context/active_user\";\nimport \"./Message.css\";\n\nfunction Message({ message }) {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\n\tlet mode;\n\n\tlet formattedMessage = message.text\n\n\t// ---------- Conditional Styling of Messages ---------\n\t\n\tif (message.automated) {\n\t\tmode = \"automated\";\n\t\tformattedMessage = `Automated Message: ${message.text}`\n\t} else if (message.sender_id === activeUser.id) {\n\t\tmode = \"sender\";\n\t} else {\n\t\tmode = \"receiver\";\n\t}\n\t\n\treturn (\n\t\t<div\n\t\t\tclassName={`message ${mode}`}\n\t\t>\n\t\t\t{formattedMessage}\n\t\t</div>\n\t);\n}\n\nexport default Message;","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { messageAdded, fetchMessages } from \"../../../slices/messagesSlice\";\nimport MessageForm from \"./MessageForm\";\nimport Message from \"./Message\";\nimport \"./Messenger.css\";\n\nfunction Messenger({ ticket, isOwner, params }) {\n\tconst [left, setLeft] = useState({});\n\tconst [right, setRight] = useState({});\n\n\tconst messages = useSelector((state) => state.messages.entities);\n\n\tconst navigate = useNavigate();\n\n\tconst dispatch = useDispatch();\n\n\t// ---------- Render Messages ----------\n\n\tuseEffect(() => {\n\t\tif (ticket) {\n\t\t\tdispatch(fetchMessages(ticket.id));\n\t\t}\n\t}, [ticket, dispatch]);\n\n\t// ---------- Submit New Message ----------\n\n\tfunction handleSubmitMessage(message) {\n\t\tdispatch(messageAdded(message));\n\t}\n\n\t// ---------- Orient Messenger Orientation Based on Active user\n\n\tuseEffect(() => {\n\t\tif (isOwner) {\n\t\t\tsetLeft(ticket.owner);\n\t\t\tsetRight(ticket.borrower);\n\t\t} else {\n\t\t\tsetLeft(ticket.borrower);\n\t\t\tsetRight(ticket.owner);\n\t\t}\n\t}, [ticket, isOwner]);\n\n\treturn (\n\t\t<div className=\"messenger-container\">\n\t\t\t<div className=\"messenger\">\n\t\t\t\t<div className=\"messenger-header\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"user-pic\"\n\t\t\t\t\t\t\tsrc={left.avatar}\n\t\t\t\t\t\t\talt=\"avatar\"\n\t\t\t\t\t\t\tonClick={() => navigate(`/user/${left.id}`)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p>{left.first_name}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"logo\">lemmeBorrow</p>\n\t\t\t\t\t<div>\n\t\t\t\t\t<p>{right.first_name}</p>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tclassName=\"user-pic\"\n\t\t\t\t\t\t\tsrc={right.avatar}\n\t\t\t\t\t\t\talt=\"avatar\"\n\t\t\t\t\t\t\tonClick={() => navigate(`/user/${right.id}`)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"message-list\">\n\t\t\t\t\t{messages.map((message) => (\n\t\t\t\t\t\t<Message\n\t\t\t\t\t\t\tkey={message.id}\n\t\t\t\t\t\t\tmessage={message}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<MessageForm\n\t\t\t\t\tsender={left}\n\t\t\t\t\treceiver={right}\n\t\t\t\t\tticket={ticket}\n\t\t\t\t\thandleSubmitMessage={handleSubmitMessage}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Messenger;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { ActiveUserContext } from \"../../context/active_user\";\nimport ItemPanel from \"./ItemPanel\";\nimport Messenger from \"./messenger/Messenger\";\nimport \"./Ticket.css\";\n\nfunction Ticket() {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [isAuthorized, setIsAuthorized] = useState(false);\n\tconst [ticket, setTicket] = useState(null);\n\tconst [isOwner, setIsOwner] = useState(false);\n\n\tconst params = useParams();\n\n\t// ---------- Render Ticket ----------\n\n\tuseEffect(() => {\n\t\tif (activeUser) {\n\t\t\tfetch(`/tickets/${params.ticket_id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((ticket) => {\n\t\t\t\t\t\tsetTicket(ticket);\n\t\t\t\t\t\t// Determine whether active user is owner or borrower\n\t\t\t\t\t\tif (ticket.owner.id === activeUser.id) {\n\t\t\t\t\t\t\tsetIsAuthorized(true);\n\t\t\t\t\t\t\tsetIsOwner(true);\n\t\t\t\t\t\t} else if (ticket.borrower.id === activeUser.id) {\n\t\t\t\t\t\t\tsetIsAuthorized(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}, [activeUser, params]);\n\n\t// ---------- Authorization and Page Rendering ----------\n\n\tif (!isAuthorized) {\n\t\treturn <p className=\"ticket-not-found\">Ticket Not Found or No Longer Exists</p>\n\t}\n\n\tif (!ticket) {\n\t\treturn <p className=\"ticket-not-found\">Loading . . .</p>\n\t}\n\n\treturn (\n\t\t<div className=\"ticket\">\n\t\t\t<ItemPanel\n\t\t\t\tticket={ticket}\n\t\t\t\tsetTicket={setTicket}\n\t\t\t\tisOwner={isOwner}\n\t\t\t/>\n\t\t\t<Messenger\n\t\t\t\tticket={ticket}\n\t\t\t\tisOwner={isOwner}\n\t\t\t\tparams={params}\n\t\t/>\n\t\t</div>\n\t);\n}\n\nexport default Ticket;","import React, { useState, useEffect, useContext } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\nimport { ActiveUserContext } from \"./context/active_user\";\nimport Header from \"./components/header/Header\";\nimport Home from \"./components/home/Home\";\nimport Welcome from \"./components/welcome/Welcome\";\nimport SignUp from \"./components/welcome/SignUp\";\nimport ItemDisplay from \"./components/item_display/ItemDisplay\";\nimport SearchDisplay from \"./components/search/SearchDisplay\";\nimport Profile from \"./components/profile/Profile\";\nimport Ticket from \"./components/ticket/Ticket\";\n\nfunction App() {\n\tconst [activeUser, setActiveUser] = useContext(ActiveUserContext);\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\t// Modals\n\tconst [showSignup, setShowSignup] = useState(false);\n\tconst [showItem, setShowItem] = useState(false);\n\tconst [showSearch, setShowSearch] = useState(false);\n\tconst [query, setQuery] = useState(\"\");\n\n\t// ---------- Render Active User on Reload ----------\n\n\t// Grab active user via JWT token stored in local storage\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"jwt\");\n\t\tif (token && !activeUser) {\n\t\t\tfetch(\"/profile\", {\n\t\t\t\theaders: {\n\t\t\t\t\ttoken: token,\n\t\t\t\t\t\"Content-Type\": \"application/json\"\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((activeUser) => {\n\t\t\t\t\t\tsetActiveUser(activeUser);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tres.json().then((data) => console.log(data));\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tsetIsLoading(false);\n\t\t}\n\t}, [activeUser]);\n\n\t// If active user, render home dashboard. Otherwise, load welcome page with login/signup.\n\tfunction renderElement() {\n\t\treturn activeUser ? (\n\t\t\t<Home\n\t\t\t\tonClickItem={handleClickItem}\n\t\t\t/>\n\t\t) : <Welcome />;\n\t}\n\n\t// ---------- Render Item Display ----------\n\n\t// When item clicked (on feed or on cupboard page), fetch item and display item modal.\n\tfunction handleClickItem(id) {\n\t\tsetShowItem(true);\n\t\tfetch(`/items/${id}`)\n\t\t\t.then((res) => {\n\t\t\t\tif (res.ok) {\n\t\t\t\t\tres.json().then((item) => {\n\t\t\t\t\t\t// showItem state stores payload of item and mode. Mode determines display (show, edit, add)\n\t\t\t\t\t\tsetShowItem({item: item, mode: \"\"});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// User clicks on item but owner may have deleted\n\t\t\t\t\tres.json().then((data) => alert(data.error));\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t// ---------- Render Search Display ----------\n\n\tfunction handleSearch(searchInput) {\n\t\tif (searchInput !== \"\") {\n\t\t\t// showSearch state stores payload of boolean to display modal and mode, which determines whether default search category will be \"users\" or \"items\"\n\t\t\tsetShowSearch({show: true, mode: \"users\"});\n\t\t\tsetQuery(searchInput);\n\t\t\t// Blur nav search input (and focus on input in SearchDisplay modal)\n\t\t\tdocument.getElementById(\"nav-search-input\").blur();\n\t\t}\n\t}\n\n\t// ---------- Render App ----------\n\n\tif (isLoading) {\n\t\treturn null;\n\t}\n\n  return (\n    <div className=\"App\">\n\n\t\t\t {/* ---------- Modals ========== */}\n\n\t\t\t<ItemDisplay\n\t\t\t\tsetShowItem={setShowItem}\n\t\t\t\tshowItem={showItem}\n\t\t\t\tsetShowSearch={setShowSearch}\n\t\t\t\tsetQuery={setQuery}\n\t\t\t/>\n\t\t\t<SearchDisplay\n\t\t\t\tshowSearch={showSearch}\n\t\t\t\tsetShowSearch={setShowSearch}\n\t\t\t\tquery={query}\n\t\t\t\tsetQuery={setQuery}\n\t\t\t\tonClickItem={handleClickItem}\n\t\t\t/>\n\t\t\t<SignUp\n\t\t\t\tshowSignup={showSignup}\n\t\t\t\tsetShowSignup={setShowSignup}\n\t\t\t/>\n\n\t\t\t{/* ---------- Nav ========== */}\n\n\t\t\t<Header\n\t\t\t\tsetShowSignup={setShowSignup}\n\t\t\t\tonSearch={handleSearch}\n\t\t\t/>\n\n\t\t\t{/* ---------- Routes ========== */}\n\n\t\t\t<Routes>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/user/:user_id\"\n\t\t\t\t\telement={activeUser ? (\n\t\t\t\t\t\t<Profile\n\t\t\t\t\t\t\tonClickItem={handleClickItem}\n\t\t\t\t\t\t\tonClickAddItem={() => setShowItem({item: true, mode: \"add\"})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : null}\n\t\t\t\t/>\n\t\t\t\t<Route\n\t\t\t\t\tpath=\"/ticket/:ticket_id\"\n\t\t\t\t\telement={\n\t\t\t\t\t\t<Ticket/>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<Route exact path=\"/\" element={renderElement()}\n\t\t\t\t/>\n\t\t\t</Routes>\n    </div>\n  );\n}\n\nexport default App;\n","import { configureStore } from \"@reduxjs/toolkit\";\n\nimport messagesReducer from \"./slices/messagesSlice\";\n\nconst store = configureStore({\n  reducer: {\n    messages: messagesReducer,\n  },\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { ActiveUserProvider } from './context/active_user';\nimport { Provider } from \"react-redux\";\nimport App from './App';\nimport store from \"./store\";\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n\t\t<Provider store={store}>\n\t\t\t<ActiveUserProvider>\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<App />\n\t\t\t\t</BrowserRouter>\n\t\t\t</ActiveUserProvider>\n\t\t</Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}